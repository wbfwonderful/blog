[{"title":"Hello World ğŸ‘‹","url":"/blog/hello-world/","content":"ğŸ˜æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ä½ ä¹Ÿè®¸å¯ä»¥çœ‹åˆ°ï¼š\n\nâœï¸å­¦ä¹ è®°å½•\nğŸ’»æŠ€æœ¯åˆ†äº«\nğŸ“‘æ—¥å¸¸æµæ°´è´¦\nâ€¦\n\n"},{"title":"ã€Kaggle Coursesã€‘3-æœºå™¨å­¦ä¹ ä»‹ç»","url":"/blog/Kaggle-course/intro-to-ML/","content":"Learn the core ideas in machine learning, and build your first models. Click here for more information.\n\n\næ¨¡å‹æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ\nThe first step.\n\nå¼•å…¥è€ƒè™‘ä»¥ä¸‹åœºæ™¯ï¼š\n\nä½ è¡¨å¼Ÿåšæˆ¿åœ°äº§æŠ•æœºèµšäº†å‡ ç™¾ä¸‡ç¾å…ƒã€‚å› ä¸ºä½ å¯¹æ•°æ®ç§‘å­¦æ„Ÿå…´è¶£ï¼Œä»–æå‡ºè¦å’Œä½ æˆä¸ºå•†ä¸šä¼™ä¼´ã€‚ä»–ä¼šæä¾›é’±ï¼Œä½ ä¼šæä¾›æ¨¡å‹æ¥é¢„æµ‹å„ç§æˆ¿å­çš„ä»·å€¼ã€‚\nä½ é—®ä½ çš„å ‚å…„ä»–è¿‡å»æ˜¯å¦‚ä½•é¢„æµ‹æˆ¿åœ°äº§ä»·å€¼çš„ï¼Œä»–è¯´è¿™åªæ˜¯ç›´è§‰ã€‚ä½†æ›´å¤šçš„è´¨ç–‘è¡¨æ˜ï¼Œä»–ä»è¿‡å»çœ‹è¿‡çš„æˆ¿å­ä¸­è¯†åˆ«å‡ºäº†ä»·æ ¼æ¨¡å¼ï¼Œå¹¶ç”¨è¿™äº›æ¨¡å¼æ¥é¢„æµ‹ä»–æ­£åœ¨è€ƒè™‘çš„æ–°æˆ¿ã€‚\nâ€¦\n\nè€ƒè™‘è¿™ä¸ªç®€å•çš„å†³ç­–æ ‘ï¼šå®ƒåªæŠŠæˆ¿å­åˆ†æˆä¸¤ç±»ã€‚æ‰€è€ƒè™‘çš„ä»»ä½•æˆ¿å±‹çš„é¢„æµ‹ä»·æ ¼éƒ½æ˜¯åŒä¸€ç±»åˆ«æˆ¿å±‹çš„å†å²å¹³å‡ä»·æ ¼ã€‚\né€šè¿‡æ•°æ®æ¥å†³å®šå¦‚ä½•å°†æˆ¿å±‹åˆ†ä¸ºä¸¤ç±»ï¼ŒåŒæ—¶å†³å®šå…¶é¢„æµ‹ä»·æ ¼ã€‚ä»æ•°æ®ä¸­æ•è·æ¨¡å¼çš„è¿™ä¸€æ­¥ç§°ä¸ºæ‹Ÿåˆ(fitting)æˆ–è®­ç»ƒ(training)æ¨¡å‹ã€‚ç”¨äºæ‹Ÿåˆæ¨¡å‹çš„æ•°æ®ç§°ä¸ºè®­ç»ƒæ•°æ®(training data)ã€‚\næ”¹è¿›å†³ç­–æ ‘ä»¥ä¸‹å“ªä¸ªå†³ç­–æ ‘æ›´æœ‰æ•ˆï¼Ÿå·¦è¾¹çš„å†³ç­–æ ‘ï¼ˆå†³ç­–æ ‘1ï¼‰å¯èƒ½æ›´æœ‰æ„ä¹‰ï¼Œå› ä¸ºå®ƒæŠ“ä½äº†ä¸€ä¸ªç°å®ï¼Œå³å§å®¤å¤šçš„æˆ¿å­å¾€å¾€æ¯”å§å®¤å°‘çš„æˆ¿å­å–å¾—æ›´é«˜ã€‚è¿™ç§æ¨¡å¼æœ€å¤§çš„ç¼ºç‚¹æ˜¯ï¼Œå®ƒæ²¡æœ‰è€ƒè™‘åˆ°å½±å“æˆ¿ä»·çš„å¤§å¤šæ•°å› ç´ ï¼Œæ¯”å¦‚æµ´å®¤æ•°é‡ã€åœ°å—å¤§å°ã€ä½ç½®ç­‰ã€‚\nå¯ä»¥ä½¿ç”¨å…·æœ‰æ›´å¤šâ€œåˆ†è£‚â€çš„æ ‘æ¥æ•è·æ›´å¤šå› ç´ ã€‚è¿™äº›æ ‘è¢«ç§°ä¸ºâ€œæ›´æ·±çš„â€æ ‘ã€‚è€ƒè™‘åˆ°æ¯æ ‹æˆ¿å­åœ°å—æ€»é¢ç§¯çš„å†³ç­–æ ‘å¯èƒ½æ˜¯è¿™æ ·çš„ï¼šæˆ¿å­çš„é¢„æµ‹ä»·æ ¼åœ¨è¿™æ£µæ ‘çš„åº•éƒ¨ã€‚æˆ‘ä»¬åšå‡ºé¢„æµ‹çš„åº•éƒ¨ç‚¹è¢«ç§°ä¸ºå¶å­ (leaf)ã€‚\nåˆæ­¥æ¢ç´¢æ•°æ®\nLoad and understand your data.\n\nä½¿ç”¨ Pandas æ¥åŠ è½½æ•°æ®Pandas æ˜¯æ•°æ®ç§‘å­¦å®¶ç”¨æ¥æ¢ç´¢å’Œæ“ä½œæ•°æ®çš„ä¸»è¦å·¥å…·ã€‚å¤§å¤šæ•°äººåœ¨ä»£ç ä¸­å°† pandas ç¼©å†™ä¸º pdï¼š\nimport pandas as pd\nPandas åº“ä¸­æœ€é‡è¦çš„éƒ¨åˆ†æ˜¯ DataFrameã€‚DataFrame ä¿å­˜äº†æ‚¨å¯èƒ½è®¤ä¸ºæ˜¯è¡¨çš„æ•°æ®ç±»å‹ã€‚è¿™ç±»ä¼¼äº Excel ä¸­çš„å·¥ä½œè¡¨æˆ– SQL æ•°æ®åº“ä¸­çš„è¡¨ã€‚\nä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥è¯»å– csv æ–‡ä»¶ï¼Œå¹¶è¿›è¡Œå±•ç¤ºï¼š\ndf = pd.read_csv(&#x27;my_csv.csv&#x27;)df.describe()\næ›´å¤šå…³äº pandas çš„ä»‹ç»ã€‚\nå¯¹æ•°æ®çš„è§£é‡ŠæŸä¸ª csv æ–‡ä»¶é€šè¿‡ .describe() å±•ç¤ºçš„ç»“æœä¸ºï¼š\n\nç»“æœä¸ºåŸå§‹æ•°æ®é›†ä¸­çš„æ¯åˆ—æ˜¾ç¤º8ä¸ªæ•°å­—ã€‚ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯ countï¼Œæ˜¾ç¤ºæœ‰å¤šå°‘è¡Œå…·æœ‰éç¼ºå¤±å€¼ã€‚\nç¼ºå¤±å€¼çš„äº§ç”Ÿæœ‰å¾ˆå¤šåŸå› ã€‚ä¾‹å¦‚ï¼Œåœ¨è°ƒæŸ¥ä¸€é—´å§å®¤çš„æˆ¿å­æ—¶ï¼Œä¸ä¼šæ”¶é›†ç¬¬äºŒé—´å§å®¤çš„å¤§å°ã€‚æˆ‘ä»¬å°†å›åˆ°ä¸¢å¤±æ•°æ®çš„è¯é¢˜ã€‚\n\n\nç¬¬äºŒä¸ªå€¼æ˜¯å‡å€¼ï¼Œä¹Ÿå°±æ˜¯å¹³å‡å€¼ã€‚åœ¨æ­¤ä¹‹ä¸‹ï¼Œstd æ˜¯æ ‡å‡†åå·®ï¼Œå®ƒè¡¡é‡æ•°å€¼çš„æ•°å€¼åˆ†å¸ƒã€‚\nåç»­äº”ä¸ªå€¼ï¼šå°†è¯¥åˆ—çš„æ•°æ®å‡åºæ’åºå½¢æˆä¸€ä¸ªåˆ—è¡¨ï¼Œåœ¨åˆ—è¡¨ä¸­èµ°å››åˆ†ä¹‹ä¸€ï¼Œä¼šå‘ç°ä¸€ä¸ªå¤§äº 25% ä¸”å°äº 75% çš„å€¼ã€‚è¿™æ˜¯ 25% çš„å®šä¹‰ã€‚\n\nç¬¬ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹\nBuilding your first model. Hurray!\n\né€‰æ‹©å»ºæ¨¡çš„æ•°æ®ä¸€æ¡æ•°æ®æœ‰å¾ˆå¤šå˜é‡ï¼Œå¦‚ä½•é€‰æ‹©åˆé€‚çš„å˜é‡ï¼Ÿæˆ‘ä»¬å…ˆç”¨ç›´è§‰é€‰å‡ ä¸ªå˜é‡ã€‚åé¢çš„è¯¾ç¨‹å°†å±•ç¤ºè‡ªåŠ¨ç¡®å®šå˜é‡ä¼˜å…ˆçº§çš„ç»Ÿè®¡æŠ€æœ¯ã€‚\né¦–å…ˆéœ€è¦æŸ¥çœ‹æ•°æ®é›†ä¸­æ‰€æœ‰åˆ—çš„åˆ—è¡¨ã€‚é€šè¿‡ DataFrame çš„ columns å±æ€§å®Œæˆï¼š\nimport pandas as pdmelbourne_file_path = &#x27;../input/melbourne-housing-snapshot/melb_data.csv&#x27;melbourne_data = pd.read_csv(melbourne_file_path) print(melbourne_data.columns)\nIndex([&#x27;Suburb&#x27;, &#x27;Address&#x27;, &#x27;Rooms&#x27;, &#x27;Type&#x27;, &#x27;Price&#x27;, &#x27;Method&#x27;, &#x27;SellerG&#x27;,       &#x27;Date&#x27;, &#x27;Distance&#x27;, &#x27;Postcode&#x27;, &#x27;Bedroom2&#x27;, &#x27;Bathroom&#x27;, &#x27;Car&#x27;,       &#x27;Landsize&#x27;, &#x27;BuildingArea&#x27;, &#x27;YearBuilt&#x27;, &#x27;CouncilArea&#x27;, &#x27;Lattitude&#x27;,       &#x27;Longtitude&#x27;, &#x27;Regionname&#x27;, &#x27;Propertycount&#x27;],      dtype=&#x27;object&#x27;)\næŸäº›æ•°æ®å¯èƒ½æœ‰ç¼ºå¤±å€¼ï¼Œåç»­è¯¾ç¨‹ä¼šè§£å†³ç¼ºå¤±å€¼ã€‚è¿™é‡Œç®€å•åœ°åˆ é™¤æœ‰ç¼ºå¤±çš„æ•°æ®ï¼Œé€šè¿‡ .dropna()ï¼š\nmelbourne_data = melbourne_data.dropna(axis=0)\næ³¨æ„ .dropna() ä¸ä¼šåœ¨å½“å‰ DataFrame ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè€Œæ˜¯ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œæ‰€ä»¥éœ€è¦èµ‹å€¼ç»™æ–°å¯¹è±¡ã€‚\nè·å– DataFrame å­é›†çš„æ–¹æ³•ï¼š\n\nä½¿ç”¨ç‚¹ .\nä½¿ç”¨ä¸€ä¸ªåˆ—ååˆ—è¡¨\n\né€‰æ‹©é¢„æµ‹ç›®æ ‡é€šè¿‡ç‚¹ . æ¥è®¿é—®æŸä¸ªå˜é‡çš„æ•°æ®ã€‚è¿™äº›æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ª Series ä¸­ï¼Œå®ƒå¤§è‡´ç±»ä¼¼äºåªæœ‰å•åˆ—æ•°æ®çš„ DataFrame ã€‚éœ€è¦é¢„æµ‹çš„å˜é‡ä¸º Price ï¼Œå®šä¹‰ä¸ºyï¼š\ny = melbourne_data.Price\n\né€‰æ‹©ç‰¹å¾â€œç‰¹å¾â€å®šä¹‰ä¸ºè¾“å…¥æ¨¡å‹çš„æ•°æ®åˆ—ï¼Œå¹¶åç»­ç”¨äºé¢„æµ‹ã€‚ä½¿ç”¨åˆ—ååˆ—è¡¨æ¥è·å–ï¼Œå¹¶å®šä¹‰ä¸º xï¼š\nmelbourne_features = [&#x27;Rooms&#x27;, &#x27;Bathroom&#x27;, &#x27;Landsize&#x27;, &#x27;Lattitude&#x27; &#x27;Longtitude&#x27;]x = melbourne_data[melbourne_features]\nä½¿ç”¨ .head() æ–¹æ³•æŸ¥çœ‹å¤´éƒ¨å‡ ä¸ªæ ·æœ¬ï¼š\nx.head()\n\næ„å»ºæ¨¡å‹ä½¿ç”¨ scikit-learn åŒ…æ¥åˆ›å»ºæ¨¡å‹ã€‚ä»£ç ä¸­å†™ä½œ sklearnã€‚\né€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¥æ„å»ºæ¨¡å‹ï¼š\n\nå®šä¹‰ï¼šæ¨¡å‹ç±»å‹ã€æ¨¡å‹å‚æ•°\næ‹Ÿåˆï¼ˆè®­ç»ƒï¼‰ï¼šä»æ•°æ®ä¸­å­¦ä¹ æ¨¡å¼\né¢„æµ‹ï¼šJust what it sounds likeï¼ˆåŸæ–‡ğŸ¤”ï¼‰\nè¯„ä¼°ï¼šç¡®å®šæ¨¡å‹çš„å‡†ç¡®åº¦\n\nä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š\nfrom sklearn.tree import DecisionTreeRegressor# Define model. Specify a number for random_state to ensure same results each runmelbourne_model = DecisionTreeRegressor(random_state=1)# Fit modelmelbourne_model.fit(X, y)\n\nè®¾ç½® random_state ç¡®ä¿åœ¨æ¯ä¸€ä¸ªè½®æ¬¡ä¸­è·å–ç›¸åŒçš„ç»“æœã€‚ä½†æ˜¯æ¨¡å‹çš„æ€§èƒ½å’Œè¿™ä¸ªæ•°å­—æ— å…³ã€‚\nç°åœ¨ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹æ¥é¢„æµ‹è¾“å…¥çš„å‰ 5 ä¸ªæ•°æ®ï¼š\nmelbourne_model.predict(X.head())\næ¨¡å‹éªŒè¯\nMeasure the performance of your model, so you can test and compare alternatives.\n\nä»€ä¹ˆæ˜¯æ¨¡å‹éªŒè¯è®¸å¤šäººåœ¨è¡¡é‡é¢„æµ‹å‡†ç¡®æ€§æ—¶çŠ¯äº†ä¸€ä¸ªå·¨å¤§çš„é”™è¯¯ã€‚ä»–ä»¬ç”¨è®­ç»ƒæ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†è¿™äº›é¢„æµ‹ä¸è®­ç»ƒæ•°æ®ä¸­çš„ç›®æ ‡å€¼è¿›è¡Œæ¯”è¾ƒã€‚ç¨åæ‚¨å°†çœ‹åˆ°è¿™ç§æ–¹æ³•çš„é—®é¢˜ä»¥åŠå¦‚ä½•è§£å†³å®ƒï¼Œä½†è®©æˆ‘ä»¬å…ˆè€ƒè™‘ä¸€ä¸‹å¦‚ä½•åšè¿™ä¸ªã€‚\nè€ƒè™‘æœ€ç®€å•çš„å¹³å‡ç»å¯¹è¯¯å·®ï¼ˆMean Absolute Error, MAEï¼‰ï¼š\nerror = actual - predicted\n\nä½¿ç”¨ scikit-learn è®¡ç®— MAEï¼š\nfrom sklearn.metrics import mean_absolute_errorpredicted_home_prices = melbourne_model.predict(X)mean_absolute_error(y, predicted_home_prices)\n\nâ€œIn-Sampleâ€åˆ†æ•°çš„é—®é¢˜å‰é¢æåˆ°çš„è¯„ä»·æ–¹å¼æ˜¯ä¸€ç§â€œæ ·æœ¬å†…â€åˆ†æ•°ï¼ˆin-sampleï¼‰ã€‚æ˜¯åŒç»Ÿä¸€æ•°æ®æ¥è®­ç»ƒå’Œé¢„æµ‹ã€‚æƒ³è±¡ä»¥ä¸‹åœºæ™¯ï¼š\n\nåœ¨å¤§å‹æˆ¿åœ°äº§å¸‚åœºä¸­ï¼Œé—¨çš„é¢œè‰²ä¸æˆ¿ä»·æ— å…³ã€‚ç„¶è€Œï¼Œåœ¨æ‚¨ç”¨äºæ„å»ºæ¨¡å‹çš„æ•°æ®æ ·æœ¬ä¸­ï¼Œæ‰€æœ‰å¸¦æœ‰ç»¿è‰²é—¨çš„æˆ¿å±‹éƒ½éå¸¸æ˜‚è´µã€‚è¿™ä¸ªæ¨¡å‹çš„å·¥ä½œæ˜¯æ‰¾åˆ°é¢„æµ‹æˆ¿ä»·çš„æ¨¡å¼ï¼Œæ‰€ä»¥å®ƒä¼šçœ‹åˆ°è¿™ä¸ªæ¨¡å¼ï¼Œå®ƒæ€»æ˜¯ä¼šé¢„æµ‹ç»¿è‰²é—¨çš„æˆ¿å±‹çš„é«˜ä»·æ ¼ã€‚ç”±äºè¯¥æ¨¡å¼æ˜¯ä»è®­ç»ƒæ•°æ®ä¸­å¯¼å‡ºçš„ï¼Œå› æ­¤è¯¥æ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸­ä¼šæ˜¾å¾—å‡†ç¡®ã€‚ä½†æ˜¯ï¼Œå¦‚æœå½“æ¨¡å‹çœ‹åˆ°æ–°çš„æ•°æ®æ—¶ï¼Œè¿™ç§æ¨¡å¼ä¸æˆç«‹ï¼Œé‚£ä¹ˆåœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œæ¨¡å‹å°†éå¸¸ä¸å‡†ç¡®ã€‚\n\nç”±äºæ¨¡å‹çš„å®ç”¨ä»·å€¼æ¥è‡ªäºå¯¹æ–°æ•°æ®çš„é¢„æµ‹ï¼Œå› æ­¤æˆ‘ä»¬åœ¨æœªç”¨äºæ„å»ºæ¨¡å‹çš„æ•°æ®ä¸Šè¡¡é‡æ€§èƒ½ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ä»æ¨¡å‹æ„å»ºè¿‡ç¨‹ä¸­æ’é™¤ä¸€äº›æ•°æ®ï¼Œç„¶åä½¿ç”¨è¿™äº›æ•°æ®æ¥æµ‹è¯•æ¨¡å‹å¯¹ä»¥å‰æ²¡æœ‰è§è¿‡çš„æ•°æ®çš„å‡†ç¡®æ€§ã€‚è¿™äº›æ•°æ®ç§°ä¸ºéªŒè¯æ•°æ®ï¼ˆvalidation dataï¼‰ã€‚\nCoding it!scikit-learn æä¾›äº† train_test_solit æ–¹æ³•æ¥åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚\nfrom sklearn.model_selection import train_test_split# split data into training and validation data, for both features and target# The split is based on a random number generator. Supplying a numeric value to# the random_state argument guarantees we get the same split every time we# run this script.train_X, val_X, train_y, val_y = train_test_split(X, y, random_state = 0, test_size=0.2)# Define modelmelbourne_model = DecisionTreeRegressor()# Fit modelmelbourne_model.fit(train_X, train_y)# get predicted prices on validation dataval_predictions = melbourne_model.predict(val_X)print(mean_absolute_error(val_y, val_predictions))\n\né€šè¿‡è®¾ç½® test_size æ¥æ›´æ”¹æµ‹è¯•é›†çš„æ¯”ä¾‹ã€‚\nWow!ç»è¿‡æµ‹è¯•ï¼Œæ ·æœ¬å†…æ•°æ®çš„å¹³å‡ç»å¯¹è¯¯å·®çº¦ä¸º500ç¾å…ƒï¼Œè€Œæ ·æœ¬å¤–è¶…è¿‡25ä¸‡ç¾å…ƒï¼\næ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆ\nFine-tune your model for better performance.\n\nå®éªŒä¸åŒæ¨¡å‹ä¸¤ä¸ªæç«¯\n\nå½“æˆ‘ä»¬æŠŠæˆ¿å­åˆ†æˆè®¸å¤šç‰‡å¶å­æ—¶ï¼Œæ¯ç‰‡å¶å­ä¸Šçš„æˆ¿å­ä¹Ÿæ›´å°‘ã€‚æˆ¿å­å¾ˆå°‘çš„æ ‘å¶ä¼šåšå‡ºéå¸¸æ¥è¿‘è¿™äº›æˆ¿å­çš„å®é™…ä»·å€¼çš„é¢„æµ‹ï¼Œä½†å®ƒä»¬å¯¹æ–°æ•°æ®çš„é¢„æµ‹å¯èƒ½éå¸¸ä¸å¯é ï¼ˆå› ä¸ºæ¯æ¬¡é¢„æµ‹éƒ½åªåŸºäºå‡ æ‰€æˆ¿å­ï¼‰ã€‚\nè¿™æ˜¯ä¸€ç§è¢«ç§°ä¸ºè¿‡æ‹Ÿåˆçš„ç°è±¡ï¼Œå³æ¨¡å‹å‡ ä¹å®Œç¾åœ°åŒ¹é…è®­ç»ƒæ•°æ®ï¼Œä½†åœ¨éªŒè¯å’Œå…¶ä»–æ–°æ•°æ®æ–¹é¢è¡¨ç°ä¸ä½³ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæˆ‘ä»¬æŠŠæ ‘ç”»å¾—å¾ˆæµ…ï¼Œå®ƒå°±ä¸ä¼šæŠŠæˆ¿å­åˆ†æˆå¾ˆæ˜æ˜¾çš„ç»„ã€‚\n\n\nå¦‚æœä¸€æ£µæ ‘åªæŠŠæˆ¿å­åˆ†æˆ2ä¸ªæˆ–4ä¸ªï¼Œæ¯ä¸€ç»„ä»ç„¶æœ‰å„ç§å„æ ·çš„æˆ¿å­ã€‚å¯¹å¤§å¤šæ•°æœºæ„æ¥è¯´ï¼Œç»“æœé¢„æµ‹å¯èƒ½è¿˜å¾ˆé¥è¿œï¼Œç”šè‡³åœ¨è®­ç»ƒæ•°æ®ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼ˆå‡ºäºåŒæ ·çš„åŸå› ï¼Œå®ƒåœ¨éªŒè¯ä¸­ä¹Ÿä¼šå¾ˆç³Ÿç³•ï¼‰ã€‚\nå½“ä¸€ä¸ªæ¨¡å‹æ— æ³•æ•æ‰æ•°æ®ä¸­çš„é‡è¦åŒºåˆ«å’Œæ¨¡å¼ï¼Œå› æ­¤å³ä½¿åœ¨è®­ç»ƒæ•°æ®ä¸­ä¹Ÿè¡¨ç°ä¸ä½³ï¼Œè¿™è¢«ç§°ä¸ºæ¬ æ‹Ÿåˆã€‚\n\n\n\nä¾‹å­é€šè¿‡è®¾ç½®ä¸åŒæ•°é‡çš„å†³ç­–æ ‘ç»“ç‚¹æ•°é‡ max_leaf_nodesï¼Œè®¡ç®—å‡ºä¸åŒçš„ç²¾ç¡®ç‡ã€‚\nfrom sklearn.metrics import mean_absolute_errorfrom sklearn.tree import DecisionTreeRegressordef get_mae(max_leaf_nodes, train_X, val_X, train_y, val_y):    model = DecisionTreeRegressor(max_leaf_nodes=max_leaf_nodes, random_state=0)    model.fit(train_X, train_y)    preds_val = model.predict(val_X)    mae = mean_absolute_error(val_y, preds_val)    return(mae)\n\nç»“è®ºä¸¤ç§æƒ…å†µï¼š\n\nè¿‡æ‹Ÿåˆï¼šæ•æ‰æœªæ¥ä¸ä¼šå†å‡ºç°çš„è™šå‡æ¨¡å¼ï¼Œå¯¼è‡´é¢„æµ‹ä¸é‚£ä¹ˆå‡†ç¡®\næ¬ æ‹Ÿåˆï¼šæ— æ³•æ•æ‰ç›¸å…³çš„æ¨¡å¼ï¼ŒåŒæ ·å¯¼è‡´é¢„æµ‹ä¸å‡†ç¡®\n\néšæœºæ£®æ—\nUsing a more sophisticated machine learning algorithm.\n\nå¼•å…¥å†³ç­–æ ‘ç•™ç»™ä½ ä¸€ä¸ªè‰°éš¾çš„å†³å®šã€‚æœ‰å¾ˆå¤šå¶å­çš„æ·±æ ‘ä¼šè¿‡æ‹Ÿåˆï¼Œå› ä¸ºæ¯ä¸ªé¢„æµ‹éƒ½æ˜¯æ¥è‡ªå¶å­é™„è¿‘çš„å°‘æ•°æˆ¿å±‹çš„å†å²æ•°æ®ã€‚ä½†æ˜¯ä¸€æ£µå¶å­å¾ˆå°‘çš„æµ…æ ‘ä¼šè¡¨ç°å¾—å¾ˆå·®ï¼Œå› ä¸ºå®ƒæ— æ³•åœ¨åŸå§‹æ•°æ®ä¸­æ•æ‰åˆ°å°½å¯èƒ½å¤šçš„åŒºåˆ«ã€‚\nå³ä½¿æ˜¯ä»Šå¤©æœ€å¤æ‚çš„å»ºæ¨¡æŠ€æœ¯ä¹Ÿé¢ä¸´ç€æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆä¹‹é—´çš„ç´§å¼ å…³ç³»ã€‚ä½†æ˜¯ï¼Œè®¸å¤šæ¨¡å‹éƒ½æœ‰èªæ˜çš„æƒ³æ³•ï¼Œå¯ä»¥å¸¦æ¥æ›´å¥½çš„æ€§èƒ½ã€‚æˆ‘ä»¬å°†ä»¥éšæœºæ£®æ—ä¸ºä¾‹ã€‚\néšæœºæ£®æ—ä½¿ç”¨è®¸å¤šæ ‘ï¼Œå®ƒé€šè¿‡å¹³å‡æ¯ä¸ªç»„æˆæ ‘çš„é¢„æµ‹æ¥è¿›è¡Œé¢„æµ‹ã€‚å®ƒé€šå¸¸æ¯”å•ä¸€å†³ç­–æ ‘å…·æœ‰æ›´å¥½çš„é¢„æµ‹å‡†ç¡®æ€§ï¼Œå¹¶ä¸”åœ¨é»˜è®¤å‚æ•°ä¸‹å·¥ä½œå¾—å¾ˆå¥½ã€‚\nfrom sklearn.ensemble import RandomForestRegressorfrom sklearn.metrics import mean_absolute_errorforest_model = RandomForestRegressor(random_state=1)forest_model.fit(train_X, train_y)melb_preds = forest_model.predict(val_X)print(mean_absolute_error(val_y, melb_preds))\nç»“è®ºå¯èƒ½è¿˜æœ‰è¿›ä¸€æ­¥æ”¹è¿›çš„ç©ºé—´ï¼Œä½†è¿™å·²ç»æ¯”25ä¸‡çš„æœ€ä½³å†³ç­–æ ‘è¯¯å·®æœ‰äº†å¾ˆå¤§çš„æ”¹è¿›ã€‚æœ‰ä¸€äº›å‚æ•°å…è®¸ä½ æ”¹å˜éšæœºæ£®æ—çš„æ€§èƒ½ï¼Œå°±åƒæˆ‘ä»¬æ”¹å˜å•ä¸ªå†³ç­–æ ‘çš„æœ€å¤§æ·±åº¦ä¸€æ ·ã€‚ä½†éšæœºæ£®æ—æ¨¡å‹çš„ä¸€ä¸ªæœ€ä½³ç‰¹å¾æ˜¯ï¼Œå³ä½¿æ²¡æœ‰è¿™ç§è°ƒæ•´ï¼Œå®ƒä»¬é€šå¸¸ä¹Ÿèƒ½åˆç†åœ°å·¥ä½œã€‚\næœºå™¨å­¦ä¹ æ¯”èµ›\nEnter the world of machine learning competitions to keep improving and see your progress.\n\nItâ€™s your turn!\n","categories":["Kaggle courses"],"tags":["Kaggle","Pandas","Python"]},{"title":"ã€Kaggle Coursesã€‘1-ç¼–ç¨‹ä»‹ç»","url":"/blog/Kaggle-course/intro-to-programming/","content":"Get started with Python, if you have no coding experience. Click here for more information.\n\n\nè®¡ç®—å’Œå˜é‡\nMake calculations, and define and modify variables.\n\næ‰“å°æ‰“å°ä¸€æ¡æ¶ˆæ¯ã€‚\nprint(&#x27;hello&#x27;)\nè®¡ç®—æ‰“å°è®¡ç®—ç»“æœã€‚\nprint(1 + 2)\næ³¨é‡Šä½¿ç”¨ # å†™æ³¨é‡Šã€‚\nå‡½æ•°\nOrganize your code and avoid redundancy.\n\nä¸€ä¸ªç®€å•çš„ä¾‹å­def add_three(input_var):    output_var = input_var + 3    return output_var\nå‡½æ•°åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†: header å’Œ body.\n\nHeader: å®šä¹‰å‡½æ•°åå’Œå‚æ•°ã€‚\nBody: å®šä¹‰å‡½æ•°å¦‚ä½•å·¥ä½œã€‚\n\nå˜é‡ä½œç”¨åŸŸå‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡æ— æ³•åœ¨å‡½æ•°å¤–è®¿é—®ã€‚\næ•°æ®ç±»å‹\nExplore integers, floats, booleans, and strings.\n\nint, float, boolean, string\næ¡ä»¶å’Œæ¡ä»¶å£°æ˜\nModify how functions run, depending on the input.if, if-else, if-elif-else\n\nåˆ—è¡¨ä»‹ç»\nOrganize your data so you can work with it efficiently.\n\nç´¢å¼•\nè·å–æœ€åä¸€ä¸ªå…ƒç´ : [-1]\nè·å–å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ : [-2]\n\nåˆ‡ç‰‡åˆ‡ç‰‡ï¼šè·å–åˆ—è¡¨çš„ä¸€ä¸ªç‰‡æ®µã€‚\n\nè·å–å‰ x ä¸ªå…ƒç´ ï¼š[:x]\nè·å–å y ä¸ªå…ƒç´ ï¼š[-y:]\n\næ­¤å¤„â€œå…ƒç´ â€çš„è‹±æ–‡ä¸ºâ€œentryâ€ã€‚\nl = [1, 2, 3, 4, 5]print(l[:2])print(l[-2:])\n[1, 2][4, 5]\nåˆ é™¤ä½¿ç”¨ .remove()\næ·»åŠ ä½¿ç”¨ .add()\n","categories":["Kaggle courses"],"tags":["Kaggle","Python"]},{"title":"ã€Kaggle Coursesã€‘4-pandas","url":"/blog/Kaggle-course/pandas-kaggle/","content":"Solve short hands-on challenges to perfect your data manipulation skills. Click here for more information.\n\nåˆ›å»ºã€è¯»å’Œå†™\nYou canâ€™t work with data if you canâ€™t read it. Get started here.\n\nå¼€å§‹å¯¼å…¥ pandasï¼š\nimport pandas as pd\nåˆ›å»ºæ•°æ®Pandas ä¸­çš„ä¸¤ä¸ªæ ¸å¿ƒå¯¹è±¡ï¼šDataFrame å’Œ Seriesã€‚\nDataFrameDataFrame æ˜¯ä¸€ä¸ªè¡¨ã€‚å®ƒåŒ…å«ä¸€ä¸ªå•ç‹¬æ¡ç›®ï¼ˆentryï¼‰çš„æ•°ç»„ï¼Œæ¯ä¸ªæ¡ç›®éƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„å€¼ã€‚æ¯ä¸ªæ¡ç›®å¯¹åº”ä¸€è¡Œï¼ˆæˆ–è®°å½•ï¼‰å’Œä¸€åˆ—ã€‚ä¾‹å¦‚ï¼š\npd.DataFrame(&#123;&#x27;Yes&#x27;: [50, 21], &#x27;No&#x27;: [131, 2]&#125;)\nåœ¨æœ¬ä¾‹ä¸­ï¼Œâ€œ0ï¼ŒNoâ€ æ¡ç›®çš„å€¼ä¸º 131 ã€‚â€œ0ï¼ŒYesâ€ æ¡ç›®çš„å€¼ä¸º 50ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ•°æ®æ¡†æ¡ç›®ä¸é™äºæ•´æ•°ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå€¼ä¸ºå­—ç¬¦ä¸²çš„DataFrameï¼š\npd.DataFrame(&#123;&#x27;Bob&#x27;: [&#x27;I liked it.&#x27;, &#x27;It was awful.&#x27;], &#x27;Sue&#x27;: [&#x27;Pretty good.&#x27;, &#x27;Bland.&#x27;]&#125;)\n\næˆ‘ä»¬ä½¿ç”¨ pd.DataFrame() æ„é€ å‡½æ•°æ¥ç”Ÿæˆè¿™äº› DataFrame å¯¹è±¡ã€‚å£°æ˜ä¸€ä¸ªæ–°å¯¹è±¡çš„è¯­æ³•æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå®ƒçš„é”®æ˜¯åˆ—åï¼ˆæœ¬ä¾‹ä¸­æ˜¯Bobå’ŒSueï¼‰ï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªæ¡ç›®åˆ—è¡¨ã€‚è¿™æ˜¯æ„é€ æ–° DataFrame çš„æ ‡å‡†æ–¹æ³•ã€‚\nå­—å…¸åˆ—è¡¨æ„é€ å‡½æ•°å°†å€¼èµ‹ç»™åˆ—æ ‡ç­¾ï¼Œä½†å¯¹è¡Œæ ‡ç­¾æ¥è¯´ï¼Œé»˜è®¤æ˜¯ä» 0 å¼€å§‹çš„å‡åºè®¡æ•°ã€‚\nDataFrame ä¸­ä½¿ç”¨çš„è¡Œæ ‡ç­¾åˆ—è¡¨ç§°ä¸ºç´¢å¼•ã€‚å¯ä»¥é€šè¿‡åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ index å½¢å‚ç»™å®ƒèµ‹å€¼ï¼š\npd.DataFrame(&#123;&#x27;Bob&#x27;: [&#x27;I liked it.&#x27;, &#x27;It was awful.&#x27;],               &#x27;Sue&#x27;: [&#x27;Pretty good.&#x27;, &#x27;Bland.&#x27;]&#125;,             index=[&#x27;Product A&#x27;, &#x27;Product B&#x27;])\n\nSeriesç›¸æ¯”ä¹‹ä¸‹ï¼Œåºåˆ—æ˜¯æ•°æ®å€¼çš„åºåˆ—ã€‚å¦‚æœ DataFrame æ˜¯ä¸€ä¸ªè¡¨ï¼Œé‚£ä¹ˆ Series å°±æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚åªéœ€è¦ä¸€ä¸ªåˆ—è¡¨å°±å¯ä»¥åˆ›å»ºä¸€ä¸ª Series å¯¹è±¡ï¼š\npd.Series([1, 2, 3, 4, 5])\n\nä»æœ¬è´¨ä¸Šè®²ï¼ŒSeries æ˜¯ DataFrame çš„ä¸€åˆ—ã€‚å› æ­¤ï¼Œå¯ä»¥åƒä»¥å‰ä¸€æ ·ä½¿ç”¨ index å‚æ•°å°†è¡Œæ ‡ç­¾åˆ†é…ç»™ Seriesã€‚ä½†æ˜¯ï¼Œ Series æ²¡æœ‰åˆ—åï¼Œå®ƒåªæœ‰ä¸€ä¸ªæ€»ç§°ï¼š\npd.Series([30, 35, 40], index=[&#x27;2015 Sales&#x27;, &#x27;2016 Sales&#x27;, &#x27;2017 Sales&#x27;], name=&#x27;Product A&#x27;)\n\nè¯»å–æ•°æ®æ•°æ®å¯ä»¥ä»¥è®¸å¤šä¸åŒçš„å½¢å¼å’Œæ ¼å¼ä¸­çš„ä»»ä½•ä¸€ç§è¿›è¡Œå­˜å‚¨ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå…¶ä¸­æœ€åŸºæœ¬çš„æ˜¯ CSV æ–‡ä»¶ã€‚å½“ä½ æ‰“å¼€ä¸€ä¸ª CSV æ–‡ä»¶æ—¶ï¼Œä½ ä¼šçœ‹åˆ°è¿™æ ·çš„ä¸œè¥¿ï¼š\nProduct A,Product B,Product C,30,21,9,35,34,1,41,11,11\nCSV æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç”¨é€—å·åˆ†éš”çš„å€¼è¡¨ã€‚å› æ­¤å¾—åï¼šComma-Separated Valuesï¼ŒCSVã€‚\nè¯»å–å¹¶æŸ¥çœ‹ CSV æ–‡ä»¶ï¼š\nimport pandas as pddf = pd.read_csv(&#x27;file.csv&#x27;)df.shapedf.head()\n\nç´¢å¼•ã€é€‰æ‹©å’Œèµ‹å€¼\nPro data scientists do this dozens of times a day. You can, too!\n\nåŸç”Ÿè®¿é—®å™¨åŸç”Ÿ Python å¯¹è±¡æä¾›äº†ç´¢å¼•æ•°æ®çš„æ–¹æ³•ã€‚PandasåŒ…å«äº†æ‰€æœ‰è¿™äº›å†…å®¹ï¼š\ndf = pd.read_csv(&#x27;file.csv&#x27;)# è®¿é—® country åˆ—ï¼ˆè®¿é—®ä¸€ä¸ª Series ï¼‰df.countrydf[&#x27;country&#x27;]# è®¿é—®è¯¥åˆ—çš„æŸä¸ªå¯¹è±¡df[&#x27;country&#x27;][0]\nPandas ä¸­çš„ç´¢å¼•Pandas æœ‰è‡ªå·±çš„ç´¢å¼•æ–¹å¼ loc ã€‚Pandas ç´¢å¼•çš„å·¥ä½œæ–¹å¼æœ‰ä¸¤ç§ã€‚\nåŸºäºç´¢å¼•çš„é€‰æ‹©iloc åŸºäºæ•°å€¼ä½ç½®é€‰æ‹©æ•°æ®ã€‚ä¾‹å¦‚è®¿é—®ç¬¬ä¸€è¡Œçš„æ•°æ®ï¼š\ndf.iloc[0]\n\nloc å’Œ iloc éƒ½æ˜¯è¡Œä¼˜å…ˆï¼Œè¿™æ„å‘³ç€æ£€ç´¢è¡Œç¨å¾®å®¹æ˜“ä¸€äº›ï¼Œè€Œè·å–æ£€ç´¢åˆ—ç¨å¾®å›°éš¾ä¸€äº›ã€‚ä¾‹å¦‚è®¿é—®ç¬¬ä¸€åˆ—çš„æ•°æ®ï¼š\ndf.iloc[:, 0]\n\næ›´å¤šä¾‹å­ï¼š\n# è®¿é—®ç¬¬äºŒè¡Œå’Œç¬¬ä¸‰è¡Œçš„ç¬¬ä¸€åˆ—df.iloc[1 : 3, 0]# ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåˆ—è¡¨df.iloc[[1, 2], 0]\n\nåŸºäºæ ‡ç­¾çš„é€‰æ‹©iloc åœ¨æ¦‚å¿µä¸Šæ¯” loc ç®€å•ï¼Œå› ä¸ºå®ƒå¿½ç•¥æ•°æ®é›†çš„ç´¢å¼•ã€‚å½“ä½¿ç”¨ iloc æ—¶ï¼Œæˆ‘ä»¬å°†æ•°æ®é›†è§†ä¸ºä¸€ä¸ªå¤§çŸ©é˜µï¼ˆåˆ—è¡¨çš„åˆ—è¡¨ï¼‰ï¼Œæˆ‘ä»¬å¿…é¡»æ ¹æ®ä½ç½®å¯¹å…¶è¿›è¡Œç´¢å¼•ã€‚\nç›¸æ¯”ä¹‹ä¸‹ï¼Œloc ä½¿ç”¨ç´¢å¼•ä¸­çš„ä¿¡æ¯æ¥å®Œæˆå·¥ä½œã€‚ç”±äºæ•°æ®é›†é€šå¸¸åŒ…å«æœ‰æ„ä¹‰çš„ç´¢å¼•ï¼Œå› æ­¤ä½¿ç”¨locé€šå¸¸æ›´å®¹æ˜“ã€‚ä¾‹å¦‚ï¼Œè®¿é—®æ‰€æœ‰è¡Œçš„ä»¥ä¸‹å±æ€§ï¼š\ndf.loc[:, [&#x27;taster_name&#x27;, &#x27;taster_twitter_handle&#x27;, &#x27;points&#x27;]]\n\nloc è¿˜æ˜¯ iloc ï¼Ÿ\niloc ä½¿ç”¨æ ‡å‡†çš„ç´¢å¼•ç­–ç•¥ï¼Œ0:10 çš„ç»“æœæ˜¯ 0,...,9ï¼Œè€Œ loc çš„ç»“æœæ˜¯ 0,...,10ã€‚\nloc å¯ä»¥è¿™æ ·ç”¨ï¼šdf.loc[&#39;a&#39;:&#39;d&#39;] ï¼Œè¡¨ç¤ºç´¢å¼•æ ‡ç­¾ a åˆ° d ä¹‹é—´çš„æ‰€æœ‰åˆ—ã€‚ï¼ˆåŒ…æ‹¬ dï¼‰\niloc ç´¢å¼•æ•°å€¼ä½ç½®ï¼Œloc ç´¢å¼•æ ‡ç­¾ï¼Œä¸” loc åŒ…æ‹¬â€œç»“å°¾â€ã€‚\n\næ“ä½œç´¢å¼•Pandas é»˜è®¤ä½¿ç”¨æ•°å­—ä½œä¸ºç´¢å¼•ï¼Œå¯ä»¥é€šè¿‡ set_index() å°†æŒ‡å®šåˆ—è®¾ç½®ä¸ºç´¢å¼•ï¼š\ndf = df.set_index(&quot;title&quot;)\n\næ³¨æ„ï¼Œé‡æ–°è®¾ç½®ç´¢å¼•ä¹‹åè¦è¿›è¡Œèµ‹å€¼ã€‚å³ä¸ä¼šåœ¨åŸæ¥çš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œè€Œæ˜¯ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ DataFrame å¯¹è±¡ã€‚\næ¡ä»¶é€‰æ‹©ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬å¯¹æ„å¤§åˆ©ç”Ÿäº§çš„å¥½äºå¹³å‡æ°´å¹³çš„è‘¡è„é…’ç‰¹åˆ«æ„Ÿå…´è¶£ã€‚\næˆ‘ä»¬é¦–å…ˆéœ€è¦æ£€æŸ¥æ¯ä¸€ç“¶é…’æ˜¯å¦æ¥è‡ªæ„å¤§åˆ©ï¼š\ndf.country == &#x27;Italy&#x27;\n\nè¿™ä¸ªæ“ä½œä¼šè¿”å›ä¸€ä¸ªå…¨æ˜¯å¸ƒå°”å˜é‡çš„ Series å¯¹è±¡ã€‚è¡¨ç¤ºè¯¥è¡Œçš„ country å±æ€§æ˜¯å¦ä¸º Italy ã€‚\næ¥ä¸‹æ¥å¯ä»¥é€šè¿‡ loc æ¥é€‰æ‹©å¯¹åº”çš„è¡Œï¼š\ndf.loc[df.country == &#x27;Italy&#x27;]\nå¯ä»¥ä½¿ç”¨ &amp; æˆ–è€… | æ¥æºå¸¦å¤šä¸ªæ¡ä»¶ï¼š\ndf.loc[(df.country == &#x27;Italy&#x27;) &amp; (reviews.points &gt;= 90)]\n\næ­¤å¤–ï¼Œpandas è¿˜æä¾›äº†ä¸€äº›å†…ç½®çš„é€‰æ‹©å™¨ï¼šisin() å’Œ isnull()\nisin() é€‰æ‹©é‚£äº›å€¼åœ¨ç»™å®šåˆ—è¡¨é‡Œçš„æ•°æ®ã€‚ä¾‹å¦‚é€‰å–åŒ…å«æ„å¤§åˆ©å’Œæ³•å›½çš„è¡Œï¼š\ndf.loc[df.country.isin([&#x27;Italy&#x27;, &#x27;France&#x27;])]# ç­‰ä»·äºdf.loc[(df.country == &#x27;Italy&#x27;) | (df.country == &#x27;France&#x27;)]\n\nisnull() é€‰æ‹©é‚£äº›åŒ…å«ç©ºå€¼çš„è¡Œï¼š\ndf.loc[df.price.isnull()]\nèµ‹å€¼ç»™ä¸€æ•´åˆ—èµ‹å€¼ï¼š\n# å°†æ•´åˆ—éƒ½èµ‹å€¼ä¸º everyonereviews[&#x27;critic&#x27;] = &#x27;everyone&#x27;# ä¹Ÿå¯ä»¥ä½¿ç”¨å¯è¿­ä»£çš„å¯¹è±¡ï¼ˆlistã€rangeç­‰ï¼‰reviews[&#x27;index_backwards&#x27;] = range(len(reviews), 0, -1)\n\næ€»ç»“å‡½æ•°å’Œæ˜ å°„\nExtract insights from your data.\n\næ€»ç»“å‡½æ•°ä½¿ç”¨ describe() æ–¹æ³•è·å–å¯¹æ•°æ®çš„é«˜çº§æè¿°ï¼š\nå¯¹ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œä¼šæœ‰ä¸åŒçš„æ€»ç»“ï¼Œä¾‹å¦‚å¯¹å­—ç¬¦ä¸²ï¼š\nmean() æ–¹æ³•ï¼šæŸ¥çœ‹æŸä¸€åˆ—çš„å¹³å‡å€¼ã€‚\nunique() æ–¹æ³•ï¼šæŸ¥çœ‹æŸä¸€åˆ—çš„å”¯ä¸€å€¼åˆ—è¡¨ã€‚ï¼ˆå¯¹åº”äº describe è¾“å‡ºçš„ unique å…³é”®å­—ï¼‰\ncount() æ–¹æ³•ï¼šæŸ¥çœ‹æŸä¸€åˆ—çš„å”¯ä¸€å€¼åˆ—è¡¨ä»¥åŠå…¶å‡ºç°æ¬¡æ•°ã€‚\næ˜ å°„ï¼ˆMapsï¼‰æ‰¹é‡ä¿®æ”¹æŸäº›åˆ—ã€‚\nä¾‹å¦‚ï¼Œæƒ³è¦å°†æŸä¸€åˆ—å‡å»å…¶å‡å€¼ï¼š\nreview_points_mean = reviews.points.mean()reviews.points.map(lambda p: p - review_points_mean)\nä¼ é€’ç»™ map() çš„å‡½æ•°åº”è¯¥æœŸæœ›å¾—åˆ°æ¥è‡ª Series çš„å•ä¸ªå€¼ï¼ˆåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­æ˜¯ä¸€ä¸ªç‚¹å€¼ï¼Œå³ pï¼‰ï¼Œå¹¶è¿”å›è¯¥å€¼çš„è½¬æ¢ç‰ˆæœ¬ï¼ˆå³ p - review_points_meanï¼‰ã€‚mapï¼ˆï¼‰è¿”å›ä¸€ä¸ªæ–°çš„ Series ï¼Œå…¶ä¸­æ‰€æœ‰çš„å€¼éƒ½å·²è¢«å‡½æ•°è½¬æ¢è¿‡ã€‚\nè¿™é‡Œ lambda è¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œå…¶ç­‰ä»·äºä»¥ä¸‹å‡½æ•°ï¼š\ndef my_function(p):    return p - review_points_mean\n\nåŒæ ·åœ°ï¼Œ apply() æ–¹æ³•åŒæ ·å¯ä»¥å®ç°ä¸Šè¿°è¿‡ç¨‹ï¼š\ndef remean_points(row):    row.points = row.points - review_points_mean    return rowreviews.apply(remean_points, axis=&#x27;columns&#x27;)\n\næ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ“ä½œç¬¦ + ã€ - ç­‰ç›´æ¥å¯¹ Series å¯¹è±¡è¿›è¡Œæ“ä½œï¼Œè¿™æ¯”ä¸Šè¿°ä¸¤ä¸ªå‡½æ•°æ›´é«˜æ•ˆï¼Œä½†æ˜¯ä¸æ”¯æŒæ›´å¤æ‚çš„æƒ…å†µã€‚\nåˆ†ç»„å’Œæ’åº\nScale up your level of insight. The more complex the dataset, the more this matters\n\nåˆ†ç»„åˆ†æä»¥ä¸‹ä»£ç ç­‰åŒäº value_counts() æ–¹æ³•ï¼š\nreviews.groupby(&#x27;points&#x27;).points.count()\n\nå³æŒ‰ç…§ points åˆ—è¿›è¡Œåˆ†ç»„ï¼Œåˆ†ç»„ä¹‹åå†å¯¹ point åˆ—è¿›è¡Œè®¡æ•°ã€‚\nreviews.groupby(&#x27;points&#x27;).price.min()\nä¸Šè¿°ä»£ç æŒ‰ç…§ points åˆ—è¿›è¡Œåˆ†ç»„ï¼Œåˆ†ç»„ä¹‹åï¼Œåœ¨æ¯ä¸ªç»„é‡Œé¢è®¡ç®—æœ€å°å€¼ã€‚\nç”Ÿæˆçš„æ¯ä¸ªç»„å¯ä»¥è§†ä¸º DataFrame çš„ä¸€ä¸ªç‰‡æ®µï¼Œå…¶ä¸­ä»…åŒ…å«å…·æœ‰åŒ¹é…å€¼çš„æ•°æ®ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨ apply() æ–¹æ³•è®¿é—®è¿™ä¸ª DataFrameï¼Œç„¶åå¯ä»¥é€šè¿‡ä»»ä½•æ–¹å¼æ“ä½œæ•°æ®ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ä»æ•°æ®é›†ä¸­çš„æ¯ä¸ªé…’å‚ä¸­é€‰æ‹©ç¬¬ä¸€ä¸ªè¢«è¯„è®ºçš„è‘¡è„é…’åç§°çš„ä¸€ç§æ–¹æ³•ï¼š\nreviews.groupby(&#x27;winery&#x27;).apply(lambda df: df.title.iloc[0])\n\nå¯¹äºæ›´ç»†ç²’åº¦çš„ï¼Œè¿˜å¯ä»¥æŒ‰å¤šä¸ªåˆ—åˆ†ç»„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä»¥ä¸‹æ˜¯æˆ‘ä»¬å¦‚ä½•æŒ‰å›½å®¶å’Œçœä»½æŒ‘é€‰æœ€å¥½çš„è‘¡è„é…’ï¼š\nreviews.groupby([&#x27;country&#x27;, &#x27;province&#x27;]).apply(lambda df: df.loc[df.points.idxmax()])\n\næ’åºç®€å•æ’åºï¼ˆé»˜è®¤å‡åºï¼‰ï¼š\ncountries_reviewed.sort_values(by=&#x27;len&#x27;)\n\næŒ‰ç…§å¤šä¸ªåˆ—è¿›è¡Œæ’åºï¼š\ncountries_reviewed.sort_values(by=[&#x27;country&#x27;, &#x27;len&#x27;])\n\næ•°æ®ç±»å‹å’Œç¼ºå¤±å€¼\nDeal with the most common progress-blocking problems\n\næ•°æ®ç±»å‹DataFrame æˆ–Series ä¸­æ¯åˆ—çš„æ•°æ®ç±»å‹ç§°ä¸º dtype ã€‚å¯ä»¥ä½¿ç”¨ dtype å±æ€§è·å–ç‰¹å®šåˆ—çš„ç±»å‹ã€‚\nreviews.price.dtype\n\ndtypes å±æ€§è¿”å› DataFrame ä¸­æ¯ä¸€åˆ—çš„æ•°æ®ç±»å‹ã€‚\nreviews.dtypes\n\næ³¨æ„ï¼Œå­—ç¬¦ä¸²çš„ç±»å‹ä¸º object ã€‚\nå¯ä»¥ä½¿ç”¨ astype() æ–¹æ³•è¿›è¡Œæ•°æ®è½¬æ¢ï¼š\nreviews.points.astype(&#x27;float64&#x27;)\n\nç¼ºå¤±å€¼ä½¿ç”¨ fillna() æ–¹æ³•æ¥æ›¿æ¢ç¼ºå¤±å€¼ã€‚é€šå¸¸å¯ä»¥è®¾ç½®ä¸ºâ€œunkonwnâ€å­—ç¬¦ä¸²ï¼Œä¾¿äºåç»­æ›´æ”¹ã€‚è¿™ç§å€¼é€šå¸¸è¢«ç§°ä½œâ€œå“¨å…µâ€ï¼Œè¿˜åŒ…æ‹¬â€œUndisclosedâ€ã€â€œInvalidâ€ç­‰ã€‚\næ­¤å¤–å¯ä»¥ä½¿ç”¨ replace() æ–¹æ³•æ¥æ›¿æ¢è®¾ç½®çš„å“¨å…µå€¼ã€‚\né‡å‘½åå’Œç»„åˆ\nData comes in from many sources. Help it all make sense together\n\né‡å‘½åæœ‰æ—¶éœ€è¦æ›´æ”¹åˆ—æ˜æˆ–ç´¢å¼•åã€‚\n# å°† points åˆ—æ›´åä¸º scorereviews.rename(columns=&#123;&#x27;points&#x27;: &#x27;score&#x27;&#125;)# å°†ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œæ›´åä¸º firstEntry å’Œ secondEntryreviews.rename(index=&#123;0: &#x27;firstEntry&#x27;, 1: &#x27;secondEntry&#x27;&#125;)\n\nç»„åˆç»„åˆæ¥è‡ªå¤šä¸ª DataFrame æˆ– Series çš„æ•°æ®ã€‚\nä¾‹å¦‚ï¼Œä¸¤ä¸ª CSV æ–‡ä»¶æœ‰ç›¸åŒçš„åˆ—ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ conca() ã€‚\ncanadian_youtube = pd.read_csv(&quot;../input/youtube-new/CAvideos.csv&quot;)british_youtube = pd.read_csv(&quot;../input/youtube-new/GBvideos.csv&quot;)pd.concat([canadian_youtube, british_youtube])\n\nä¾‹å¦‚ï¼Œç»„åˆä¸¤ä¸ªå…·æœ‰ç›¸åŒç´¢å¼•çš„ CSV æ–‡ä»¶ï¼š\nleft = canadian_youtube.set_index([&#x27;title&#x27;, &#x27;trending_date&#x27;])right = british_youtube.set_index([&#x27;title&#x27;, &#x27;trending_date&#x27;])left.join(right, lsuffix=&#x27;_CAN&#x27;, rsuffix=&#x27;_UK&#x27;)\nlsuffix å’Œ rsuffix å‚æ•°ç”¨äºåŒºåˆ†ä¸¤ä¸ªç›¸åŒçš„åˆ—ã€‚\nç®€å•è¯»å†™ CSV æ–‡ä»¶è¯»import pandas as pddf = pd.read_csv(&#x27;./file.csv&#x27;)\nå†™for i, row in df.iterrows():    path = row[&#x27;path&#x27;]    label = row[&#x27;label&#x27;]\næ–°å»ºdata = &#123;    &#x27;path&#x27;: [&#x27;path1&#x27;, &#x27;path2&#x27;],    &#x27;label&#x27;: [&#x27;label1&#x27;, &#x27;label2&#x27;]&#125;    new_df = pd.DateFrame(data)new_df.to_csv(&#x27;./new_file.csv&#x27;, index=False)\nloc æ–¹æ³•å®šä½æŸä¸€è¡Œpath = df.loc[index][&#x27;path&#x27;]\n\nå®šä½æŸåˆ—çš„æŒ‡å®šå€¼df = df.loc[df[&#x27;label&#x27;] == &#x27;Normal&#x27;]df = df.reset_index()","categories":["Kaggle courses"],"tags":["Kaggle","Pandas","Python"]},{"title":"ã€Kaggle Coursesã€‘2-python","url":"/blog/Kaggle-course/python-kaggle/","content":"coming soonâ€¦\n","tags":["Kaggle","Python"]},{"title":"ã€LLMã€‘nanoGPTå­¦ä¹ ","url":"/blog/LLM/nanogpt/","content":"å†™åœ¨å‰é¢æœ¬æ–‡ä¸»è¦è®°å½• nanoGPT çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå‚è€ƒé“¾æ¥\n\nGPT in 60 Lines of NumPyï¼šhttps://jaykmody.com/blog/gpt-from-scratch/60 è¡Œä»£ç å®ç° gptï¼ˆä¸Šä¸€ç¯‡çš„ç¿»è¯‘ï¼‰ï¼š https://zhuanlan.zhihu.com/p/679330102nanoGPT å®æˆ˜ï¼š https://zhuanlan.zhihu.com/p/716442447nanoGPT ä»£ç è§£è¯»ï¼šhttps://zhuanlan.zhihu.com/p/677407971\n\nGPT åŸç†\nGPT(Generative Pre-trained Transformer)åŸºäºTransformerè§£ç å™¨è‡ªå›å½’åœ°é¢„æµ‹ä¸‹ä¸€ä¸ªTokenï¼Œä»è€Œè¿›è¡Œäº†è¯­è¨€æ¨¡å‹çš„å»ºæ¨¡ã€‚GPTçš„ä¼ªä»£ç å¯ä»¥ç®€å•çš„è¡¨ç¤ºä¸ºï¼š\n\ndef gpt(inputs: list[int]) -&gt; list[list[float]]:\t&quot;&quot;&quot; GPTä»£ç ï¼Œå®ç°é¢„æµ‹ä¸‹ä¸€ä¸ªtoken\tinputsï¼šList[int], shapeä¸º[n_seq]ï¼Œè¾“å…¥æ–‡æœ¬åºåˆ—çš„token idçš„åˆ—è¡¨\toutputï¼šList[List[int]], shapeä¸º[n_seq, n_vocab]ï¼Œé¢„æµ‹è¾“å‡ºçš„logitsåˆ—è¡¨\t&quot;&quot;&quot;    output = # éœ€è¦å®ç°çš„GPTå†…éƒ¨è®¡ç®—é€»è¾‘     return output\n\nå³è¾“å…¥ä¸€æ®µtoken\n\nå…³äº token\ntoken å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå¥å­ä¸­æœ€å°çš„ç»„æˆéƒ¨åˆ†ã€‚é€šå¸¸ä¸ºä¸€ä¸ªè¯ï¼Œä¸€äº›æƒ…å†µä¸‹ï¼Œå¯ä»¥è¿›è¡Œç®€åŒ–ï¼Œä¾‹å¦‚åç»­ä½¿ç”¨èå£«æ¯”äºšçš„ä½œå“é›†è¿›è¡Œè®­ç»ƒæ—¶ï¼Œå°†å­—ç¬¦ä½œä¸º tokenã€‚\n\ntoken é€šè¿‡åˆ†è¯å™¨æ¥è·å–ï¼Œå¯¹åº”ä¸€ä¸ªè¯æ±‡è¡¨ã€‚æœ€å¼€å§‹è¾“å…¥åˆ°æ¨¡å‹ä¸­çš„åºåˆ—å…¶å®ä¸ºä¸€ä¸²æ•°å­—ï¼Œè¡¨ç¤ºå½“å‰ token åœ¨è¯æ±‡è¡¨ä¸­çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼š\n# è¯æ±‡è¡¨ä¸­çš„tokenç´¢å¼•è¡¨ç¤ºè¯¥tokençš„æ•´æ•°ID# ä¾‹å¦‚ï¼Œ&quot;robot&quot;çš„æ•´æ•°IDä¸º1ï¼Œå› ä¸ºvocab[1] = &quot;robot&quot;vocab = [&quot;must&quot;, &quot;robot&quot;, &quot;obey&quot;, &quot;the&quot;, &quot;orders&quot;, &quot;.&quot;]# è¿›è¡Œåˆ†è¯çš„åˆ†è¯å™¨tokenizerï¼ˆå‡è®¾é€šè¿‡ç©ºæ ¼æ¥è¿›è¡Œåˆ†è¯ï¼‰tokenizer = WhitespaceTokenizer(vocab)# encode()æ–¹æ³•å°†strå­—ç¬¦ä¸²è½¬æ¢ä¸ºlist[int]ids = tokenizer.encode(&quot;robot must obey orders&quot;) # ids = [1, 0, 2, 4]# é€šè¿‡è¯æ±‡è¡¨æ˜ å°„ï¼Œå¯ä»¥çœ‹åˆ°å®é™…çš„tokenæ˜¯ä»€ä¹ˆtokens = [tokenizer.vocab[i] for i in ids] # tokens = [&quot;robot&quot;, &quot;must&quot;, &quot;obey&quot;, &quot;orders&quot;]# decode()æ–¹æ³•å°†list[int] è½¬æ¢å›strtext = tokenizer.decode(ids) # text = &quot;robot must obey orders&quot;\n\nåŒæ ·ï¼Œè¾“å‡ºä¸ºä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œè¡¨ç¤ºå½“å‰ä½ç½®ä¸åŒ token çš„å‡ºç°æ¦‚ç‡ã€‚output æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå…¶ä¸­ output[i][j] è¡¨ç¤ºæ–‡æœ¬åºåˆ—çš„ç¬¬ i ä¸ªä½ç½®çš„ tokenï¼ˆinputs[i]ï¼‰æ˜¯è¯æ±‡è¡¨çš„ç¬¬ j ä¸ª tokenï¼ˆvocab[j]ï¼‰çš„æ¦‚ç‡ï¼ˆå®é™…ä¸ºæœªå½’ä¸€åŒ–çš„logitså¾—åˆ†ï¼‰ã€‚ä¾‹å¦‚ï¼š\ninputs = [1, 0, 2, 4]  # &quot;robot&quot; &quot;must&quot; &quot;obey&quot; &quot;orders&quot;vocab = [&quot;must&quot;, &quot;robot&quot;, &quot;obey&quot;, &quot;the&quot;, &quot;orders&quot;, &quot;.&quot;]output = gpt(inputs)# output[0] = [0.75, 0.1, 0.15, 0.0, 0.0, 0.0]# ç»™å®š &quot;robot&quot;ï¼Œæ¨¡å‹é¢„æµ‹ &quot;must&quot; çš„æ¦‚ç‡æœ€é«˜# output[1] = [0.0, 0.0, 0.8, 0.1, 0.0, 0.1]# ç»™å®šåºåˆ— [&quot;robot&quot;, &quot;must&quot;]ï¼Œæ¨¡å‹é¢„æµ‹ &quot;obey&quot; çš„æ¦‚ç‡æœ€é«˜# output[-1] = [0.0, 0.0, 0.1, 0.0, 0.85, 0.05]# ç»™å®šæ•´ä¸ªåºåˆ—[&quot;robot&quot;, &quot;must&quot;, &quot;obey&quot;]ï¼Œæ¨¡å‹é¢„æµ‹ &quot;orders&quot; çš„æ¦‚ç‡æœ€é«˜next_token_id = np.argmax(output[-1])  # next_token_id = 4next_token = vocab[next_token_id]      # next_token = &quot;orders&quot;\nåœ¨æ¨ç†æ—¶ï¼ˆç”Ÿæˆæ–‡æœ¬ï¼‰ï¼Œé¦–å…ˆå°† prompt è¾“å…¥ GPTï¼Œç„¶åè¿­ä»£åœ°å°†ä¸Šä¸€è½®çš„è¾“å‡ºæ”¾åˆ°å½“å‰çš„æœ«å°¾ï¼Œé‡å¤ç”Ÿæˆã€‚ä¾‹å¦‚ï¼š\ndef generate(inputs, n_tokens_to_generate):\t&quot;&quot;&quot; GPTç”Ÿæˆä»£ç \tinputs: list[int], è¾“å…¥æ–‡æœ¬çš„token idsåˆ—è¡¨\tn_tokens_to_generateï¼šint, éœ€è¦ç”Ÿæˆçš„tokenæ•°é‡\t&quot;&quot;&quot;    # è‡ªå›å½’å¼è§£ç å¾ªç¯    for _ in range(n_tokens_to_generate):         output = gpt(inputs)            # æ¨¡å‹å‰å‘æ¨ç†ï¼Œè¾“å‡ºé¢„æµ‹è¯è¡¨å¤§å°çš„logitsåˆ—è¡¨        next_id = np.argmax(output[-1]) # è´ªå¿ƒé‡‡æ ·        inputs.append(int(next_id))     # å°†é¢„æµ‹æ·»åŠ å›è¾“å…¥    return inputs[len(inputs) - n_tokens_to_generate :]  # åªè¿”å›ç”Ÿæˆçš„ids# éšä¾¿ä¸¾ä¾‹input_ids = [1, 0, 2]                          # [&quot;robot&quot;, &quot;must&quot;, &quot;obey&quot;]output_ids = generate(input_ids, 1)            #  output_ids = [1, 0, 2, 4]output_tokens = [vocab[i] for i in output_ids] # [&quot;robot&quot;, &quot;must&quot;, &quot;obey&quot;, &quot;orders&quot;]\n\nä»£ç é¦–å…ˆï¼Œæœ€å¤–å±‚è°ƒç”¨çš„æ˜¯ GPT ç±»ã€‚è°ƒç”¨æ–¹æ³•ä¸ºï¼š\nlogits, loss = model(X, Y)\nå…¶ä¸­ Xï¼ŒY è¡¨ç¤ºè¾“å…¥ä»¥åŠå…¶å¯¹åº”çš„æ ‡ç­¾ï¼Œæ³¨æ„è¿™é‡Œå·²ç»ä¸º int ç±»å‹çš„æ•°ç»„äº†ï¼ˆè¡¨ç¤º token åœ¨è¯æ±‡è¡¨ä¸­çš„ä½ç½®ï¼‰ã€‚\nGPT ç±»æ•´ä½“ç»“æ„def forward(self, idx, targets=None):    device = idx.device    b, t = idx.size()    assert t &lt;= self.config.block_size, f&quot;Cannot forward sequence of length &#123;t&#125;, block size is only &#123;self.config.block_size&#125;&quot;    pos = torch.arange(0, t, dtype=torch.long, device=device)    tok_emb = self.transformer.wte(idx)     pos_emb = self.transformer.wpe(pos)     x = self.transformer.drop(tok_emb + pos_emb)    for block in self.transformer.h:        x = block(x)    x = self.transformer.ln_f(x)    if targets is not None:        logits = self.lm_head(x)        loss = F.cross_entropy(logits.view(-1, logits.size(-1)), targets.view(-1), ignore_index=-1)    else:        logits = self.lm_head(x[:, [-1], :]) # note: using list [-1] to preserve the time dim        loss = None    return logits, loss\n\nè¾“å…¥ idx ç±»å‹ä¸º list[int]ï¼Œè¡¨ç¤ºè¾“å…¥ token åœ¨è¯æ±‡è¡¨ä¸­çš„ç´¢å¼•ï¼Œå¹¶ä¸”æœ‰ batch ç»´åº¦ã€‚æ­¤å¤„æœ‰ä¸€ä¸ªæ–­è¨€ï¼Œå³è¦æ±‚åºåˆ—çš„é•¿åº¦è¦å°äºå—é•¿åº¦ï¼Œå³ block_size è¡¨ç¤ºæ¨¡å‹èƒ½å¤„ç†çš„æœ€å¤§é•¿åº¦ã€‚\næ–°å»ºä¸€ä¸ªä½ç½®æ•°ç»„ psoï¼Œç”¨äºè®¡ç®—ä½ç½®ç¼–ç ã€‚\næ¥ä¸‹æ¥ä¸ºæ ¸å¿ƒä»£ç  self.transformerï¼Œå®ç°å¦‚ä¸‹self.transformer = nn.ModuleDict(dict(    wte = nn.Embedding(config.vocab_size, config.n_embd),    wpe = nn.Embedding(config.block_size, config.n_embd),    drop = nn.Dropout(config.dropout),    h = nn.ModuleList([Block(config) for _ in range(config.n_layer)]),    ln_f = LayerNorm(config.n_embd, bias=config.bias),))\nå…¶åŒ…å« 5 ä¸ªéƒ¨åˆ†ï¼štoken ç¼–ç ï¼ˆword token embedding, wteï¼‰ã€ä½ç½®ç¼–ç ï¼ˆword position embedding, wpeï¼‰ã€dropoutã€æ³¨æ„åŠ›å—ï¼ˆblockï¼‰å’Œå±‚å½’ä¸€åŒ–ã€‚\næ•´ä½“å¤„ç†æµç¨‹ä¸ºï¼š\ntoken ç¼–ç  + ä½ç½®ç¼–ç ï¼Œå¹¶ç›¸åŠ \nä¾æ¬¡é€šè¿‡æ³¨æ„åŠ›å±‚\nç»è¿‡æœ€ç»ˆçš„æ˜ å°„å±‚ï¼ˆå°†æ³¨æ„åŠ›çš„è¾“å‡ºæ˜ å°„åˆ°è¯æ±‡è¡¨ç»´åº¦ï¼‰\næœ€åè¿›è¡Œåˆ¤æ–­æ˜¯å¦è®¡ç®— loss\n\n\n\ntoken ç¼–ç å’Œä½ç½®ç¼–ç \ntoken ç¼–ç ï¼šwte æ˜¯ä¸€ä¸ª [n_vocab, n_embd] å¤§å°çš„å¯å­¦ä¹ å‚æ•°çŸ©é˜µï¼Œå®ƒå……å½“ä¸€ä¸ª token åµŒå…¥æŸ¥æ‰¾è¡¨ï¼Œå…¶ä¸­çŸ©é˜µçš„ç¬¬ i å¯¹åº”äºè¯æ±‡è¡¨ä¸­ç¬¬ i ä¸ª token çš„ embeddingã€‚\nwte[idx] ä½¿ç”¨ Token Ids åˆ—è¡¨ç´¢å¼•æ¥æ£€ç´¢ä¸è¾“å…¥ä¸­æ¯ä¸ªtokenå¯¹åº”çš„å‘é‡ã€‚\n\n\nä½ç½®ç¼–ç ï¼šè¡¨ç¤ºåºåˆ—çš„å…ˆåä¿¡æ¯ï¼ŒåŒæ ·æ˜¯ä¸€ä¸ª [n_block, n_embd] å¤§å°çš„å¯å­¦ä¹ å‚æ•°çŸ©é˜µã€‚\n\nBlock ç±»\nBlock ç±»çš„å®ç°å¦‚ä¸‹ï¼šclass Block(nn.Module):    def __init__(self, config):        super().__init__()        self.ln_1 = LayerNorm(config.n_embd, bias=config.bias)        self.attn = CausalSelfAttention(config)        self.ln_2 = LayerNorm(config.n_embd, bias=config.bias)        self.mlp = MLP(config)    def forward(self, x):        x = x + self.attn(self.ln_1(x))        x = x + self.mlp(self.ln_2(x))        return x\nå…¶ä¸»è¦åŒ…å«ä¸¤ä¸ªå±‚å½’ä¸€åŒ–ã€MLPå’Œæ³¨æ„åŠ›å±‚ã€‚\n\nCausalSelfAttention ç±»å®ç°æ³¨æ„åŠ›æœºåˆ¶çš„æ ¸å¿ƒç±»ã€‚\ndef forward(self, x):    B, T, C = x.size() # batch size, sequence length, embedding dimensionality (n_embd)    # calculate query, key, values for all heads in batch and move head forward to be the batch dim    q, k, v  = self.c_attn(x).split(self.n_embd, dim=2)    k = k.view(B, T, self.n_head, C // self.n_head).transpose(1, 2) # (B, nh, T, hs)    q = q.view(B, T, self.n_head, C // self.n_head).transpose(1, 2) # (B, nh, T, hs)    v = v.view(B, T, self.n_head, C // self.n_head).transpose(1, 2) # (B, nh, T, hs)    # causal self-attention; Self-attend: (B, nh, T, hs) x (B, nh, hs, T) -&gt; (B, nh, T, T)    if self.flash:        # efficient attention using Flash Attention CUDA kernels        y = torch.nn.functional.scaled_dot_product_attention(q, k, v, attn_mask=None, dropout_p=self.dropout if self.training else 0, is_causal=True)    else:        # manual implementation of attention        att = (q @ k.transpose(-2, -1)) * (1.0 / math.sqrt(k.size(-1)))        att = att.masked_fill(self.bias[:,:,:T,:T] == 0, float(&#x27;-inf&#x27;))        att = F.softmax(att, dim=-1)        att = self.attn_dropout(att)        y = att @ v # (B, nh, T, T) x (B, nh, T, hs) -&gt; (B, nh, T, hs)    y = y.transpose(1, 2).contiguous().view(B, T, C) # re-assemble all head outputs side by side    # output projection    y = self.resid_dropout(self.c_proj(y))    return y\n\nself.c_attn(x) è¡¨ç¤ºä¸ºæ³¨æ„åŠ›æœºåˆ¶çš„æ˜ å°„å±‚ï¼Œå¹¶å°† Qã€Kã€V ä¸‰ä¸ªæ˜ å°„å±‚åˆå¹¶ä¸ºä¸€ä¸ªï¼Œå‡å°‘è®¡ç®—é‡ã€‚è®¡ç®—å‡ºæ˜ å°„çŸ©é˜µåå†è¿›è¡Œåˆ’åˆ†ã€‚\nself.c_attn = nn.Linear(config.n_embd, 3 * config.n_embd, bias=config.bias)\n\næ¥ä¸‹æ¥æ ¹æ® head çš„æ•°é‡å¯¹æ˜ å°„çŸ©é˜µè¿›è¡Œåˆ’åˆ†ã€‚ç„¶åå°±æ˜¯è®¡ç®—æ³¨æ„åŠ›ã€‚\n\næ³¨æ„ï¼Œä¸ºäº†å®ç°å› æœæœºåˆ¶ï¼Œå³æ¨¡å‹åªèƒ½çœ‹åˆ°å½“å‰ token ä¹‹å‰çš„ tokenï¼Œéœ€è¦å°†è®¡ç®—å‡ºçš„ attn çŸ©é˜µ mask ä¸€éƒ¨åˆ†ã€‚\n# è¾“å…¥æ˜¯ [&quot;not&quot;, &quot;all&quot;, &quot;heroes&quot;, &quot;wear&quot;, &quot;capes&quot;] # åŸå§‹è‡ªæ³¨æ„åŠ›        not    all   heroes  wear  capes   not 0.116  0.159  0.055  0.226  0.443   all 0.180  0.397  0.142  0.106  0.175heroes 0.156  0.453  0.028  0.129  0.234  wear 0.499  0.055  0.133  0.017  0.295 capes 0.089  0.290  0.240  0.228  0.153 # å› æœè‡ªæ³¨æ„åŠ› ï¼ˆè¡Œä¸ºj, åˆ—ä¸ºiï¼‰ # ä¸ºé˜²æ­¢è¾“å…¥çš„æ‰€æœ‰æŸ¥è¯¢éƒ½èƒ½é¢„æµ‹æœªæ¥ï¼Œéœ€è¦å°†æ‰€æœ‰j&gt;iä½ç½®è®¾ç½®ä¸º0 ï¼š        not    all   heroes  wear  capes   not 0.116  0.     0.     0.     0.   all 0.180  0.397  0.     0.     0.heroes 0.156  0.453  0.028  0.     0.  wear 0.499  0.055  0.133  0.017  0. capes 0.089  0.290  0.240  0.228  0.153 # åœ¨åº”ç”¨ softmax ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹æˆ‘ä»¬çš„æ³¨æ„åŠ›çŸ©é˜µï¼Œå¾—åˆ°æ©ç è‡ªæ³¨æ„åŠ› # å³ï¼Œåœ¨softmaxä¹‹å‰å°†è¦å±è”½é¡¹çš„æ³¨æ„åŠ›å¾—åˆ†è®¾ç½®ä¸º âˆ’âˆï¼ˆå½’ä¸€åŒ–ç³»æ•°ä¸º0ï¼‰ # maskæ©ç çŸ©é˜µ 0 -1e10 -1e10 -1e10 -1e10 0   0   -1e10 -1e10 -1e10 0   0     0   -1e10 -1e10 0   0     0     0   -1e10 0   0     0     0     0 ä½¿ç”¨ -1e10 è€Œä¸æ˜¯ -np.inf ï¼Œå› ä¸º -np.inf å¯èƒ½ä¼šå¯¼è‡´ nans\n\nè‡³æ­¤ï¼Œæ•´ä¸ª GPT çš„ç»“æ„æ‹†è§£å®Œæ¯•ã€‚\n","categories":["LLM"],"tags":["LLM"]},{"title":"ã€Smol Courseã€‘1-æŒ‡ä»¤è°ƒä¼˜","url":"/blog/LLM/smol1/","content":"Chat templateMessage and modelä»¥ä¸‹ä»£ç å®šä¹‰äº†ä¸€æ¡æ¶ˆæ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·å’Œå¤§æ¨¡å‹ä¸¤ä¸ªè§’è‰²ã€‚\nmessages = [    &#123;        &quot;role&quot;: &quot;user&quot;,         &quot;content&quot;: &quot;Hello, how are you?&quot;&#125;,    &#123;        &quot;role&quot;: &quot;assistant&quot;,        &quot;content&quot;: &quot;I&#x27;m doing well, thank you! How can I assist you today?&quot;,    &#125;,]\næ¨¡å‹åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šmodelï¼ˆdecoderï¼‰å’Œ tokenizerã€‚\nfrom transformers import AutoModelForCausalLM, AutoTokenizerfrom trl import setup_chat_formatimport torchdevice = (    &quot;cuda&quot;    if torch.cuda.is_available()    else &quot;mps&quot; if torch.backends.mps.is_available() else &quot;cpu&quot;)model_name = &quot;D:\\study\\smol-course\\data\\SmolLM2-135M&quot;model = AutoModelForCausalLM.from_pretrained(    pretrained_model_name_or_path=model_name).to(device)tokenizer = AutoTokenizer.from_pretrained(pretrained_model_name_or_path=model_name)model, tokenizer = setup_chat_format(model=model, tokenizer=tokenizer)\n\næ³¨æ„è¿™é‡Œçš„ setup_chat_format æ–¹æ³•ï¼Œé€šè¿‡æ·»åŠ ç‰¹æ®Šçš„ token æ¥è®¾ç½®æ¨¡å‹çš„èŠå¤©æ¨¡æ¿ã€‚\nApply chat templateä½¿ç”¨ tokenizer çš„ apply_chat_template æ–¹æ³•å°†å®šä¹‰çš„ messageï¼ˆlistï¼‰è½¬æ¢ä¸ºå¸¦ç‰¹æ®Š token çš„å­—ç¬¦ä¸²ï¼š\ninput_text = tokenizer.apply_chat_template(messages, tokenize=False)print(&quot;Conversation with template:\\n&quot;, input_text)\n\nç»“æœä¸ºï¼š\n\n&lt;|im_start|&gt;userHello, how are you?&lt;|im_end|&gt;&lt;|im_start|&gt;assistantIâ€™m doing well, thank you! How can I assist you today?&lt;|im_end|&gt;  \n\nå¦‚æœå°† tokenize å‚æ•°è®¾ç½®ä¸º trueï¼Œåˆ™ä¼šå°† token æ˜ å°„ä¸º token è¡¨ä¸­çš„ idã€‚å¯ä»¥ä½¿ç”¨ tokenizer çš„ decode æ–¹æ³•å°† id è½¬æ¢ä¸º tokenã€‚\ninput_text = tokenizer.apply_chat_template(    messages, tokenize=True, add_generation_prompt=True)print(&quot;Conversation decoded:&quot;, tokenizer.decode(token_ids=input_text))\n\næ­¤å¤–ï¼Œapply_chat_template è¿˜æœ‰ä¸€ä¸ªå‚æ•° ä¸º add_generation_promptï¼Œä½œç”¨æ˜¯æ·»åŠ ä¸‹ä¸€æ¡æ¶ˆæ¯çš„å¼€å¤´ï¼Œå³ä¸‹é¢ç»“æœçš„æœ€åä¸€è¡Œ &lt;|im_start|&gt;assistant ã€‚ \n\nConversation decoded: &lt;|im_start|&gt;userHello, how are you?&lt;|im_end|&gt;&lt;|im_start|&gt;assistantIâ€™m doing well, thank you! How can I assist you today?&lt;|im_end|&gt;&lt;|im_start|&gt;assistant  \n\nProcess datatset for SFTä¸ºç°æœ‰çš„æ•°æ®é›†æ·»åŠ èŠå¤©æ¨¡æ¿ã€‚\næ¡ˆä¾‹ 1é¦–å…ˆåŠ è½½æ•°æ®é›†å¹¶æ‰“å°\nfrom datasets import load_datasetds = load_dataset(&quot;HuggingFaceTB/smoltalk&quot;, &quot;everyday-conversations&quot;, cache_dir=&quot;D:\\study\\smol-course\\data&quot;)print(ds)\n\nç»“æœä¸ºå¦‚ä¸‹ï¼ŒåŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸ºæµ‹è¯•é›†å’Œè®­ç»ƒé›†ã€‚\n\nDatasetDict({\n     train: Dataset({\n         features: ['full_topic', 'messages'],\n         num_rows: 2260\n     })\n     test: Dataset({\n         features: ['full_topic', 'messages'],\n         num_rows: 119\n     })\n})\n\n\nè¿™é‡Œçš„ message å°±æ˜¯ä¸€ä¸ªåŒ…å«äº†ç”¨æˆ·å’Œå¤§æ¨¡å‹ä¹‹é—´å¯¹è¯çš„ listï¼Œå†…å®¹å¦‚ä¸‹ï¼Œå¯ä»¥ç›´æ¥åº”ç”¨èŠå¤©æ¨¡æ¿ã€‚\n\n[{â€˜contentâ€™: â€˜Hi thereâ€™, â€˜roleâ€™: â€˜userâ€™}, {â€˜contentâ€™: â€˜Hello! How can I help you today?â€™, â€˜roleâ€™: â€˜assistantâ€™}, {â€˜contentâ€™: â€œIâ€™m looking for a beach resort for my next vacation. Can you recommend some popular ones?â€, â€˜roleâ€™: â€˜userâ€™}, {â€˜contentâ€™: â€œSome popular beach resorts include Maui in Hawaii, the Maldives, and the Bahamas. Theyâ€™re known for their beautiful beaches and crystal-clear waters.â€, â€˜roleâ€™: â€˜assistantâ€™}, {â€˜contentâ€™: â€˜That sounds great. Are there any resorts in the Caribbean that are good for families?â€™, â€˜roleâ€™: â€˜userâ€™}, {â€˜contentâ€™: â€˜Yes, the Turks and Caicos Islands and Barbados are excellent choices for family-friendly resorts in the Caribbean. They offer a range of activities and amenities suitable for all ages.â€™, â€˜roleâ€™: â€˜assistantâ€™}, {â€˜contentâ€™: â€œOkay, Iâ€™ll look into those. Thanks for the recommendations!â€, â€˜roleâ€™: â€˜userâ€™}, {â€˜contentâ€™: â€œYouâ€™re welcome. I hope you find the perfect resort for your vacation.â€, â€˜roleâ€™: â€˜assistantâ€™}]\n\nåº”ç”¨èŠå¤©æ¨¡æ¿çš„ä»£ç ä¸ºï¼š\ndef process_dataset(sample):    # TODO: ğŸ¢ Convert the sample into a chat format    # use the tokenizer&#x27;s method to apply the chat template    sample = tokenizer.apply_chat_template(sample[&quot;messages&quot;], tokenize=False)        return &#123;&quot;chat&quot;: sample&#125;ds = ds.map(process_dataset)print(ds)\n\nä¸Šè¿°ä»£ç å®šä¹‰ä¸€ä¸ª process_dataset å‡½æ•°ï¼Œç”¨äºå¤„ç†æ•°æ®é›†ã€‚map æ–¹æ³•å¯¹æ•°æ®é›†ä¸­çš„æ¯ä¸ªæ ·æœ¬éƒ½æ‰§è¡Œç»™å®šçš„å‡½æ•°ã€‚æ­¤å¤–ï¼Œmap æ˜¯æ›´æ–°å¼æ˜ å°„ï¼Œå¸Œæœ›è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œæ·»åŠ åˆ°åŸæœ‰çš„æ•°æ®é›†å­—å…¸ä¸­ã€‚ä¸Šè¿°ä»£ç çš„ç»“æœä¸ºï¼š\nDatasetDict({\n    train: Dataset({\n        features: ['full_topic', 'messages', 'chat'],\n        num_rows: 2260\n    })\n    test: Dataset({\n        features: ['full_topic', 'messages', 'chat'],\n        num_rows: 119\n    })\n})\n\nå¯ä»¥çœ‹åˆ°ï¼ŒåŸæœ‰çš„æ•°æ®é›†å­—å…¸ä¸­æ–°å¢äº†ä¸€ä¸ªå­—æ®µï¼Œå†…å®¹ä¸ºæ·»åŠ äº†èŠå¤©æ¨¡æ¿çš„å­—ç¬¦ä¸²ã€‚\næ¡ˆä¾‹ 2æœ¬æ•°æ®é›†åŒ…å«äº†ä¸€ä¸ªé—®é¢˜å’Œç›¸åº”çš„å›ç­”ï¼Œæ‰€ä»¥åœ¨ process_dataset å‡½æ•°ä¸­è¦å…ˆå®šä¹‰ä¸€ä¸ª messageï¼Œç„¶åå†å°† message è½¬æ¢ä¸ºå¸¦å¤´èŠå¤©æ¨¡æ¿çš„å­—ç¬¦ä¸²ã€‚\nds = load_dataset(&quot;openai/gsm8k&quot;, &quot;main&quot;, cache_dir=&quot;D:\\study\\smol-course\\data&quot;)print(ds)def process_dataset(sample):    # TODO: ğŸ• Convert the sample into a chat format    # 1. create a message format with the role and content    message = [        &#123;&#x27;role&#x27;: &#x27;user&#x27;, &#x27;content&#x27;: sample[&#x27;question&#x27;]&#125;,        &#123;&#x27;role&#x27;: &#x27;assistant&#x27;, &#x27;content&#x27;: sample[&#x27;answer&#x27;]&#125;    ]    # 2. apply the chat template to the samples using the tokenizer&#x27;s method    sample = tokenizer.apply_chat_template(message, tokenize=False)    return &#123;&quot;chat&quot;: sample&#125;ds = ds.map(process_dataset)print(ds)\n\nç»“æœä¸ºï¼š\nDatasetDict({\n    train: Dataset({\n        features: ['question', 'answer'],\n        num_rows: 7473\n    })\n    test: Dataset({\n        features: ['question', 'answer'],\n        num_rows: 1319\n    })\n})\nDatasetDict({\n    train: Dataset({\n        features: ['question', 'answer', 'chat'],\n        num_rows: 7473\n    })\n    test: Dataset({\n        features: ['question', 'answer', 'chat'],\n        num_rows: 1319\n    })\n})\n","categories":["LLM"],"tags":["trl"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘æ•°ç»„1-äºŒåˆ†æŸ¥æ‰¾","url":"/blog/Leetcode/array1/","content":"åŸºæœ¬çŸ¥è¯†\næ•°ç»„å…ƒç´ æŒ‰ç…§é¡ºåºæ’åˆ—\næ•°ç»„å…ƒç´ æ— æ³•åˆ é™¤ï¼Œåªèƒ½æ›¿ä»£ï¼ˆå¡«å……ï¼‰\npython ä¸­ï¼Œä½¿ç”¨ listï¼Œä»£ç ä¸­ List æ˜¯ç±»å‹æ³¨è§£ä¸­çš„ä¸€ç§è¡¨ç¤ºæ–¹å¼ï¼Œé€šå¸¸å‡ºç°åœ¨ç±»å‹æç¤ºä¸­ã€‚python 3.9 ä¹‹åå¯ä»¥ä½¿ç”¨å†…ç½®çš„ list æ¥æ›¿ä»£ Listã€‚\n\n704. äºŒåˆ†æŸ¥æ‰¾\né¢˜ç›®é“¾æ¥ link\n\nç»™å®šä¸€ä¸ª n ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ target  ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ nums ä¸­çš„ targetï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚\n\nè¾“å…¥: nums &#x3D; [-1,0,3,5,9,12], target &#x3D; 9è¾“å‡º: 4è§£é‡Š: 9 å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º 4     \n\nä¸¤ä¸ªè¦ç‚¹\næ•°ç»„ä¸­å…ƒç´ æŒ‰ç…§é¡ºåºæ’åˆ—\næ— é‡å¤çš„æ•°å­—ï¼ˆå¦åˆ™å…ƒç´ ä¸‹æ ‡ä¸å”¯ä¸€ï¼‰\nå¦‚æœæœ‰é‡å¤çš„æ•°å­—ï¼Œè¦æ±‚è¿”å›æœ€å°çš„é‚£ä¸ªå‘¢ï¼Ÿ\n\n\n\nè§£æ³•\nåŒºé—´å®šä¹‰ï¼šå®šä¹‰ target æ‰€åœ¨çš„åŒºé—´æ˜¯å·¦é—­å³å¼€è¿˜æ˜¯å·¦å³å…¨é—­\næ ¸å¿ƒï¼šå°†æ•°ç»„åˆ†å‰²ä¸ºä¸‰ä¸ªéƒ¨åˆ†\nå·¦å³å…¨é—­ï¼š[0, middle-1] , middle, [middle + 1, len - 1] æˆ–è€…\nå·¦å¼€å³é—­ï¼š[0, middle) , middle, [middle + 1, len)\n\n\n\nå·¦å³å…¨é—­\nåŒºé—´ä¸º [left, right]ï¼š\nå®šä¹‰ right ä¸º len(nums) - 1ï¼Œå› ä¸º right è¦æœ‰å«ä¹‰\nå¾ªç¯æ¡ä»¶ while(left &lt;&#x3D; right) ï¼Œå› ä¸ºleft &#x3D;&#x3D; rightæ˜¯æœ‰æ„ä¹‰çš„\nåˆ¤æ–­æ¡ä»¶ï¼Œè‹¥ middle å¤§äº target ï¼Œåˆ™éå†å·¦åŒºé—´ï¼Œè®¾ç½® right &#x3D; middle - 1ï¼Œå› ä¸ºæ­¤æ—¶ä¸ºå³é—­åŒºé—´ï¼Œä¸ä¼šå†è®¿é—® middleï¼›åŒç†ï¼Œè‹¥ middle å°äº targetï¼Œåˆ™éå†å³è¾¹åŒºé—´ï¼Œè®¾ç½® left &#x3D; middle + 1ï¼ŒåŒæ ·å› ä¸ºæ˜¯é—­åŒºé—´ï¼Œä¸ä¼šå†è®¿é—® middleã€‚\n\n\nä»£ç ï¼šclass Solution:    def search(self, nums: List[int], target: int) -&gt; int:        left = 0        right = len(nums) - 1        while left &lt;= right:            middle = int((left + right) / 2)            if nums[middle] &gt; target:                right = middle - 1            elif nums[middle] &lt; target:                left = middle + 1            else:                return middle        return -1        \n\nå·¦é—­å³å¼€\nåŒºé—´ä¸º [left, right)ï¼š\n\nå®šä¹‰ right ä¸º len(nums)ï¼Œå› ä¸ºä¸ä¼šè®¿é—® rightï¼Œæ‰€ä»¥è®¾ç½®ä¸ºåŒºé—´é•¿åº¦\nå¾ªç¯æ¡ä»¶ while(left &lt; right) ï¼Œå› ä¸ºleft &#x3D;&#x3D; rightæ²¡æœ‰æ„ä¹‰ï¼ˆå³è¾¹ä¸ºå¼€åŒºé—´ï¼‰\nåˆ¤æ–­æ¡ä»¶ï¼Œè‹¥ middle å¤§äº target ï¼Œåˆ™éå†å·¦åŒºé—´ï¼Œè®¾ç½® right &#x3D; middleï¼Œå› ä¸ºæ­¤æ—¶ä¸ºå³å¼€åŒºé—´ï¼Œè®¾ç½® right&#x3D;middle å®é™…ä¸Šä¸‹ä¸€æ¬¡ä¼šè®¿é—® middle - 1 ã€‚\n\n\nä»£ç ï¼š\nclass Solution:    def search(self, nums: List[int], target: int) -&gt; int:        left = 0        right = len(nums)        while left &lt; right:            middle = int((left + right) / 2)            if nums[middle] &gt; target:                right = middle            elif nums[middle] &lt; target:                left = middle + 1            else:                return middle        return -1 \n\nç›¸å…³é¢˜ç›®1ï¼š35. æœç´¢æ’å…¥ä½ç½®\né¢˜ç›®é“¾æ¥ link\n\nç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚\nä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚\nè¦ç‚¹\næ— é‡å¤å…ƒç´  + å‡åºæ’åˆ—ï¼Œè€ƒè™‘äºŒåˆ†æŸ¥æ‰¾\n\nè¿™é“é¢˜ç›¸è¾ƒäºäºŒåˆ†æŸ¥æ‰¾ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ª target ä¸å­˜åœ¨çš„æƒ…å†µï¼Œåœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œä¸€å®šæ»¡è¶³ left &#x3D;&#x3D; right + 1 ï¼ˆå·¦å³éƒ½ä¸ºé—­åŒºé—´çš„æƒ…å†µï¼‰\n\nå› ä¸ºï¼Œåœ¨å¾ªç¯çš„æœ€åä¸€è½®ï¼Œæ»¡è¶³ left &#x3D;&#x3D; rightï¼Œæ­¤æ—¶ åªå‰©ä¸‹æœ€åä¸€ä¸ªæ•°å­—ï¼Œmiddle ä¹Ÿä¸º left ï¼ˆrightï¼‰ã€‚æ­¤æ—¶è‹¥ middle æ•°å°äº targetï¼Œåˆ™ left + 1ï¼Œåä¹‹åˆ™ right - 1ã€‚\nåŸºäºè¿™ä¸ªåŸç†ï¼Œè‹¥ middle æ•°å°äº targetï¼Œtarget åº”è¯¥æ”¾åœ¨ middle + 1 ä¸Šï¼Œè‹¥ middle æ•°å¤§äº targetï¼Œåˆ™ target åº”è¯¥æ”¾åœ¨ middle ä¸Š\nå¯¹æ¯”ä¸Šè¿°ä¸¤æ¡ï¼Œå¯ä»¥å‘ç°ï¼š\nmiddle æ•°å°äº targetï¼Œleft + 1ï¼Œæ”¾åœ¨ middle + 1çš„ä½ç½®\nmiddle æ•°å¤§äº targetï¼Œ right - 1, middle ä¸å˜ï¼Œæ”¾åœ¨ middle çš„ä½ç½®\nmiddle çš„å˜åŒ–å’Œ left ç›¸åŒï¼Œå³å°äºæ—¶åŠ 1ï¼Œå¤§äºæ—¶ä¸å˜ï¼Œè€Œæœ€åä¸€è½®å¾ªç¯æ—¶ middleã€leftã€right å‡ç›¸åŒï¼Œåˆ™æœ€åçš„ç»“æœä¸€å®šä¸º leftã€‚\n\n\n\n\nä»£ç å¦‚ä¸‹ï¼Œåªéœ€å°†äºŒåˆ†æŸ¥æ‰¾çš„ä»£ç çš„æœ€åä¸€è¡Œï¼Œæ”¹ä¸º return left å³å¯\nclass Solution:    def search(self, nums: List[int], target: int) -&gt; int:        left = 0        right = len(nums) - 1        while left &lt;= right:            middle = int((left + right) / 2)            if nums[middle] &gt; target:                right = middle - 1            elif nums[middle] &lt; target:                left = middle + 1            else:                return middle        return left\n\nç›¸å…³é¢˜ç›®2ï¼š34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®\né¢˜ç›®é“¾æ¥ linkç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚\n\nå¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚\nè¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º $O(\\log n)$ çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šnums &#x3D; [5,7,7,8,8,10], target &#x3D; 8è¾“å‡ºï¼š[3,4]\n\nç¤ºä¾‹ 2ï¼š\n\nè¾“å…¥ï¼šnums &#x3D; [5,7,7,8,8,10], target &#x3D; 6è¾“å‡ºï¼š[-1,-1]\n\nç¤ºä¾‹ 3ï¼š\n\nè¾“å…¥ï¼šnums &#x3D; [], target &#x3D; 0è¾“å‡ºï¼š[-1,-1]\n\næ€è·¯\nç›¸ä¼¼äºäºŒåˆ†æŸ¥æ‰¾ï¼Œåˆ†åˆ«æ‰¾å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œæ‰¾åˆ°ä¸€ä¸ªç›®æ ‡å\nè‹¥è¦æ‰¾å·¦è¾¹ç•Œï¼Œåˆ™åœ¨æ‰¾åˆ°çš„ç›®æ ‡çš„å·¦è¾¹æ•°ç»„ä¸­å†æ¬¡æŸ¥æ‰¾ï¼Œright &#x3D; middle - 1ã€‚å³è®¤ä¸ºå½“å‰æ‰¾åˆ°çš„æ•°æ¯”å®é™…çš„ target å¤§ã€‚\nç›¸ä¼¼çš„ï¼Œè‹¥è¦æ‰¾å³è¾¹ç•Œï¼Œåˆ™åœ¨æ‰¾åˆ°çš„ç›®æ ‡çš„å³è¾¹æ•°ç»„ä¸­å†æ¬¡æŸ¥æ‰¾ï¼Œleft &#x3D; middle + 1ã€‚å³è®¤ä¸ºå½“å‰æ‰¾åˆ°çš„æ•°æ¯”å®é™…çš„ target å°ã€‚class Solution:    def searchRange(self, nums: List[int], target: int) -&gt; int:                leftb = mySearch(nums, target, True)        rightb = mySearch(nums, target, False)        def mySearch(nums: List[int], target: int, side: bool):            left = 0            right = len(nums) - 1            res = -1            while left &lt;= right:                middle = int((left + right) / 2)                if nums[middle] &gt; target:                    right = middle - 1                elif nums[middle] &lt; target:                    left = middle + 1                else:                    res = middle                    if side:                        # å·¦è¾¹ç•Œ                        right = middle - 1                    else:                        left = middle + 1            return res        return [leftb, rightb]\n\n\n\nç›¸å…³é¢˜ç›®3ï¼š367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°\né¢˜ç›®é“¾æ¥ linkç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•° x ï¼Œè®¡ç®—å¹¶è¿”å› x çš„ ç®—æœ¯å¹³æ–¹æ ¹ ã€‚\n\nç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™ æ•´æ•°éƒ¨åˆ† ï¼Œå°æ•°éƒ¨åˆ†å°†è¢« èˆå» ã€‚\næ³¨æ„ï¼šä¸å…è®¸ä½¿ç”¨ä»»ä½•å†…ç½®æŒ‡æ•°å‡½æ•°å’Œç®—ç¬¦ï¼Œä¾‹å¦‚ pow(x, 0.5) æˆ–è€… x ** 0.5 ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šx &#x3D; 4è¾“å‡ºï¼š2\n\nç¤ºä¾‹ 2ï¼š\n\nè¾“å…¥ï¼šx &#x3D; 8è¾“å‡ºï¼š2è§£é‡Šï¼š8 çš„ç®—æœ¯å¹³æ–¹æ ¹æ˜¯ 2.82842â€¦, ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚\n\næ€è·¯\näºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå¹³æ–¹ä¸å¤§äº x çš„æ•°å­—ã€‚class Solution:    def mySqrt(self, x: int) -&gt; int:        left = 0        right = x - 1        if x == 0: return 0        if x == 1: return 1        while left &lt;= right:            middle = int((left + right) / 2)            if middle * middle &gt; x:                right = middle - 1            elif middle * middle &lt; x:                left = middle + 1            else:                return middle        return right        \n\n","categories":["Leetcode"],"tags":["Array"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘æ•°ç»„2-åŒæŒ‡é’ˆæ³•","url":"/blog/Leetcode/array2/","content":"27. ç§»é™¤å…ƒç´ \né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸€ä¸ªæ•°ç»„ nums å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦ åŸåœ° ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº val çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚\nä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´å¹¶åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚\nå…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚\nç¤ºä¾‹ 1: \n\nç»™å®š nums &#x3D; [3,2,2,3], val &#x3D; 3, å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚ ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚\n\nç¤ºä¾‹ 2: \n\nç»™å®š nums &#x3D; [0,1,2,2,3,0,4,2], val &#x3D; 2, å‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0, 1, 3, 0, 4ã€‚\n\nä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚\næ³¨æ„ï¼šéœ€è¦æ”¹åŠ¨åŸæ¥çš„æ•°ç»„ï¼Œè™½ç„¶æ²¡æœ‰ç›´æ¥è¿”å›æ”¹åŠ¨åçš„æ•°ç»„\næš´åŠ›è§£æ³•ä¸¤ä¸ªå¾ªç¯ï¼Œåˆ†åˆ«ç”¨äºæŸ¥æ‰¾ val å’Œç§»åŠ¨åç»­å…ƒç´ ã€‚æ³¨æ„ç¬¬ä¸€ä¸ªå¾ªç¯è¦ç”¨ whileï¼Œå› ä¸ºç§»åŠ¨åç»­å…ƒç´ æ—¶å‡å°‘äº†ä¸€ä½ï¼Œfor å¾ªç¯æ— æ³•æ§åˆ¶å˜é‡ iã€‚\nclass Solution:    def removeElement(self, nums: List[int], val: int) -&gt; int:        size = len(nums)        i = 0        while i &lt; size:            if nums[i] == val:                for j in range(i+1, size):                    nums[j-1] = nums[j]                size -= 1                i -= 1            i += 1        return size\n\nåŒæŒ‡é’ˆæ³•åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰ï¼š é€šè¿‡ä¸€ä¸ªå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆåœ¨ä¸€ä¸ªforå¾ªç¯ä¸‹å®Œæˆä¸¤ä¸ªforå¾ªç¯çš„å·¥ä½œã€‚æœ¬é¢˜ä¸­ï¼Œä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«ä»£è¡¨ï¼š\n\nå¿«æŒ‡é’ˆï¼šæŸ¥æ‰¾çš„ç´¢å¼•\næ…¢æŒ‡é’ˆï¼šæ›´æ”¹åçš„æ•°ç»„çš„ç´¢å¼•æ­¤å¤–ï¼Œæ¯ä¸€æ­¥éƒ½éœ€è¦æŠŠå¿«æŒ‡é’ˆçš„å€¼èµ‹å€¼ç»™æ…¢æŒ‡é’ˆï¼ˆæ— è®ºæ˜¯å¦é‡åˆ°ç­‰äºï¼‰class Solution:    def removeElement(self, nums: List[int], val: int) -&gt; int:        size = len(nums)        fast, slow = 0, 0        while fast &lt; size:            nums[slow] = nums[fast]            if nums[fast] == val:                slow -= 1            fast += 1            slow += 1                return slow\n\n26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸€ä¸ª éä¸¥æ ¼é€’å¢æ’åˆ— çš„æ•°ç»„ nums ï¼Œè¯·ä½  åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  åªå‡ºç°ä¸€æ¬¡ ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚å…ƒç´ çš„ ç›¸å¯¹é¡ºåº åº”è¯¥ä¿æŒ ä¸€è‡´ ã€‚ç„¶åè¿”å› nums ä¸­å”¯ä¸€å…ƒç´ çš„ä¸ªæ•°ã€‚\nè€ƒè™‘ nums çš„å”¯ä¸€å…ƒç´ çš„æ•°é‡ä¸º k ï¼Œä½ éœ€è¦åšä»¥ä¸‹äº‹æƒ…ç¡®ä¿ä½ çš„é¢˜è§£å¯ä»¥è¢«é€šè¿‡ï¼š\næ›´æ”¹æ•°ç»„ nums ï¼Œä½¿ nums çš„å‰ k ä¸ªå…ƒç´ åŒ…å«å”¯ä¸€å…ƒç´ ï¼Œå¹¶æŒ‰ç…§å®ƒä»¬æœ€åˆåœ¨ nums ä¸­å‡ºç°çš„é¡ºåºæ’åˆ—ã€‚nums çš„å…¶ä½™å…ƒç´ ä¸ nums çš„å¤§å°ä¸é‡è¦ã€‚è¿”å› k ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šnums &#x3D; [1,1,2]è¾“å‡ºï¼š2, nums &#x3D; [1,2,_]è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2 ï¼Œå¹¶ä¸”åŸæ•°ç»„ nums çš„å‰ä¸¤ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 2 ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚\n\nç¤ºä¾‹ 2ï¼š\n\nè¾“å…¥ï¼šnums &#x3D; [0,0,1,1,1,2,2,3,3,4]è¾“å‡ºï¼š5, nums &#x3D; [0,1,2,3,4]è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5 ï¼Œ å¹¶ä¸”åŸæ•°ç»„ nums çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 1, 2, 3, 4 ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚\n\næ€è·¯ä»ç„¶æ˜¯å¿«æ…¢æŒ‡é’ˆæ³•ï¼Œåªæ˜¯æ²¡æœ‰ç»™å®š valï¼Œéœ€è¦åœ¨å¾ªç¯ä¸­åŠ¨æ€æ›´æ–° valã€‚æ›´æ–° val çš„è§„åˆ™ä¸ºï¼Œå¦‚æœå½“å‰ fast å¯¹åº”çš„å€¼ä¸ç­‰äº valï¼Œåˆ™å°†å…¶èµ‹å€¼ç»™ valã€‚å› ä¸ºæ•°ç»„å‡åºæ’åˆ—ï¼Œç›¸åŒçš„æ•°å­—åœ¨ä¸€èµ·ï¼Œå¦‚æœ fast å¯¹åº”çš„å€¼å’Œ valï¼ˆä¸Šä¸€ä¸ªæ•°å­—ï¼‰ä¸ç›¸ç­‰ï¼Œè¯´æ˜ä¸Šä¸€ä¸ªæ•°å­—å·²ç»ä¸é‡å¤äº†ã€‚\nclass Solution:    def removeDuplicates(self, nums: List[int]) -&gt; int:        slow, fast = 0, 0        size = len(nums)        val = None               while fast &lt; size:            nums[slow] = nums[fast]            if val == nums[fast]:                slow -= 1            else:                val = nums[fast]            slow += 1            fast += 1        return slow\n283. ç§»åŠ¨é›¶\né¢˜ç›®é“¾æ¥ link\n\nç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚\nè¯·æ³¨æ„ ï¼Œå¿…é¡»åœ¨ä¸å¤åˆ¶æ•°ç»„çš„æƒ…å†µä¸‹åŸåœ°å¯¹æ•°ç»„è¿›è¡Œæ“ä½œã€‚\nç¤ºä¾‹ 1:\n\nè¾“å…¥: nums &#x3D; [0,1,0,3,12]è¾“å‡º: [1,3,12,0,0]\n\nç¤ºä¾‹ 2:\n\nè¾“å…¥: nums &#x3D; [0]è¾“å‡º: [0]\n\næ€è·¯ç›¸å½“äºæ˜¯ val ä¸º 0 çš„åˆ é™¤å…ƒç´ ï¼ŒåŒæ ·ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ³•ï¼Œåªæ˜¯æœ€åéœ€è¦å°† [slow, fast) åŒºé—´å†…çš„å…ƒç´ èµ‹å€¼ä¸º 0ã€‚\nclass Solution:    def moveZeroes(self, nums: List[int]) -&gt; None:        &quot;&quot;&quot;        Do not return anything, modify nums in-place instead.        &quot;&quot;&quot;        slow, fast, size = 0, 0, len(nums)        while fast &lt; size:            nums[slow] = nums[fast]            if nums[fast] == 0:                slow -= 1            slow += 1            fast += 1                if fast != slow:            for i in range(slow, fast):                nums[i] = 0\n844. æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸²\né¢˜ç›®é“¾æ¥ link\n\nç»™å®š s å’Œ t ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå½“å®ƒä»¬åˆ†åˆ«è¢«è¾“å…¥åˆ°ç©ºç™½çš„æ–‡æœ¬ç¼–è¾‘å™¨åï¼Œå¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œè¿”å› true ã€‚# ä»£è¡¨é€€æ ¼å­—ç¬¦ã€‚\næ³¨æ„ï¼šå¦‚æœå¯¹ç©ºæ–‡æœ¬è¾“å…¥é€€æ ¼å­—ç¬¦ï¼Œæ–‡æœ¬ç»§ç»­ä¸ºç©ºã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šs &#x3D; â€œab#câ€, t &#x3D; â€œad#câ€è¾“å‡ºï¼štrueè§£é‡Šï¼šs å’Œ t éƒ½ä¼šå˜æˆ â€œacâ€ã€‚\n\nç¤ºä¾‹ 2ï¼š\n\nè¾“å…¥ï¼šs &#x3D; â€œab##â€, t &#x3D; â€œc#d#â€è¾“å‡ºï¼štrueè§£é‡Šï¼šs å’Œ t éƒ½ä¼šå˜æˆ â€œâ€ã€‚\n\nç¤ºä¾‹ 3ï¼š\n\nè¾“å…¥ï¼šs &#x3D; â€œa#câ€, t &#x3D; â€œbâ€è¾“å‡ºï¼šfalseè§£é‡Šï¼šs ä¼šå˜æˆ â€œcâ€ï¼Œä½† t ä»ç„¶æ˜¯ â€œbâ€ã€‚\n\næ€è·¯1åŒæŒ‡é’ˆæ³•ï¼Œç›¸å½“äºæ˜¯æŸ¥æ‰¾ â€œ#â€ å­—ç¬¦ï¼ŒæŸ¥æ‰¾åˆ°ä¹‹ååˆ é™¤ # ä»¥åŠå…¶ä¹‹å‰çš„å­—ç¬¦ã€‚æ³¨æ„è¦è€ƒè™‘ # ä¹‹å‰æ²¡æœ‰å­—ç¬¦çš„æƒ…å†µã€‚\nclass Solution:    def backspaceCompare(self, s: str, t: str) -&gt; bool:        def dele(nums: list):            slow, fast, size = 0, 0, len(nums)            while fast &lt; size:                nums[slow] = nums[fast]                if nums[fast] == &quot;#&quot;:                    if slow == 0:                        slow -= 1                    else:                        slow -= 2                                slow += 1                fast += 1            if slow &lt; 0:                return []            else:                return nums[0: slow]                s1 = dele(list(s))        t1 = dele(list(t))        s = &quot;&quot;.join(s1)        t = &quot;&quot;.join(t1)        if s == t:            return True        else:            return False\n\næ€è·¯2ä½¿ç”¨æ ˆçš„æ€æƒ³ï¼Œéå†åˆ° # å­—ç¬¦ï¼Œåˆ™å½“å‰æ ˆé¡¶çš„å­—ç¬¦ popã€‚æ³¨æ„ list çš„ pop æ–¹æ³•éœ€è¦ list ä¸ä¸ºç©ºï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œåˆ¤æ–­ã€‚\nclass Solution:    def backspaceCompare(self, s: str, t: str) -&gt; bool:        def dele(nums: list):            ret = list()            for i in nums:                                if i != &quot;#&quot;:                                        ret.append(i)                elif len(ret) != 0:                    ret.pop()                        return &quot;&quot;.join(ret)        s = dele(list(s))        t = dele(list(t))                if s == t:            return True        else:            return False\n\n977. æœ‰åºæ•°ç»„çš„å¹³æ–¹\né¢˜ç›®é“¾æ¥ linkç»™ä½ ä¸€ä¸ªæŒ‰ éé€’å‡é¡ºåº æ’åºçš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ¯ä¸ªæ•°å­—çš„å¹³æ–¹ ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ éé€’å‡é¡ºåº æ’åºã€‚\n\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šnums &#x3D; [-4,-1,0,3,10]è¾“å‡ºï¼š[0,1,9,16,100]è§£é‡Šï¼šå¹³æ–¹åï¼Œæ•°ç»„å˜ä¸º [16,1,0,9,100]æ’åºåï¼Œæ•°ç»„å˜ä¸º [0,1,9,16,100]\n\nç¤ºä¾‹ 2ï¼š\n\nè¾“å…¥ï¼šnums &#x3D; [-7,-3,2,3,11]è¾“å‡ºï¼š[4,9,9,49,121]\n\næ€è·¯åŒæŒ‡é’ˆæ³•ï¼Œå·¦å³åˆ†åˆ«ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¾æ¬¡æ¯”è¾ƒå¤§å°ï¼Œç›´åˆ°å·¦æŒ‡é’ˆå¤§äºå³æŒ‡é’ˆã€‚æ³¨æ„ï¼Œè¿™é‡Œéœ€è¦è¿”å›æ–°çš„æ•°ç»„ï¼Œå’Œä¸Šé¢çš„é¢˜ç›®ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å¯ä»¥æ–°å»ºæ•°ç»„ï¼Œä¸éœ€è¦åœ¨åŸæœ‰æ•°ç»„ä¸Šæ“ä½œã€‚\nclass Solution:    def sortedSquares(self, nums: List[int]) -&gt; List[int]:        left, right = 0, len(nums) - 1        new_nums = [0] * len(nums)        i = len(nums) - 1        while left &lt;= right:            if nums[left] * nums[left] &lt; nums[right] * nums[right]:                new_nums[i] = nums[right] * nums[right]                right -= 1            else:                new_nums[i] = nums[left] * nums[left]                left += 1            i -= 1        return new_nums        \n","categories":["Leetcode"],"tags":["Array"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘æ•°ç»„3-æ»‘åŠ¨çª—å£æ³•","url":"/blog/Leetcode/array3/","content":"209.é•¿åº¦æœ€å°çš„å­æ•°ç»„\né¢˜ç›®é“¾æ¥ linkç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° target ã€‚\n\næ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶æ€»å’Œå¤§äºç­‰äº target çš„é•¿åº¦æœ€å°çš„ å­æ•°ç»„ [numsl, numsl+1, â€¦, numsr-1, numsr] ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0 ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼štarget &#x3D; 7, nums &#x3D; [2,3,1,2,4,3]è¾“å‡ºï¼š2è§£é‡Šï¼šå­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚\n\nç¤ºä¾‹ 2ï¼š\n\nè¾“å…¥ï¼štarget &#x3D; 4, nums &#x3D; [1,4,4]è¾“å‡ºï¼š1\n\nç¤ºä¾‹ 3ï¼š\n\nè¾“å…¥ï¼štarget &#x3D; 11, nums &#x3D; [1,1,1,1,1,1,1,1]è¾“å‡ºï¼š0\n\nè§£æ³•1ï¼šæš´åŠ›å¾ªç¯ä¸¤ä¸ª for å¾ªç¯å³å¯è§£å†³ï¼Œåˆ†åˆ«éå†å­æ•°ç»„çš„å¼€å¤´ä»¥åŠå­æ•°ç»„å†…éƒ¨ã€‚ä½¿ç”¨ python å¯èƒ½ä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ã€‚\nclass Solution:    def minSubArrayLen(self, target: int, nums: List[int]) -&gt; int:        min_len = 0        for i in range(len(nums)):            array_sum = 0            for j in range(i, len(nums)):                                array_sum += nums[j]                if array_sum &gt;= target:                    cur_len = j - i + 1                    if min_len == 0 or min_len &gt; cur_len:                        min_len = cur_len                    break                return min_len\n\nè§£æ³•2ï¼šå‰ç¼€å’Œ+äºŒåˆ†æŸ¥æ‰¾æ–¹æ³•ä¸€ä¸­ï¼Œç¡®å®šäº†æ•°ç»„çš„å¼€å§‹ä½ç½®ï¼ŒæŸ¥æ‰¾ç»“æŸä½ç½®çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œå¦‚æœä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œå¯ä»¥ä¼˜åŒ–åˆ° O(logn)ã€‚ä¸ºäº†ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œéœ€è¦é¢å¤–åˆ›å»ºä¸€ä¸ªæ•°ç»„ sums ç”¨äºå­˜å‚¨æ•°ç»„ nums çš„å‰ç¼€å’Œï¼Œå…¶ä¸­ sums[i] è¡¨ç¤ºä» nums[0] åˆ° nums[iâˆ’1] çš„å…ƒç´ å’Œã€‚å¾—åˆ°å‰ç¼€å’Œä¹‹åï¼Œå¯¹äºæ¯ä¸ªå¼€å§‹ä¸‹æ ‡ iï¼Œå¯é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å¾—åˆ°å¤§äºæˆ–ç­‰äº i çš„æœ€å°ä¸‹æ ‡ boundï¼Œä½¿å¾— sums[bound]âˆ’sums[iâˆ’1]â‰¥targetï¼Œå¹¶æ›´æ–°å­æ•°ç»„çš„æœ€å°é•¿åº¦ï¼ˆæ­¤æ—¶å­æ•°ç»„çš„é•¿åº¦æ˜¯ boundâˆ’(iâˆ’1)ï¼‰ã€‚\nç›¸å½“äºæ˜¯æŸ¥æ‰¾ç‰¹å®šå…ƒç´ çš„æ’å…¥ä½ç½®ï¼Œè¿™ä¸ªå€¼å°±æ˜¯é¢˜ç›®ä¸­ç»™å®šçš„ targetï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œå½“çª—å£çš„èµ·å§‹ä½ç½®ä¸ä¸º 0 æ—¶ï¼Œtarget éœ€è¦åŠ ä¸Šå½“å‰çª—å£çš„èµ·å§‹å‰ç¼€å’Œï¼Œå› ä¸ºæˆ‘ä»¬çš„çª—å£è¦æ»¡è¶³æ¡ä»¶ sums[end] - sums[start] &gt;&#x3D; sï¼Œå³ sums[end] &gt;&#x3D; s + sums[start]ï¼Œè¦æ‰¾åˆ°æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„ endï¼Œæ‰€ä»¥äºŒåˆ†æŸ¥æ‰¾çš„ target1 å®šä¹‰ä¸º target &#x3D; s + sums[start]ã€‚\nclass Solution:    def minSubArrayLen(self, s: int, nums: List[int]) -&gt; int:        if not nums:            return 0                n = len(nums)        ans = n + 1        sums = [0]        for i in range(n):            sums.append(sums[-1] + nums[i])                for i in range(1, n + 1):            target = s + sums[i - 1]            bound = bisect.bisect_left(sums, target)            if bound != len(sums):                ans = min(ans, bound - (i - 1))                return 0 if ans == n + 1 else ans\n\n\nè§£æ³•3ï¼šæ»‘åŠ¨çª—å£åœ¨æš´åŠ›è§£æ³•ä¸­ï¼Œæ˜¯ä¸€ä¸ªforå¾ªç¯æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œä¸€ä¸ªforå¾ªç¯ä¸ºæ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ï¼Œç”¨ä¸¤ä¸ªforå¾ªç¯å®Œæˆäº†ä¸€ä¸ªä¸æ–­æœç´¢åŒºé—´çš„è¿‡ç¨‹ã€‚\nåªç”¨ä¸€ä¸ªforå¾ªç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå¾ªç¯çš„ç´¢å¼•ï¼Œä¸€å®šæ˜¯è¡¨ç¤ºæ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ã€‚å¯¹äºçª—å£çš„èµ·å§‹ä½ç½®ï¼Œåˆ™åŸºäºçª—å£çš„å’Œæ¥åˆ¤æ–­æ˜¯å¦éœ€è¦ç§»åŠ¨ã€‚ä½¿ç”¨ä¸€ä¸ª while å¾ªç¯æ¥è¡¨ç¤ºï¼Œå¦‚æœå­æ•°ç»„çš„å’Œå¤§äº targetï¼Œåˆ™å‡å»çª—å£èµ·å§‹ä½ç½®çš„å€¼ï¼Œå¹¶ä½¿çª—å£èµ·å§‹ä½ç½® +1ã€‚\næ­¤å¤–ï¼Œä¸è¦ä»¥ä¸ºforé‡Œæ”¾ä¸€ä¸ªwhileå°±ä»¥ä¸ºæ˜¯O(n^2)ï¼Œ ä¸»è¦æ˜¯çœ‹æ¯ä¸€ä¸ªå…ƒç´ è¢«æ“ä½œçš„æ¬¡æ•°ï¼Œæ¯ä¸ªå…ƒç´ åœ¨æ»‘åŠ¨çª—åè¿›æ¥æ“ä½œä¸€æ¬¡ï¼Œå‡ºå»æ“ä½œä¸€æ¬¡ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯è¢«æ“ä½œä¸¤æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ 2 Ã— n ä¹Ÿå°±æ˜¯O(n)ã€‚\nclass Solution:    def minSubArrayLen(self, target: int, nums: List[int]) -&gt; int:        min_len = 0        start = 0        array_sum = 0        for end in range(len(nums)):            array_sum += nums[end]            while array_sum &gt;= target:                cur_len = end - start + 1                if min_len == 0 or min_len &gt; cur_len:                    min_len = cur_len                array_sum -= nums[start]                start += 1        return min_len\n\n904. æ°´æœæˆç¯®\né¢˜ç›®é“¾æ¥ link\n\nä½ æ­£åœ¨æ¢è®¿ä¸€å®¶å†œåœºï¼Œå†œåœºä»å·¦åˆ°å³ç§æ¤äº†ä¸€æ’æœæ ‘ã€‚è¿™äº›æ ‘ç”¨ä¸€ä¸ªæ•´æ•°æ•°ç»„ fruits è¡¨ç¤ºï¼Œå…¶ä¸­ fruits[i] æ˜¯ç¬¬ i æ£µæ ‘ä¸Šçš„æ°´æœç§ç±» ã€‚\nä½ æƒ³è¦å°½å¯èƒ½å¤šåœ°æ”¶é›†æ°´æœã€‚ç„¶è€Œï¼Œå†œåœºçš„ä¸»äººè®¾å®šäº†ä¸€äº›ä¸¥æ ¼çš„è§„çŸ©ï¼Œä½ å¿…é¡»æŒ‰ç…§è¦æ±‚é‡‡æ‘˜æ°´æœï¼š\nä½ åªæœ‰ ä¸¤ä¸ª ç¯®å­ï¼Œå¹¶ä¸”æ¯ä¸ªç¯®å­åªèƒ½è£… å•ä¸€ç±»å‹ çš„æ°´æœã€‚æ¯ä¸ªç¯®å­èƒ½å¤Ÿè£…çš„æ°´æœæ€»é‡æ²¡æœ‰é™åˆ¶ã€‚ä½ å¯ä»¥é€‰æ‹©ä»»æ„ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œä½ å¿…é¡»ä» æ¯æ£µ æ ‘ï¼ˆåŒ…æ‹¬å¼€å§‹é‡‡æ‘˜çš„æ ‘ï¼‰ä¸Š æ°å¥½æ‘˜ä¸€ä¸ªæ°´æœ ã€‚é‡‡æ‘˜çš„æ°´æœåº”å½“ç¬¦åˆç¯®å­ä¸­çš„æ°´æœç±»å‹ã€‚æ¯é‡‡æ‘˜ä¸€æ¬¡ï¼Œä½ å°†ä¼šå‘å³ç§»åŠ¨åˆ°ä¸‹ä¸€æ£µæ ‘ï¼Œå¹¶ç»§ç»­é‡‡æ‘˜ã€‚ä¸€æ—¦ä½ èµ°åˆ°æŸæ£µæ ‘å‰ï¼Œä½†æ°´æœä¸ç¬¦åˆç¯®å­çš„æ°´æœç±»å‹ï¼Œé‚£ä¹ˆå°±å¿…é¡»åœæ­¢é‡‡æ‘˜ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ fruits ï¼Œè¿”å›ä½ å¯ä»¥æ”¶é›†çš„æ°´æœçš„ æœ€å¤§ æ•°ç›®ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šfruits &#x3D; [1,2,1]è¾“å‡ºï¼š3è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜å…¨éƒ¨ 3 æ£µæ ‘ã€‚\n\nç¤ºä¾‹ 2ï¼š\n\nè¾“å…¥ï¼šfruits &#x3D; [0,1,2,2]è¾“å‡ºï¼š3è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [1,2,2] è¿™ä¸‰æ£µæ ‘ã€‚å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [0,1] è¿™ä¸¤æ£µæ ‘ã€‚\n\nç¤ºä¾‹ 3ï¼š\n\nè¾“å…¥ï¼šfruits &#x3D; [1,2,3,2,2]è¾“å‡ºï¼š4è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [2,3,2,2] è¿™å››æ£µæ ‘ã€‚å¦‚æœä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œåˆ™åªèƒ½é‡‡æ‘˜ [1,2] è¿™ä¸¤æ£µæ ‘ã€‚\n\nç¤ºä¾‹ 4ï¼š\n\nè¾“å…¥ï¼šfruits &#x3D; [3,3,3,1,2,1,1,2,3,3,4]è¾“å‡ºï¼š5è§£é‡Šï¼šå¯ä»¥é‡‡æ‘˜ [1,2,1,1,2] è¿™äº”æ£µæ ‘ã€‚\n\næ€è·¯ç›¸å½“äºæ˜¯åªåŒ…å«ä¸¤ä¸ªæ•°å­—çš„æœ€é•¿å­æ•°ç»„ï¼Œä½¿ç”¨äº†ä¸€ä¸ª Counter ç±»ï¼ŒCounter æ˜¯ä¸€ä¸ªè®¡æ•°å™¨å­—å…¸ï¼Œå¯ä»¥è‡ªåŠ¨ç»Ÿè®¡å…ƒç´ å‡ºç°çš„æ¬¡æ•°ã€‚pop æ–¹æ³•ç”¨äºåˆ é™¤æŒ‡å®šçš„ keyï¼Œå¹¶å¯ä»¥è¿”å›å…¶ valueã€‚\nclass Solution:    def totalFruit(self, fruits: List[int]) -&gt; int:        max_len = 0        start = 0        cnt = Counter()        for end in range(0, len(fruits)):            cnt[fruits[end]] += 1            while len(cnt) &gt; 2:                cnt[fruits[start]] -= 1                if cnt[fruits[start]] == 0:                    cnt.pop(fruits[start])                            start += 1            max_len = max(max_len, end - start + 1)                return max_len\n\nCounter ç±»ç­‰ä»·äº\ncnt = &#123;&#125;cnt[x] = cnt.get(x, 0)\n\nget æ–¹æ³•æŸ¥æ‰¾æŒ‡å®š key å¯¹åº”çš„ valueï¼Œæ‰¾ä¸åˆ°æ—¶è¿”å›é»˜è®¤å€¼ï¼Œä½¿ç”¨åŸå§‹ dict çš„ä»£ç å¦‚ä¸‹ï¼š\nclass Solution:    def totalFruit(self, fruits: List[int]) -&gt; int:        max_len = 0        start = 0        cnt = dict()        for end in range(0, len(fruits)):            cnt[fruits[end]] = cnt.get(fruits[end], 0) + 1            while len(cnt) &gt; 2:                cnt[fruits[start]] -= 1                if cnt[fruits[start]] == 0:                    cnt.pop(fruits[start])                            start += 1            max_len = max(max_len, end - start + 1)                return max_len            \n\n76. æœ€å°è¦†ç›–å­ä¸²ï¼ˆHardï¼‰\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ã€ä¸€ä¸ªå­—ç¬¦ä¸² t ã€‚è¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² â€œâ€ ã€‚\næ³¨æ„ï¼š\nå¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚å¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šs &#x3D; â€œADOBECODEBANCâ€, t &#x3D; â€œABCâ€è¾“å‡ºï¼šâ€BANCâ€è§£é‡Šï¼šæœ€å°è¦†ç›–å­ä¸² â€œBANCâ€ åŒ…å«æ¥è‡ªå­—ç¬¦ä¸² t çš„ â€˜Aâ€™ã€â€™Bâ€™ å’Œ â€˜Câ€™ã€‚  \n\nç¤ºä¾‹ 2ï¼š\n\nè¾“å…¥ï¼šs &#x3D; â€œaâ€, t &#x3D; â€œaâ€è¾“å‡ºï¼šâ€aâ€è§£é‡Šï¼šæ•´ä¸ªå­—ç¬¦ä¸² s æ˜¯æœ€å°è¦†ç›–å­ä¸²ã€‚\n\nç¤ºä¾‹ 3:\n\nè¾“å…¥: s &#x3D; â€œaâ€, t &#x3D; â€œaaâ€è¾“å‡º: â€œâ€è§£é‡Š: t ä¸­ä¸¤ä¸ªå­—ç¬¦ â€˜aâ€™ å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œå› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚\n\næ»‘åŠ¨çª—å£\næ ¸å¿ƒä¸ºå¦‚ä½•åˆ¤æ–­å½“å‰ s çš„çª—å£æ˜¯å¦è¦†ç›–äº† tã€‚å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥è®°å½•ï¼ŒåŒæ—¶ï¼Œt ä¸­å¯èƒ½æœ‰é‡å¤çš„å­—ç¬¦ï¼Œæ‰€ä»¥éœ€è¦è®°å½•å­—ç¬¦çš„ä¸ªæ•°ï¼ˆä¸¤ä¸ªè®¡æ•°å™¨ï¼Œéœ€è¦çš„å­—ç¬¦ä¸ªæ•°ï¼Œå’Œå½“å‰çª—å£å·²ç»æœ‰çš„ä¸ªæ•°ï¼‰ã€‚æ­¤å¤–ï¼ŒCounter å¯ä»¥ç›´æ¥ä½¿ç”¨å¤§äºå’Œå°äºè¿ç®—ç¬¦æ¥è¿›è¡Œåˆ¤æ–­æ˜¯å¦è¦†ç›–ã€‚æ‰€ä»¥å¯ä»¥å†™å‡ºä»¥ä¸‹ä»£ç ï¼š\nclass Solution:    def minWindow(self, s: str, t: str) -&gt; str:        min_str = &quot;&quot;        s_list = list(s)        t_list = list(t)        start = 0        t_cnt = Counter()        s_cnt = Counter()        for i in t_list:            t_cnt[i] += 1          for end in range(len(s_list)):            s_cnt[s_list[end]] += 1            while s_cnt &gt;= t_cnt:                if min_str == &quot;&quot; or len(min_str) &gt; end - start + 1:                    min_str = &quot;&quot;.join(s_list[start: end + 1])                s_cnt[s_list[start]] -= 1                start += 1                return min_str\nä½†æ˜¯ï¼Œä¸Šè¿°ä»£ç ä¼šæç¤ºè¶…æ—¶ï¼ŒåŸå› æ˜¯æ¯æ¬¡æ›´æ–°æœ€å°å­å­—ç¬¦ä¸²æ—¶ï¼Œéƒ½ä¼šè¿›è¡Œåˆ‡ç‰‡æ“ä½œï¼Œ ä¹Ÿæ˜¯æ–°å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼ˆO(end - start)ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå˜é‡ ans_start å’Œ ans_end æ¥è®°å½•å¯¹åº”çš„ä¸‹æ ‡ï¼Œåªåœ¨æœ€åå¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œans_end ä¸èƒ½ä¸€å¼€å§‹å°±è®¾ç½®ä¸º0ï¼Œå› ä¸ºå¦‚æœæ²¡æœ‰æ»¡è¶³çš„å­å­—ç¬¦ä¸²ï¼Œä¼šç›´æ¥è¿”å› s[0ï¼š1]ï¼Œä¸ç¬¦åˆè¦æ±‚ã€‚å¯ä»¥æŠŠ ans_end è®¾ç½®ä¸º len(s)ã€‚\nclass Solution:    def minWindow(self, s: str, t: str) -&gt; str:        s_list = list(s)        t_list = list(t)        start = 0        t_cnt = Counter()        s_cnt = Counter()        ans_start = 0        ans_end = len(s)        for i in t_list:            t_cnt[i] += 1          for end in range(len(s_list)):            s_cnt[s_list[end]] += 1            while s_cnt &gt;= t_cnt:                if ans_end == len(s) or ans_end - ans_start &gt; end - start:                    ans_end = end                    ans_start = start                s_cnt[s_list[start]] -= 1                start += 1        if ans_end == len(s):            return &quot;&quot;        else:            return &quot;&quot;.join(s_list[ans_start: ans_end + 1])\n\nCounter æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª dictï¼Œå¦‚æœä½¿ç”¨ dictï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªåˆ¤æ–­å‡½æ•°ï¼Œæ³¨æ„ï¼Œè¿™é‡Œæ˜¯éå†äº† t å¯¹åº”çš„ dictï¼Œå³éœ€è¦çš„å­—ç¬¦æ•°é‡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(|len(t)|)ï¼Œdict ä¸ºå“ˆå¸Œè¡¨ï¼Œè¯»å†™çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚\nclass Solution:    def minWindow(self, s: str, t: str) -&gt; str:        s_list = list(s)        t_list = list(t)        start = 0        t_cnt = dict()        s_cnt = dict()        ans_start = 0        ans_end = len(s)        for i in t_list:            t_cnt[i] = t_cnt.get(i, 0) + 1          for end in range(len(s_list)):            s_cnt[s_list[end]] = s_cnt.get(s_list[end], 0) + 1            while self.check(s_cnt, t_cnt):                if ans_end == len(s) or ans_end - ans_start &gt; end - start:                    ans_end = end                    ans_start = start                s_cnt[s_list[start]] -= 1                start += 1        if ans_end == len(s):            return &quot;&quot;        else:            return &quot;&quot;.join(s_list[ans_start: ans_end + 1])                def check(self, s_cnt1, t_cnt1):        for key, value in t_cnt1.items():            if value &gt; s_cnt1.get(key, 0):                return False                return True","categories":["Leetcode"],"tags":["Array"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘æ•°ç»„4-æ¨¡æ‹Ÿè¿‡ç¨‹","url":"/blog/Leetcode/array4/","content":"59. èºæ—‹çŸ©é˜µ II\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° n ï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 1 åˆ° n^2 æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„ n x n æ­£æ–¹å½¢çŸ©é˜µ matrix ã€‚\nç¤ºä¾‹ï¼š\n\nè¾“å…¥ï¼šn &#x3D; 3è¾“å‡ºï¼š[[1,2,3],[8,9,4],[7,6,5]]\n\næ€è·¯æ ¸å¿ƒï¼šå·¦é—­å³å¼€è¿›è¡Œå¡«å……ï¼Œæ¯ä¸ªåœˆæŒ‰ç…§ä»¥ä¸‹é¡ºåºæ¥ç”»ï¼š\n\nå¡«å……ä¸Šè¡Œä»å·¦åˆ°å³\nå¡«å……å³åˆ—ä»ä¸Šåˆ°ä¸‹\nå¡«å……ä¸‹è¡Œä»å³åˆ°å·¦\nå¡«å……å·¦åˆ—ä»ä¸‹åˆ°ä¸Š\n\nå¾ªç¯å˜é‡ä¸ºè¦ç”»çš„åœˆçš„æ•°é‡ï¼ˆåç§»é‡ï¼Œå› ä¸ºæ˜¯å·¦é—­å³å¼€åŒºé—´ï¼Œæ¯ä¸€è¡Œï¼ˆåˆ—ï¼‰çš„æœ€åä¸€ä½ä¸å¡«ï¼‰å®šä¹‰ï¼š\n\nèµ·ç‚¹ï¼šæ¯ä¸€åœˆçš„å·¦ä¸Šè§’çš„ç‚¹\nç»ˆç‚¹ï¼šn å‡å»åç§»é‡class Solution:    def generateMatrix(self, n: int) -&gt; List[List[int]]:        res = [[0 for _ in range(n)] for _ in range(n)]        loop = n // 2                startx, starty = 0, 0        count = 1        for offset in range(1, loop + 1):            for i in range(starty, n - offset):                res[startx][i] = count                count += 1            for i in range(startx, n - offset):                res[i][n - offset] = count                count += 1                        for i in range(n - offset, starty, -1):                res[n - offset][i] = count                count += 1                        for i in range(n - offset, startx, -1):                res[i][starty] = count                count += 1                        startx += 1            starty += 1        if n % 2 != 0:            res[n // 2][n // 2] = count        return res\n\n54. èºæ—‹çŸ©é˜µ\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸€ä¸ª m è¡Œ n åˆ—çš„çŸ©é˜µ matrix ï¼Œè¯·æŒ‰ç…§ é¡ºæ—¶é’ˆèºæ—‹é¡ºåº ï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚\nç¤ºä¾‹ï¼š\n\nè¾“å…¥ï¼šmatrix &#x3D; [[1,2,3],[4,5,6],[7,8,9]]è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]\n\n\næ€è·¯ä¸Šä¸€ä¸ªé¢˜ç›®çš„æ‰©å±•ï¼Œå³å½¢çŠ¶ä¸ä¸€å®šä¸ºæ­£æ–¹å½¢ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„è€ƒè™‘ï¼š\n\nå¾ªç¯çš„æ¬¡æ•°ï¼ˆå‡ ä¸ª loopï¼‰å†³å®šäº matrix çš„çŸ­è¾¹\nè®¡ç®—åç§»é‡æ—¶è¦æ³¨æ„æ˜¯é•¿è¾¹å‡å»åç§»é‡è¿˜æ˜¯çŸ­è¾¹\nä¸­é—´éƒ¨åˆ†çš„å¤„ç†ï¼š\nå¦‚æœæ˜¯æ­£æ–¹å½¢ï¼Œåˆ™ç›´æ¥è¾¹é•¿ &#x2F;&#x2F; 2 è¿›è¡Œè¯»å–\nå¦‚æœæ˜¯é•¿æ–¹å½¢ï¼Œåˆ™éœ€è¦æ³¨æ„ï¼š\nåˆ¤æ–­ä¸­é—´éƒ¨åˆ†æ˜¯å“ªæ¡è¾¹\né»˜è®¤çš„æƒ…å†µæ˜¯å·¦é—­å³å¼€ï¼Œæœ¬æ¥éœ€è¦å°† offset - 1ï¼Œä½†æ˜¯ä¸­é—´éƒ¨åˆ†éœ€è¦å·¦é—­å³é—­ï¼Œåˆ™ offset ä¸ç”¨ - 1\n\n\n\n\n\nclass Solution:    def spiralOrder(self, matrix: List[List[int]]) -&gt; List[int]:        x = len(matrix)        y = len(matrix[0])        loop = min(x, y) // 2        startx = 0        starty = 0        res = []        offset = 0        for offset in range(1, loop + 1):            for i in range(starty, y - offset):                res.append(matrix[startx][i])                        for i in range(startx, x - offset):                res.append(matrix[i][y - offset])                        for i in range(y - offset, starty, -1):                res.append(matrix[x - offset][i])                        for i in range(x - offset, startx, -1):                res.append(matrix[i][starty])            startx += 1            starty += 1                if x == y and x % 2 != 0:            res.append(matrix[x // 2][y // 2])        elif x &gt; y and y % 2 != 0:            for i in range(startx, x - offset):                res.append(matrix[i][y // 2])        elif x &lt; y and x % 2 != 0:            for i in range(starty, y - offset):                res.append(matrix[x // 2][i])                return res\n\n","categories":["Leetcode"],"tags":["Array"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘æ•°ç»„5-å‰ç¼€å’Œ","url":"/blog/Leetcode/array5/","content":"58. åŒºé—´å’Œ\né¢˜ç›®é“¾æ¥ link\n\nç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ Arrayï¼Œè¯·è®¡ç®—è¯¥æ•°ç»„åœ¨æ¯ä¸ªæŒ‡å®šåŒºé—´å†…å…ƒç´ çš„æ€»å’Œã€‚\nç¬¬ä¸€è¡Œè¾“å…¥ä¸ºæ•´æ•°æ•°ç»„ Array çš„é•¿åº¦ nï¼Œæ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°ç»„çš„å…ƒç´ ã€‚éšåçš„è¾“å…¥ä¸ºéœ€è¦è®¡ç®—æ€»å’Œçš„åŒºé—´ä¸‹æ ‡ï¼šaï¼Œb ï¼ˆb &gt; &#x3D; aï¼‰ï¼Œç›´è‡³æ–‡ä»¶ç»“æŸã€‚è¾“å‡ºæ¯ä¸ªæŒ‡å®šåŒºé—´å†…å…ƒç´ çš„æ€»å’Œã€‚  \nè¾“å…¥ç¤ºä¾‹\n\n5123450 11 3\n\nè¾“å‡ºç¤ºä¾‹\n\n39\n\næ€è·¯ï¼šå‰ç¼€å’Œé‡å¤åˆ©ç”¨è®¡ç®—è¿‡çš„å­æ•°ç»„ä¹‹å’Œï¼Œä»è€Œé™ä½åŒºé—´æŸ¥è¯¢éœ€è¦ç´¯åŠ è®¡ç®—çš„æ¬¡æ•°ã€‚ACM è¾“å…¥æ ¼å¼ã€‚æ³¨æ„ï¼š\n\nå‰ç¼€å’Œçš„å†™æ³•ï¼Œç¬¬ä¸€ä½æ˜¯ 0\næŒ‰ç…§ä¸‹é¢çš„å†™æ³•ï¼Œè®¡ç®—ä¸€æ¬¡å°±è¾“å‡ºä¸€æ¬¡ï¼Œä¼šè¶…å‡ºé™åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æŠŠç»“æœå­˜èµ·æ¥ï¼Œç„¶åç»Ÿä¸€è¾“å‡º\næŒ‰ç…§ä¸‹é¢çš„å†™æ³•ï¼Œdata å¯èƒ½ä¼šè¶…å‡ºé™åˆ¶ï¼ŒæŠ¥é”™ ä¸‹æ ‡æ— æ³•è®¿é—®ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­æ˜¯å¦æœ‰æŸ¥è¯¢\n\nimport sysinput = sys.stdin.readdata = input().split()n = int(data[0])sums = [0]for i in range(1, n+1):    sums.append(int(data[i]) + sums[-1])for index in range(n+1, len(data), 2)    a = int(data[index])    b = int(data[index+1])    index += 2        res.append(sums[b+1] - sums[a])    print(res)\n\næ›´æ”¹åçš„ä»£ç ï¼š\nimport sysinput = sys.stdin.readdata = input().split()n = int(data[0])sums = [0]for i in range(1, n+1):    sums.append(int(data[i]) + sums[-1])index = n + 1res = []while index &lt; len(data):    a = int(data[index])    b = int(data[index+1])    index += 2        res.append(sums[b+1] - sums[a])    print(res)\n\n44. å¼€å‘å•†è´­ä¹°åœŸåœ°\né¢˜ç›®é“¾æ¥ link\n\nåœ¨ä¸€ä¸ªåŸå¸‚åŒºåŸŸå†…ï¼Œè¢«åˆ’åˆ†æˆäº†n * mä¸ªè¿ç»­çš„åŒºå—ï¼Œæ¯ä¸ªåŒºå—éƒ½æ‹¥æœ‰ä¸åŒçš„æƒå€¼ï¼Œä»£è¡¨ç€å…¶åœŸåœ°ä»·å€¼ã€‚ç›®å‰ï¼Œæœ‰ä¸¤å®¶å¼€å‘å…¬å¸ï¼ŒA å…¬å¸å’Œ B å…¬å¸ï¼Œå¸Œæœ›è´­ä¹°è¿™ä¸ªåŸå¸‚åŒºåŸŸçš„åœŸåœ°ã€‚ \nç°åœ¨ï¼Œéœ€è¦å°†è¿™ä¸ªåŸå¸‚åŒºåŸŸçš„æ‰€æœ‰åŒºå—åˆ†é…ç»™ A å…¬å¸å’Œ B å…¬å¸ã€‚\nç„¶è€Œï¼Œç”±äºåŸå¸‚è§„åˆ’çš„é™åˆ¶ï¼Œåªå…è®¸å°†åŒºåŸŸæŒ‰æ¨ªå‘æˆ–çºµå‘åˆ’åˆ†æˆä¸¤ä¸ªå­åŒºåŸŸï¼Œè€Œä¸”æ¯ä¸ªå­åŒºåŸŸéƒ½å¿…é¡»åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªåŒºå—ã€‚ ä¸ºäº†ç¡®ä¿å…¬å¹³ç«äº‰ï¼Œä½ éœ€è¦æ‰¾åˆ°ä¸€ç§åˆ†é…æ–¹å¼ï¼Œä½¿å¾— A å…¬å¸å’Œ B å…¬å¸å„è‡ªçš„å­åŒºåŸŸå†…çš„åœŸåœ°æ€»ä»·å€¼ä¹‹å·®æœ€å°ã€‚ \næ³¨æ„ï¼šåŒºå—ä¸å¯å†åˆ†ã€‚\nç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°ï¼Œä»£è¡¨ n å’Œ mã€‚æ¥ä¸‹æ¥çš„ n è¡Œï¼Œæ¯è¡Œè¾“å‡º m ä¸ªæ­£æ•´æ•°ã€‚è¯·è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨ä¸¤ä¸ªå­åŒºåŸŸå†…åœŸåœ°æ€»ä»·å€¼ä¹‹é—´çš„æœ€å°å·®è·ã€‚\nç¤ºä¾‹ï¼šè¾“å…¥\n\n3 31 2 32 1 31 2 3  \n\nè¾“å‡ºï¼š\n\n0\n\næ€è·¯æœ¬è´¨ä¸Šè¿˜æ˜¯åŒºé—´å’Œï¼Œä¹‹ä¸æ˜¯äºŒç»´çš„ï¼Œéœ€è¦è€ƒè™‘ä¸¤ä¸ªæ–¹å‘çš„æ±‚å’Œã€‚å¯ä»¥å…ˆé’ˆå¯¹ä¸¤ä¸ªæ–¹å‘æ±‚å‰ç¼€å’Œï¼Œç„¶åè¿›è¡Œåˆ¤æ–­ã€‚ä¾‹å¦‚æ°´å¹³åˆ†å‰²æ—¶ï¼Œå¯ä»¥å°†æ•°ç»„å…ˆæŒ‰è¡Œæ±‚å’Œï¼Œç„¶åå†è®¡ç®—å‰ç¼€å’Œã€‚\nimport sysinput = sys.stdin.readdata = input().split()n, m = int(data[0]), int(data[1])num = [[0] * m for _ in range(n)]index = 2for i in range(n):    for j in range(m):        num[i][j] = int(data[index])        index += 1# æ±‚æ¯ä¸€è¡Œçš„å’Œsumx = [sum(num[i]) for i in range(n)]# æŒ‰è¡Œçš„å‰ç¼€å’Œsumx_pre = [sumx[0]]for i in range(1, n):    sumx_pre.append(sumx[i] + sumx_pre[-1])minx = float(&#x27;inf&#x27;)# è®¡ç®—æœ€å°çš„å·®for i in range(0, n - 1):    p1 = sumx_pre[i]    p2 = sumx_pre[-1] - sumx_pre[i]    dif = abs(p2 - p1)    if minx &gt; dif:        minx = dif# æ±‚æ¯ä¸€åˆ—çš„å’Œsumy = [sum(num[i][j] for i in range(n)) for j in range(m)]# æŒ‰åˆ—çš„å‰ç¼€å’Œsumy_pre = [sumy[0]]for j in range(1, m):    sumy_pre.append(sumy[j] + sumy_pre[-1])miny = float(&#x27;inf&#x27;)for j in range(0, m - 1):    p1 = sumy_pre[j]    p2 = sumy_pre[-1] - sumy_pre[j]    dif = abs(p2 - p1)    if  miny &gt; dif:        miny = difprint(min(miny, minx))\n\nä¼˜åŒ–åœ¨è¯»å–æ•°æ®æ—¶ï¼Œç›´æ¥æ±‚æ•´ä¸ªçŸ©é˜µçš„å’Œã€‚ç„¶ååˆ†åˆ«ä¸¤ä¸ªæ–¹å‘æ±‚å’Œï¼Œæ¨¡æ‹Ÿè¡Œåˆ†å‰²å’Œåˆ—åˆ†å‰²ã€‚æ¯æ±‚å’Œä¸€è¡Œï¼ˆåˆ—ï¼‰ï¼Œå°±è®¡ç®—å·®å€¼ã€‚è¿™æ ·å¯ä»¥çœå»è®¡ç®—å‰ç¼€å’Œçš„æ­¥éª¤ã€‚\næ€»ç»“\nACM æ ¼å¼ä¸‹ï¼Œéœ€è¦è‡ªå·±å¤„ç†è¾“å…¥ï¼Œè¿™é‡Œé‡å†™äº† input æ–¹æ³•ï¼š\n\nimport sysinput = sys.stdin.readdata = input().split()\n\nsplit()ï¼šå¤šä¸ªç©ºæ ¼å½“æˆä¸€ä¸ªç©ºæ ¼ï¼›split(â€˜ â€˜)ï¼šå¤šä¸ªç©ºæ ¼éƒ½è¦åˆ†å‰²ï¼Œæ¯ä¸ªç©ºæ ¼åˆ†å‰²å‡ºæ¥ç©ºã€‚\né‡å†™çš„å’Œè‡ªå¸¦çš„æ–¹æ³•å¯¹æ¯”å¦‚ä¸‹ï¼š\né‡å†™çš„æ–¹æ³•å¯ä»¥å°†æ‰€æœ‰è¾“å…¥ä½œä¸ºä¸€æ•´ä¸ªå­—ç¬¦ä¸²è¯»å–ï¼Œå¯ä»¥å‡å°‘ IO æ—¶é—´ã€‚åç»­ä½¿ç”¨ .split() æ–¹æ³•æ¥æ‹†åˆ†æ¯ä¸ªè¾“å…¥å³å¯ã€‚\n\né¢˜ç›®è¦æ±‚æ±‚æœ€å°å€¼æ—¶ï¼Œå¯ä»¥å°†è¡¨ç¤ºæœ€å°å€¼çš„å˜é‡é¢„å…ˆå®šä¹‰ä¸ºæ­£æ— ç©· float(â€˜infâ€™)ï¼Œä¾¿äºåç»­æ¯”è¾ƒã€‚åŒç†ï¼Œæœ€å¤§å€¼å¯ä»¥å®šä¹‰ä¸ºæœåŠ¡å™¨ float(â€˜-infâ€™)ã€‚\n\næœ¬é¢˜ä¸­éœ€è¦è®¡ç®—çš„æ˜¯ä¸¤ä¸ªå—ä¹‹é—´çš„å·®ï¼Œæ³¨æ„ä½¿ç”¨ç»å¯¹å€¼ abs()ã€‚\n\n\n","categories":["Leetcode"],"tags":["Array"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘åŒæŒ‡é’ˆæ³•","url":"/blog/Leetcode/double-pointer/","content":"æ•°ç»„ç§»é™¤å…ƒç´ \nç§»é™¤å…ƒç´ \n\nåœ¨æ•°ç»„ä¸­åŸåœ°ç§»é™¤å…ƒç´ ï¼Œä½¿ç”¨åŒæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘éå†çš„ä½ç½®ï¼Œä¸€ä¸ªæŒ‡å‘åˆ é™¤åæ•°ç»„çš„é•¿åº¦\nå­—ç¬¦ä¸²åè½¬å­—ç¬¦ä¸²\nåè½¬å­—ç¬¦ä¸²\n\nä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«ä»å¤´å’Œå°¾å‘ä¸­é—´éå†ï¼Œç›¸äº’äº¤æ¢å­—ç¬¦\næ›¿æ¢æ•°å­—\næ›¿æ¢æ•°å­—\n\nç±»ä¼¼äºç§»é™¤å…ƒç´ ï¼Œä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«ä»£è¡¨æ›¿æ¢åå­—ç¬¦ä¸²çš„çœŸå®ä½ç½®å’Œéå†çš„ä½ç½®ã€‚æ³¨æ„æ˜¯ä»åå¾€å‰å¡«å……ã€‚\nç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯\nç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯\n\né¦–å…ˆåˆ é™¤å¤šä½™çš„ç©ºæ ¼ï¼ˆåŒæŒ‡é’ˆæ³•ï¼‰ï¼Œç„¶åï¼š\n\nä½¿ç”¨åŒæŒ‡é’ˆæ³•ç¡®å®šæ¯ä¸€ä¸ªå•è¯ï¼Œå¹¶è¿›è¡Œåè½¬ or \nå°†æ•´ä¸ªå­—ç¬¦ä¸²åè½¬ï¼Œç„¶åå†å°†æ¯ä¸ªå•è¯åè½¬å›æ¥\n\né“¾è¡¨åè½¬é“¾è¡¨\nåè½¬é“¾è¡¨\n\nä¸¤ä¸ªæŒ‡é’ˆä¸€å‰ä¸€åï¼Œäº¤æ¢èŠ‚ç‚¹ next çš„æŒ‡å‘ã€‚\nåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹\nåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹\n\nå¿«æŒ‡é’ˆå…ˆèµ° N æ­¥ï¼Œç„¶åå’Œæ…¢æŒ‡é’ˆä¸€èµ·èµ°ï¼Œå¿«æŒ‡é’ˆèµ°åˆ°æœ«å°¾ï¼Œæ…¢æŒ‡é’ˆå°±æŒ‡å‘å€’æ•°ç¬¬ N ä¸ªèŠ‚ç‚¹ã€‚\né“¾è¡¨ç›¸äº¤\né“¾è¡¨ç›¸äº¤\n\nåŒæ ·æ˜¯å¿«æ…¢æŒ‡é’ˆï¼Œå…ˆè®©å¿«æŒ‡é’ˆåœ¨é•¿çš„é“¾è¡¨ä¸Šèµ°ä¸¤ä¸ªé“¾è¡¨çš„å·®å€¼ï¼ˆç›®çš„æ˜¯è®©ä¸¤ä¸ªé“¾è¡¨å°¾ç«¯å¯¹é½ï¼‰ï¼Œç„¶åæ…¢æŒ‡é’ˆåœ¨çŸ­é“¾è¡¨ä¸Šå’Œå¿«æŒ‡é’ˆä¸€èµ·èµ°ï¼Œç›´åˆ°æ‰¾åˆ°ç›¸äº¤ç‚¹ã€‚\nç¯å½¢é“¾è¡¨II\nç¯å½¢é“¾è¡¨II\n\nå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ ¼ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€ä¸ªï¼Œåˆ¤æ–­æ˜¯å¦æœ‰ç¯ï¼›å¦‚æœæœ‰ç¯ï¼Œåˆ™è®©ä¸¤ä¸ªæ–°æŒ‡é’ˆåˆ†åˆ«ä»ç›¸é‡ç‚¹å’Œèµ·ç‚¹å‡ºå‘ï¼Œä¸¤ä¸ªæ–°æŒ‡é’ˆç›¸é‡çš„ç‚¹å³ä¸ºç¯çš„èµ·ç‚¹ã€‚\nN æ•°ä¹‹å’Œä¸‰æ•°ä¹‹å’Œ\nä¸‰æ•°ä¹‹å’Œ\n\né¦–å…ˆå°†æ•°ç»„è¿›è¡Œæ’åºï¼Œå¾ªç¯ç¡®å®šç¬¬ä¸€ä¸ªæ•°ï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«ç¡®å®šåä¸¤ä¸ªæ•°ï¼Œä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«ä¸ºå‰©ä¸‹æ•°ç»„ä¸­æœ€å¤§å’Œæœ€å°çš„æ•°ï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«é è¿‘å½¼æ­¤ã€‚\nå››æ•°ä¹‹å’Œ\nå››æ•°ä¹‹å’Œ\n\nå’Œä¸‰æ•°ä¹‹å’Œç±»ä¼¼ï¼Œåªä¸è¿‡å¤šåŠ äº†ä¸€å±‚å¾ªç¯ã€‚\næ€»ç»“é™¤äº†é“¾è¡¨ä¸€äº›é¢˜ç›®ä¸€å®šè¦ä½¿ç”¨åŒæŒ‡é’ˆï¼Œå…¶ä»–é¢˜ç›®éƒ½æ˜¯ä½¿ç”¨åŒæŒ‡é’ˆæ¥æé«˜æ•ˆç‡ï¼Œä¸€èˆ¬æ˜¯å°†O(n^2)çš„æ—¶é—´å¤æ‚åº¦ï¼Œé™ä¸º O(n) ã€‚\n","categories":["Leetcode"],"tags":["array","list","hash","string"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘å“ˆå¸Œè¡¨1","url":"/blog/Leetcode/hash1/","content":"Python å“ˆå¸Œè¡¨ç›¸å…³æ“ä½œå“ˆå¸Œè¡¨éƒ½æ˜¯ç”¨æ¥å¿«é€Ÿåˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°é›†åˆé‡Œã€‚ä¾‹å¦‚è¦æŸ¥è¯¢ä¸€ä¸ªåå­—æ˜¯å¦åœ¨è¿™æ‰€å­¦æ ¡é‡Œã€‚è¦æšä¸¾çš„è¯æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œä½†å¦‚æœä½¿ç”¨å“ˆå¸Œè¡¨çš„è¯ï¼Œ åªéœ€è¦O(1)å°±å¯ä»¥åšåˆ°ã€‚\nlistdictdefaultdict å’Œ Counterè¿™ä¸¤ä¸ªç±»éƒ½æ˜¯ dict çš„å­ç±»ï¼Œåœ¨ key ä¸å­˜åœ¨æ—¶ï¼Œdict ä¼šæŠ¥é”™ã€‚ä½†æ˜¯è¿™ä¸¤ä¸ªç±»å®šä¹‰äº† __missing__() æ–¹æ³•ï¼Œåœ¨ key ä¸å­˜åœ¨æ—¶ï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³•å¹¶è¿”å›å…¶å€¼ã€‚ä¾‹å¦‚ï¼ŒCounter ç±»çš„å®šä¹‰å¦‚ä¸‹ï¼Œå³ key ä¸å­˜åœ¨çš„è¯å°±è¿”å› 0ï¼Œæ»¡è¶³è®¡æ•°å™¨çš„è¦æ±‚ã€‚\nclass Counter(dict):    def __missing__(self, key):        return 0\n\ndefaultdict åˆ™ä¼šè¿”å›åˆå§‹åŒ–æ—¶ç»™å®šçš„ç±»å‹ã€‚ä¾‹å¦‚ï¼š\nd = defaultdict(int)d = defaultdict(list)\n\nä½¿ç”¨ dict ä¹Ÿå¯ä»¥å®ç° Counter ç±»ä¼¼çš„æ•ˆæœï¼š\nd = dict()d[key] = d.get(key, 0) + 1\n\n\nseté›†åˆä¸­çš„å…ƒç´ ä¸å¯é‡å¤ï¼Œå¯ä»¥éå†ï¼Œä½†ä¸èƒ½ä½¿ç”¨ç´¢å¼•æ¥è®¿é—®ã€‚\næ·»åŠ å…ƒç´ ï¼šadd()\nåˆ é™¤å…ƒç´ ï¼šremove()\n242. æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯\né¢˜ç›®é“¾æ¥ link\n\nç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ t ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ t æ˜¯å¦æ˜¯ s çš„ å­—æ¯å¼‚ä½è¯ã€‚\nç¤ºä¾‹ 1:\n\nè¾“å…¥: s &#x3D; â€œanagramâ€, t &#x3D; â€œnagaramâ€è¾“å‡º: true  \n\nç¤ºä¾‹ 2:\n\nè¾“å…¥: s &#x3D; â€œratâ€, t &#x3D; â€œcarâ€è¾“å‡º: false  \n\næ€è·¯åˆ†åˆ«è®°å½•ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­å„ä¸ªå­—ç¬¦çš„æ•°é‡ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ç›¸ç­‰ã€‚\næ•°ç»„å†™æ³•ä½¿ç”¨ç›¸å¯¹çš„ ASCII æ¥ä½œä¸ºç´¢å¼•ã€‚è¿™é‡Œä½¿ç”¨äº† ord æ–¹æ³•ï¼Œç”¨äºå°†å­—ç¬¦è½¬æ¢ä¸ºæ•°å­—ã€‚\nclass Solution:    def isAnagram(self, s: str, t: str) -&gt; bool:        s_list = [0 for _ in range(26)]        for i in s:            index = ord(i) - ord(&#x27;a&#x27;)            s_list[index] += 1                for i in t:            index = ord(i) - ord(&#x27;a&#x27;)            s_list[index] -= 1                for i in s_list:            if i != 0:                return False                return True\n\nå­—å…¸å†™æ³•æ³¨æ„éœ€è¦ä½¿ç”¨ get(i, 0) æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„é”®å€¼ï¼Œåˆ™è¿”å› 0ã€‚\nclass Solution:    def isAnagram(self, s: str, t: str) -&gt; bool:        record = &#123;&#125;        for i in s:            record[i] = record.get(i, 0) + 1                for i in t:            record[i] = record.get(i, 0) - 1                for i in record:            if record[i] != 0:                return False                return True\n\nCounter å†™æ³•å¯ä»¥ç›´æ¥æ¯”è¾ƒä¸¤ä¸ª Counterï¼ˆè®¡æ•°å™¨ dictï¼‰\nclass Solution:    def isAnagram(self, s: str, t: str) -&gt; bool:        record_s = Counter()        record_t = Counter()        for i in s:            record_s[i] += 1                for i in t:            record_t[i] += 1                if record_s == record_t:            return True        else:            return False\n\n49. å­—æ¯å¼‚ä½è¯åˆ†ç»„\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¯·ä½ å°† å­—æ¯å¼‚ä½è¯ ç»„åˆåœ¨ä¸€èµ·ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç»“æœåˆ—è¡¨ã€‚\nç¤ºä¾‹ 1:\n\nè¾“å…¥: strs &#x3D; [â€œeatâ€, â€œteaâ€, â€œtanâ€, â€œateâ€, â€œnatâ€, â€œbatâ€]è¾“å‡º: [[â€œbatâ€],[â€œnatâ€,â€tanâ€],[â€œateâ€,â€eatâ€,â€teaâ€]]è§£é‡Šï¼šåœ¨ strs ä¸­æ²¡æœ‰å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡é‡æ–°æ’åˆ—æ¥å½¢æˆ â€œbatâ€ã€‚å­—ç¬¦ä¸² â€œnatâ€ å’Œ â€œtanâ€ æ˜¯å­—æ¯å¼‚ä½è¯ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥é‡æ–°æ’åˆ—ä»¥å½¢æˆå½¼æ­¤ã€‚å­—ç¬¦ä¸² â€œateâ€ ï¼Œâ€eatâ€ å’Œ â€œteaâ€ æ˜¯å­—æ¯å¼‚ä½è¯ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥é‡æ–°æ’åˆ—ä»¥å½¢æˆå½¼æ­¤ã€‚  \n\næ€è·¯ 1éå†æ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­è¯¥å­—ç¬¦ä¸²æ˜¯å¦å’Œå·²ç»åˆ†å¥½ç»„çš„å­—ç¬¦ä¸²ä¸ºå­—æ¯å¼‚ä½è¯ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ·»åŠ åˆ°æ»¡è¶³çš„é‚£ä¸ªç»„ï¼Œå¦‚æœä¸æ˜¯åˆ™å•ç‹¬æ·»åŠ ä¸ºä¸€ä¸ªç»„ã€‚ä½†æ˜¯è¿™æ®µä»£ç ä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ã€‚\nclass Solution:    def judge(self, s, t):        record_s = Counter()        record_t = Counter()        for i in s:            record_s[i] += 1                for i in t:            record_t[i] += 1                if record_s == record_t:            return True        else:            return False    def groupAnagrams(self, strs: List[str]) -&gt; List[List[str]]:        res = []        for s in strs:            if len(res) == 0:                res.append([s])            else:                flag = False                for index in range(len(res)):                    if self.judge(s, res[index][0]):                        res[index].append(s)                        flag = True                        break                if flag == False:                    res.append([s])                return res\n\næ€è·¯ 2æ€è·¯ 1 çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n*n*n)ï¼Œä¼˜åŒ–çš„ç‚¹åœ¨äºåˆ¤æ–­æ˜¯å¦ä¸ºå­—æ¯å¼‚ä½è¯æ—¶ï¼Œå¯ä»¥å°†å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œå°†æ’åºåçš„å­—ç¬¦ä¸²ä½œä¸º keyï¼Œå°†å¯¹åº”çš„å­—ç¬¦ä¸²å­˜åœ¨ä¸€ä¸ª list ä¸­ ä½œä¸º valueã€‚è¿™é‡Œéœ€è¦ç”¨åˆ° defaultdictã€‚å½“è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„é”®æ—¶ï¼Œdefaultdict ä¼šè‡ªåŠ¨è°ƒç”¨ default_factory ç”Ÿæˆä¸€ä¸ªé»˜è®¤å€¼å¹¶æ’å…¥å­—å…¸ï¼Œç„¶åè¿”å›è¿™ä¸ªå€¼ã€‚\nè¿™é‡Œä½¿ç”¨äº† sorted æ–¹æ³•ï¼Œå¯ä»¥å°†ä»»æ„å¯è¿­ä»£çš„å¯¹è±¡è¿›è¡Œæ’åºï¼Œè¿”å›ä¸€ä¸ª listã€‚\nclass Solution:    def groupAnagrams(self, strs: List[str]) -&gt; List[List[str]]:        d = defaultdict(list)        for s in strs:            key = &quot;&quot;.join(sorted(s))            d[key].append(s)                return list(d.values())\n\n438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯\nlink\n\nç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ pï¼Œæ‰¾åˆ° s ä¸­æ‰€æœ‰ p çš„ å¼‚ä½è¯ çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚\nç¤ºä¾‹ 1:\n\nè¾“å…¥: s &#x3D; â€œcbaebabacdâ€, p &#x3D; â€œabcâ€è¾“å‡º: [0,6]è§£é‡Š:èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ â€œcbaâ€, å®ƒæ˜¯ â€œabcâ€ çš„å¼‚ä½è¯ã€‚èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ â€œbacâ€, å®ƒæ˜¯ â€œabcâ€ çš„å¼‚ä½è¯ã€‚  \n\næ€è·¯æ»‘åŠ¨çª—å£ï¼Œå¯¹äºæ¯ä¸€ä¸ªå­—ä¸²éƒ½è¿›è¡Œåˆ¤æ–­ã€‚æœ‰å¦‚ä¸‹ä¼˜åŒ–ï¼š\n\nå¦‚æœå½“å‰å­—ä¸²æ˜¯å­—æ¯å¼‚ä½è¯ï¼Œåˆ™åªéœ€è¦æ¯”è¾ƒå½“å‰çª—å£å‡ºå»çš„å­—ç¬¦å’Œè¿›æ¥çš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰åˆ™ä¸‹ä¸€ä¸ªå­—ä¸²ä¹Ÿä¸ºå­—æ¯å¼‚ä½è¯ã€‚\nåˆ¤æ–­å­—æ¯å¼‚ä½è¯ç›´æ¥ä½¿ç”¨æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(klogk)ï¼Œå¦åˆ™ä¸º\n\nclass Solution:    def judge(self, s, t):        ss = &quot;&quot;.join(sorted(s))        tt = &quot;&quot;.join(sorted(t))        if ss == tt:            return True        else:            return False          def findAnagrams(self, s: str, p: str) -&gt; List[int]:        res = []        pre = None        for start in range(len(s) - len(p) + 1):            end = start + len(p)            if pre == None:                if self.judge(s[start:end], p):                    res.append(start)                    pre = s[start]            else:                if pre == s[end - 1]:                    res.append(start)                    pre = s[start]                else:                    pre = None        return res\n\næ€è·¯ 2å¯¹äºæ¯ä¸ªå­—ä¸²ï¼Œä¸ç”¨æ¯æ¬¡éƒ½è¿›è¡Œåˆ¤æ–­ï¼Œåªéœ€è¦è®°å½•æ¯ä¸ªå­—ç¬¦çš„æ•°é‡ä»¥åŠå…¶å˜åŒ–æƒ…å†µå³å¯ã€‚\n","categories":["Leetcode"],"tags":["hash"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘å“ˆå¸Œè¡¨2","url":"/blog/Leetcode/hash2/","content":"349. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†\né¢˜ç›®é“¾æ¥ link\n\nç»™å®šä¸¤ä¸ªæ•°ç»„ nums1 å’Œ nums2 ï¼Œè¿”å› å®ƒä»¬çš„ äº¤é›† ã€‚è¾“å‡ºç»“æœä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€å®šæ˜¯ å”¯ä¸€ çš„ã€‚æˆ‘ä»¬å¯ä»¥ ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåº ã€‚\næ€è·¯ 1å°†ä¸¤ä¸ª list è½¬æ¢ä¸º setï¼ˆç¡®ä¿ä¸€ä¸ªæ•°å­—åœ¨ä¸€ä¸ª list ä¸­åªå­˜åœ¨ä¸€æ¬¡ï¼‰ï¼Œç„¶ååˆ†åˆ«è¿›è¡Œéå†ï¼Œç»Ÿè®¡æ‰€æœ‰æ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œå‡ºç°æ¬¡æ•°ä¸º 2 çš„å³ä¸ºäº¤é›†ã€‚æœ¬è´¨ä¸Šæ˜¯ç”¨ dict ä½œä¸ºå“ˆå¸Œè¡¨ã€‚\nclass Solution:    def intersection(self, nums1: List[int], nums2: List[int]) -&gt; List[int]:        c = Counter()        res = []        for i in set(nums1):            c[i] += 1                for i in set(nums2):            c[i] += 1                for key in c:            if c[key] &gt; 1:                res.append(key)        return res\n\næ€è·¯ 2ä¸€æ­¥åˆ°ä½ï¼Œç›´æ¥ä½¿ç”¨ set çš„ &amp; æ“ä½œç¬¦æ¥è®¡ç®—äº¤é›†ã€‚\nclass Solution:    def intersection(self, nums1: List[int], nums2: List[int]) -&gt; List[int]:        return list(set(nums1) &amp; set(nums2))\n\n350. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸¤ä¸ªæ•´æ•°æ•°ç»„ nums1 å’Œ nums2 ï¼Œè¯·ä½ ä»¥æ•°ç»„å½¢å¼è¿”å›ä¸¤æ•°ç»„çš„äº¤é›†ã€‚è¿”å›ç»“æœä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œåº”ä¸å…ƒç´ åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­éƒ½å‡ºç°çš„æ¬¡æ•°ä¸€è‡´ï¼ˆå¦‚æœå‡ºç°æ¬¡æ•°ä¸ä¸€è‡´ï¼Œåˆ™è€ƒè™‘å–è¾ƒå°å€¼ï¼‰ã€‚å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šnums1 &#x3D; [1,2,2,1], nums2 &#x3D; [2,2]è¾“å‡ºï¼š[2,2]  \n\nç¤ºä¾‹ 2:\n\nè¾“å…¥ï¼šnums1 &#x3D; [4,9,5], nums2 &#x3D; [9,4,9,8,4]è¾“å‡ºï¼š[4,9]\n\næ€è·¯ç”¨ dict æ¥è®°å½•ä¸¤ä¸ª list ä¸­æ•°å­—çš„æ•°é‡ï¼Œç„¶ååˆ¤æ–­é‡å éƒ¨åˆ†çš„æ•°é‡ã€‚\nclass Solution:    def intersect(self, nums1: List[int], nums2: List[int]) -&gt; List[int]:        c1 = Counter()        c2 = Counter()        for i in nums1:            c1[i] += 1                for i in nums2:            c2[i] += 1        res = []        for key in c1:            if c1[key] &gt; 0 and c2[key] &gt; 0:                for i in range(min(c1[key], c2[key])):                    res.append(key)        return res        &#x27;\n\n202. å¿«ä¹æ•°\nlink\n\nç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•° n æ˜¯ä¸æ˜¯å¿«ä¹æ•°ã€‚\nã€Œå¿«ä¹æ•°ã€ å®šä¹‰ä¸ºï¼š\nå¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œã€‚ç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯ æ— é™å¾ªç¯ ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚å¦‚æœè¿™ä¸ªè¿‡ç¨‹ ç»“æœä¸º 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚\næ€è·¯ç”¨ä¸€ä¸ª set è®°å½•å‡ºç°è¿‡çš„ç»“æœï¼Œå¦‚æœå‡ºç°è¿‡äº†è¯¥ç»“æœï¼Œåˆ™è¯´æ˜ä¸æ˜¯å¿«ä¹æ•°\nclass Solution:    def isHappy(self, n: int) -&gt; bool:        s = 0        l = set()        while s != 1:            s = 0            while n != 0:                temp = n % 10                s += temp * temp                n = n // 10                        if s in l:                return False            else:                if s == 1:                    return True                l.add(s)                n = s\n\næ³¨æ„ï¼Œè™½ç„¶ set å’Œ list éƒ½æ˜¯ç”¨ in æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œä½†æ˜¯å…¶å¤æ‚åº¦å·®å¾ˆå¤šï¼š\n1. ä¸¤æ•°ä¹‹å’Œ\nlink\n\nç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ target  çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚\nä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆï¼Œå¹¶ä¸”ä½ ä¸èƒ½ä½¿ç”¨ä¸¤æ¬¡ç›¸åŒçš„å…ƒç´ ã€‚\nä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šnums &#x3D; [2,7,11,15], target &#x3D; 9è¾“å‡ºï¼š[0,1]è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] &#x3D;&#x3D; 9 ï¼Œè¿”å› [0, 1] ã€‚  \n\næ€è·¯æœ¬è´¨ä¸Šæ˜¯æŸ¥æ‰¾ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ set è¿›è¡ŒæŸ¥æ‰¾ï¼Œä½†æ˜¯åˆéœ€è¦è¿”å›ä¸‹æ ‡ï¼Œæ‰€ä»¥ä½¿ç”¨ dict ä½œä¸ºå“ˆå¸Œè¡¨ã€‚ä½¿ç”¨ nums ä¸­çš„å€¼ä½œä¸º keyï¼Œä½¿ç”¨ä¸‹æ ‡ä½œä¸º valueã€‚å¯ä»¥å†™å‡ºä»¥ä¸‹ä»£ç ï¼š\nclass Solution:    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:        d = dict()        for i in range(len(nums)):            d[nums[i]] = i        for i in range(len(nums)):            if target - nums[i] in d:                return [i, d[target - nums[i]]]\n\nä¹ä¸€çœ‹æ²¡é—®é¢˜ï¼Œä½†æ˜¯ï¼Œé¢˜ç›®è¦æ±‚ä¸èƒ½ä½¿ç”¨ä¸¤ä¸ªç›¸åŒçš„æ•°ï¼Œä¾‹å¦‚è¾“å…¥ nums&#x3D;[3, 2, 4]ï¼Œtarget&#x3D;6 æ—¶ï¼Œä¸Šè¿°ä»£ç ä¼šè¿”å› [0, 0]ã€‚é—®é¢˜åœ¨äºæˆ‘ä»¬å…ˆæŠŠæ‰€æœ‰çš„æ•°éƒ½å­˜å…¥å“ˆå¸Œè¡¨äº†ï¼Œè¿™æ ·æŸ¥è¯¢ 3 çš„æ—¶å€™å°±ä¼šç›´æ¥è¿”å›ï¼Œè€Œä¸ä¼šå†å»æŸ¥è¯¢ 2ã€‚äº‹å®ä¸Šä¸éœ€è¦å°†æ‰€æœ‰çš„æ•°éƒ½é¢„å…ˆå­˜åˆ°å“ˆå¸Œè¡¨ä¸­ï¼Œè¿™æ˜¯å› ä¸ºå³ä½¿éå†åˆ° 2ï¼Œæ­¤æ—¶ 4 è¿˜æ²¡æœ‰åŠ å…¥å“ˆå¸Œè¡¨ï¼Œä½†æ˜¯éå†åˆ° 4 æ—¶ï¼Œ2 å·²ç»åŠ å…¥äº†ï¼Œæ‰€ä»¥ä¸€å®šä¼šæ‰¾åˆ°ç­”æ¡ˆã€‚ï¼ˆé¢˜ç›®ä¸­ä¹Ÿæš—ç¤ºå¯ä»¥æŒ‰ç…§ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆï¼‰\nclass Solution:    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:        d = dict()        for i in range(len(nums)):            if target - nums[i] in d:                return [i, d[target - nums[i]]]            d[nums[i]] = i\n\nå¯¹æ¯”ï¼š\n\nlist çš„å¤§å°æ˜¯å—é™åˆ¶çš„ï¼Œè€Œä¸”å¦‚æœå…ƒç´ å¾ˆå°‘ï¼Œè€Œå“ˆå¸Œå€¼å¤ªå¤§ä¼šé€ æˆå†…å­˜ç©ºé—´çš„æµªè´¹ã€‚\nset æ˜¯ä¸€ä¸ªé›†åˆï¼Œé‡Œé¢æ”¾çš„å…ƒç´ åªèƒ½æ˜¯ä¸€ä¸ªkeyï¼Œè€Œä¸¤æ•°ä¹‹å’Œè¿™é“é¢˜ç›®ï¼Œä¸ä»…è¦åˆ¤æ–­yæ˜¯å¦å­˜åœ¨è€Œä¸”è¿˜è¦è®°å½•yçš„ä¸‹æ ‡ä½ç½®ï¼Œå› ä¸ºè¦è¿”å›x å’Œ yçš„ä¸‹æ ‡ã€‚æ‰€ä»¥set ä¹Ÿä¸èƒ½ç”¨\n\n454. å››æ•°ç›¸åŠ  II\nlink\n\nç»™ä½ å››ä¸ªæ•´æ•°æ•°ç»„ nums1ã€nums2ã€nums3 å’Œ nums4 ï¼Œæ•°ç»„é•¿åº¦éƒ½æ˜¯ n ï¼Œè¯·ä½ è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ (i, j, k, l) èƒ½æ»¡è¶³ï¼š\n0 &lt;&#x3D; i, j, k, l &lt; nnums1[i] + nums2[j] + nums3[k] + nums4[l] &#x3D;&#x3D; 0\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šnums1 &#x3D; [1,2], nums2 &#x3D; [-2,-1], nums3 &#x3D; [-1,2], nums4 &#x3D; [0,2]è¾“å‡ºï¼š2è§£é‡Šï¼šä¸¤ä¸ªå…ƒç»„å¦‚ä¸‹ï¼š (0, 0, 0, 1) -&gt; nums1[0] + nums2[0] + nums3[0] + nums4[1] &#x3D; 1 + (-2) + (-1) + 2 &#x3D; 0 (1, 1, 0, 0) -&gt; nums1[1] + nums2[1] + nums3[0] + nums4[0] &#x3D; 2 + (-1) + (-1) + 0 &#x3D; 0  \n\næ€è·¯æ•°ç»„ä¸¤ä¸¤é…å¯¹ç›¸åŠ ï¼Œåˆ†åˆ«è®¡ç®—å‡ºå¯èƒ½çš„å’Œï¼Œç„¶åå°±é€€åŒ–æˆä¸¤æ•°ä¹‹å’Œã€‚æ³¨æ„ä¸¤ä¸ªæ•°ç»„çš„å’Œå¯èƒ½åˆå¤šç§å¯èƒ½ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ä½¿ç”¨ Counter ä½œä¸ºå“ˆå¸Œè¡¨ã€‚\nclass Solution:    def fourSumCount(self, nums1: List[int], nums2: List[int], nums3: List[int], nums4: List[int]) -&gt; int:        sum1 = Counter()        sum2 = Counter()        for i in nums1:            for j in nums2:                sum1[i + j] += 1                for i in nums3:            for j in nums4:                sum2[i + j] += 1        res = 0        for i in sum1:            if 0 - i in sum2:                res += sum2[0 - i]                return res","categories":["Leetcode"],"tags":["hash"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘å“ˆå¸Œè¡¨2","url":"/blog/Leetcode/hash3/","content":"383. èµé‡‘ä¿¡\nlink\n\nç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼šransomNote å’Œ magazine ï¼Œåˆ¤æ–­ ransomNote èƒ½ä¸èƒ½ç”± magazine é‡Œé¢çš„å­—ç¬¦æ„æˆã€‚\nå¦‚æœå¯ä»¥ï¼Œè¿”å› true ï¼›å¦åˆ™è¿”å› false ã€‚\nmagazine ä¸­çš„æ¯ä¸ªå­—ç¬¦åªèƒ½åœ¨ ransomNote ä¸­ä½¿ç”¨ä¸€æ¬¡ã€‚\næ€è·¯ç»Ÿè®¡ magazine å’Œ ransomNote ä¸­çš„å­—ç¬¦æ•°é‡ï¼Œç„¶åå†åˆ¤æ–­å¤§å°ï¼ˆç›´æ¥æ¯”è¾ƒ Counterï¼‰ã€‚\nclass Solution:    def canConstruct(self, ransomNote: str, magazine: str) -&gt; bool:        cm = Counter()        cr = Counter()        for i in magazine:            cm[i] += 1        for i in ransomNote:            cr[i] += 1                if cm &gt;= cr:            return True        else:            return False\n\n15. ä¸‰æ•°ä¹‹å’Œ\nlink\n\nç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ [nums[i], nums[j], nums[k]] æ»¡è¶³ i !&#x3D; jã€i !&#x3D; k ä¸” j !&#x3D; k ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ nums[i] + nums[j] + nums[k] &#x3D;&#x3D; 0 ã€‚è¯·ä½ è¿”å›æ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚\næ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šnums &#x3D; [-1,0,1,2,-1,-4]è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]è§£é‡Šï¼šnums[0] + nums[1] + nums[2] &#x3D; (-1) + 0 + 1 &#x3D; 0 ã€‚nums[1] + nums[2] + nums[4] &#x3D; 0 + 1 + (-1) &#x3D; 0 ã€‚nums[0] + nums[3] + nums[4] &#x3D; (-1) + 2 + (-1) &#x3D; 0 ã€‚ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚\n\næ€è·¯æœ¬é¢˜æ— æ³•ä½¿ç”¨ä¸‰é‡å¾ªç¯ã€‚å› ä¸ºå¦‚æœæ‰€æœ‰çš„æ•°éƒ½ä¸º 0ï¼Œåˆ™éœ€è¦éœ€è¦å¤§é‡å»é‡ã€‚\nã€Œä¸é‡å¤ã€çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬ä¿æŒä¸‰é‡å¾ªç¯çš„å¤§æ¡†æ¶ä¸å˜ï¼Œåªéœ€è¦ä¿è¯ï¼š\n\nç¬¬äºŒé‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´ ä¸å°äºå½“å‰ç¬¬ä¸€é‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´ ï¼› \nç¬¬ä¸‰é‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´ ä¸å°äºå½“å‰ç¬¬äºŒé‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´ ã€‚\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æšä¸¾çš„ä¸‰å…ƒç»„ (a,b,c) æ»¡è¶³ aâ‰¤bâ‰¤cï¼Œä¿è¯äº†åªæœ‰ (a,b,c) è¿™ä¸ªé¡ºåºä¼šè¢«æšä¸¾åˆ°ï¼Œè€Œ (b,a,c)ã€(c,b,a) ç­‰ç­‰è¿™äº›ä¸ä¼šï¼Œè¿™æ ·å°±å‡å°‘äº†é‡å¤ã€‚åŒæ—¶ï¼Œå¯¹äºæ¯ä¸€é‡å¾ªç¯è€Œè¨€ï¼Œç›¸é‚»ä¸¤æ¬¡æšä¸¾çš„å…ƒç´ ä¸èƒ½ç›¸åŒï¼Œå¦åˆ™ä¹Ÿä¼šé€ æˆé‡å¤ã€‚\nä½†æ˜¯ä¸Šè¿°æ–¹æ³•ä»ä¸ºä¸‰é‡å¾ªç¯ã€‚å¦‚æœæˆ‘ä»¬å›ºå®šäº†å‰ä¸¤é‡å¾ªç¯æšä¸¾åˆ°çš„å…ƒç´  a å’Œ bï¼Œé‚£ä¹ˆåªæœ‰å”¯ä¸€çš„ c æ»¡è¶³ a+b+c&#x3D;0ã€‚å½“ç¬¬äºŒé‡å¾ªç¯å¾€åæšä¸¾ä¸€ä¸ªå…ƒç´  bâ€™ æ—¶ï¼Œç”±äº bâ€™&gt;bï¼Œé‚£ä¹ˆæ»¡è¶³ a+bâ€™+câ€™&#x3D;0 çš„ câ€™ ä¸€å®šæœ‰ câ€™&lt;cï¼Œå³åœ¨æ•°ç»„ä¸­ä¸€å®šå‡ºç°åœ¨ c çš„å·¦ä¾§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä»å°åˆ°å¤§æšä¸¾ bï¼ŒåŒæ—¶ä»å¤§åˆ°å°æšä¸¾ cï¼Œå³ç¬¬äºŒé‡å¾ªç¯å’Œç¬¬ä¸‰é‡å¾ªç¯å®é™…ä¸Šæ˜¯å¹¶åˆ—çš„å…³ç³»ã€‚æ•…æšä¸¾ b ä¸ºå·¦æŒ‡é’ˆï¼Œæšä¸¾ c ä¸ºå³æŒ‡é’ˆã€‚\nfrom typing import Listclass Solution:    def threeSum(self, nums: List[int]) -&gt; List[List[int]]:        nums.sort()        res = []        for i in range(len(nums)):            if i &gt; 0 and nums[i] == nums[i - 1]:  # è·³è¿‡é‡å¤a                continue            left, right = i + 1, len(nums) - 1            while left &lt; right:                total = nums[i] + nums[left] + nums[right]                if total == 0:                    res.append([nums[i], nums[left], nums[right]])                    left += 1                    right -= 1                    # è·³è¿‡é‡å¤b                    while left &lt; right and nums[left] == nums[left - 1]:                        left += 1                    # è·³è¿‡é‡å¤c                    while left &lt; right and nums[right] == nums[right + 1]:                        right -= 1                elif total &lt; 0:                    left += 1                else:                    right -= 1        return res\n\næ€è€ƒä¸¤æ•°ä¹‹å’Œ èƒ½ä¸èƒ½ç”¨åŒæŒ‡é’ˆæ³•å‘¢ï¼Ÿ\n\nä¸¤æ•°ä¹‹å’Œä¸èƒ½ä½¿ç”¨åŒæŒ‡é’ˆæ³•ï¼Œå› ä¸º1.ä¸¤æ•°ä¹‹å’Œ (opens new window)è¦æ±‚è¿”å›çš„æ˜¯ç´¢å¼•ä¸‹æ ‡ï¼Œ è€ŒåŒæŒ‡é’ˆæ³•ä¸€å®šè¦æ’åºï¼Œä¸€æ—¦æ’åºä¹‹ååŸæ•°ç»„çš„ç´¢å¼•å°±è¢«æ”¹å˜äº†ã€‚\nå¦‚æœ1.ä¸¤æ•°ä¹‹å’Œ (opens new window)è¦æ±‚è¿”å›çš„æ˜¯æ•°å€¼çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆæ³•äº†\n18. å››æ•°ä¹‹å’Œ\nlink\n\nç»™ä½ ä¸€ä¸ªç”± n ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ nums ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ target ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ä¸”ä¸é‡å¤çš„å››å…ƒç»„ [nums[a], nums[b], nums[c], nums[d]] ï¼ˆè‹¥ä¸¤ä¸ªå››å…ƒç»„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå››å…ƒç»„é‡å¤ï¼‰ï¼š\n0 &lt;&#x3D; a, b, c, d &lt; naã€bã€c å’Œ d äº’ä¸ç›¸åŒnums[a] + nums[b] + nums[c] + nums[d] &#x3D;&#x3D; targetä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆ ã€‚\næ€è·¯ç±»ä¼¼äºä¸‰æ•°ä¹‹å’Œï¼ŒåŒæ ·æ˜¯ä½¿ç”¨åŒæŒ‡é’ˆæ³•å‡å°‘ä¸€å±‚å¾ªç¯ã€‚\nclass Solution:    def fourSum(self, nums: List[int], target: int) -&gt; List[List[int]]:        nums.sort()        res = []        for i in range(len(nums)):            if i &gt; 0 and nums[i] == nums[i-1]:                continue            for j in range(i + 1, len(nums)):                if j &gt; i + 1 and nums[j] == nums[j - 1]:                    continue                                left, right = j + 1, len(nums) - 1                while left &lt; right:                    total = nums[i] + nums[j] + nums[left] + nums[right]                    if total == target:                        res.append([nums[i], nums[j], nums[left], nums[right]])                        left += 1                        right -= 1                        while left &lt; right and nums[left] == nums[left - 1]:                            left += 1                                                while left &lt; right and nums[right] == nums[right + 1]:                            right -= 1                                        elif total &lt; target:                        left += 1                    else:                        right -= 1        return res","categories":["Leetcode"],"tags":["hash"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘é“¾è¡¨1-å®šä¹‰","url":"/blog/Leetcode/list1/","content":"é“¾è¡¨å®šä¹‰\næ€§èƒ½å¯¹æ¯”ï¼š\nclass ListNode:    def __init__(self, val, next=None):        self.val = val        self.next = next\n203.ç§»é™¤é“¾è¡¨å…ƒç´ \né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head å’Œä¸€ä¸ªæ•´æ•° val ï¼Œè¯·ä½ åˆ é™¤é“¾è¡¨ä¸­æ‰€æœ‰æ»¡è¶³ Node.val &#x3D;&#x3D; val çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å› æ–°çš„å¤´èŠ‚ç‚¹ ã€‚\næ–¹æ³•ä¸€ï¼šä¸ä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹å¦‚æœåˆ é™¤çš„æ—¶å¤´èŠ‚ç‚¹ï¼Œåˆ™éœ€è¦å•ç‹¬å¤„ç†ï¼Œå³ç›´æ¥å°†å¤´èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚\nclass Solution:    def removeElements(self, head: Optional[ListNode], val: int) -&gt; Optional[ListNode]:        new_head = head        cur = head        pre = None        while cur != None:                        if cur.val == val:                if pre == None:                    cur = cur.next                    new_head = cur                else:                    pre.next = cur.next                    cur = cur.next            else:                pre = cur                cur = cur.next        return new_head\n\næ–¹æ³•äºŒï¼šä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹è®¾ç½®ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹ï¼Œè¿™æ ·åŸé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹å°±éƒ½å¯ä»¥æŒ‰ç…§ç»Ÿä¸€çš„æ–¹å¼è¿›è¡Œç§»é™¤äº†ã€‚\nclass Solution:    def removeElements(self, head: Optional[ListNode], val: int) -&gt; Optional[ListNode]:        dummy_head = ListNode(0, head)        cur = head        pre = dummy_head        while cur != None:            if cur.val == val:                pre.next = cur.next            else:                pre = pre.next            cur = cur.next                return dummy_head.next\n\n707.è®¾è®¡é“¾è¡¨\né¢˜ç›®é“¾æ¥ link\n\nä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨å•é“¾è¡¨æˆ–è€…åŒé“¾è¡¨ï¼Œè®¾è®¡å¹¶å®ç°è‡ªå·±çš„é“¾è¡¨ã€‚\nå•é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å…·å¤‡ä¸¤ä¸ªå±æ€§ï¼šval å’Œ next ã€‚val æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œnext æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ&#x2F;å¼•ç”¨ã€‚\nå¦‚æœæ˜¯åŒå‘é“¾è¡¨ï¼Œåˆ™è¿˜éœ€è¦å±æ€§ prev ä»¥æŒ‡ç¤ºé“¾è¡¨ä¸­çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å‡è®¾é“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ä¸‹æ ‡ä» 0 å¼€å§‹ã€‚\nå®ç° MyLinkedList ç±»ï¼š\n\nMyLinkedList() åˆå§‹åŒ– MyLinkedList å¯¹è±¡ã€‚\nint get(int index) è·å–é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœä¸‹æ ‡æ— æ•ˆï¼Œåˆ™è¿”å› -1 ã€‚\nvoid addAtHead(int val) å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ã€‚åœ¨æ’å…¥å®Œæˆåï¼Œæ–°èŠ‚ç‚¹ä¼šæˆä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚\nvoid addAtTail(int val) å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨ä¸­ä½œä¸ºé“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚\nvoid addAtIndex(int index, int val) å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹ä¹‹å‰ã€‚å¦‚æœ index ç­‰äºé“¾è¡¨çš„é•¿åº¦ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹ä¼šè¢«è¿½åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚å¦‚æœ index æ¯”é•¿åº¦æ›´å¤§ï¼Œè¯¥èŠ‚ç‚¹å°† ä¸ä¼šæ’å…¥ åˆ°é“¾è¡¨ä¸­ã€‚\nvoid deleteAtIndex(int index) å¦‚æœä¸‹æ ‡æœ‰æ•ˆï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹ã€‚\n\nå•é“¾è¡¨æ³¨æ„ï¼Œåœ¨ addAtIndex æ–¹æ³•ä¸­ï¼Œéœ€è¦åˆ¤æ–­ index æ˜¯å¦ç­‰äº list çš„é•¿åº¦ï¼Œå¦‚æœç­‰äºçš„è¯å°±ç›´æ¥æ’å…¥åˆ°æœ«å°¾ã€‚ä½†æ˜¯åœ¨ while å¾ªç¯ä¸­ï¼Œä¹Ÿæœ‰ index &#x3D;&#x3D; i çš„åˆ¤æ–­ï¼Œè¿™æ ·ä¼šé‡å¤æ’å…¥ï¼ˆè¦†ç›–ï¼‰ï¼Œæ‰€ä»¥ while ä¸­æ’å…¥åï¼Œç›´æ¥ returnï¼ˆä¹‹å‰å†™çš„ breakï¼‰ã€‚\nclass MyLinkedList:    def __init__(self):        self.dummy_head = ListNode(0, None)    def get(self, index: int) -&gt; int:        i = 0        cur = self.dummy_head.next        while cur != None:            if index == i:                return cur.val            else:                cur = cur.next                i += 1        return -1    def addAtHead(self, val: int) -&gt; None:        new_node = ListNode(val, self.dummy_head.next)        self.dummy_head.next = new_node    def addAtTail(self, val: int) -&gt; None:        cur = self.dummy_head.next        pre = self.dummy_head        new_node = ListNode(val, None)        while cur != None:            cur = cur.next            pre = pre.next        pre.next = new_node    def addAtIndex(self, index: int, val: int) -&gt; None:        i = 0        cur = self.dummy_head.next        pre = self.dummy_head        while cur != None:            if index == i:                new_node = ListNode(val, cur)                pre.next = new_node                # è¿™é‡Œè¦å†™ returnï¼Œä¸èƒ½å†™ break                return            else:                i += 1                pre = pre.next                cur = cur.next            # print(i, cur.val)        if index == i:            new_node = ListNode(val, None)            pre.next = new_node            def deleteAtIndex(self, index: int) -&gt; None:        i = 0        cur = self.dummy_head.next        pre = self.dummy_head        while cur != None:            if index == i:                pre.next = cur.next                break            else:                i += 1                pre = pre.next                cur = cur.next\n\nå¯ä»¥å†å®šä¹‰ä¸€ä¸ª size å˜é‡ç”¨äºå­˜å‚¨ list çš„é•¿åº¦ï¼Œè¿™æ ·ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚\nåŒé“¾è¡¨","categories":["Leetcode"],"tags":["list"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘é“¾è¡¨2","url":"/blog/Leetcode/list2/","content":"206.åè½¬é“¾è¡¨\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚\nåŒæŒ‡é’ˆï¼ˆè¿­ä»£ï¼‰åªéœ€è¦æ”¹å˜é“¾è¡¨çš„nextæŒ‡é’ˆçš„æŒ‡å‘ï¼Œç›´æ¥å°†é“¾è¡¨åè½¬ï¼Œè€Œä¸ç”¨é‡æ–°å®šä¹‰ä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚\nclass Solution:    def reverseList(self, head: Optional[ListNode]) -&gt; Optional[ListNode]:        if head == None or head.next == None:            return head        pre = head        cur = head.next        head.next = None        while cur != None:            temp = cur.next            cur.next = pre            pre = cur            cur = temp                return pre\nä»¥ä¸Šä»£ç å•ç‹¬è€ƒè™‘äº†ç‰¹æ®Šæƒ…å†µï¼Œå®é™…ä¸Šå¯ä»¥å†™åœ¨ä¸€èµ·ï¼Œç›´æ¥å°† pre è®¾ç½®ä¸º Noneï¼Œcur è®¾ç½®ä¸º head å³å¯ã€‚\né€’å½’æ³•æœ¬è´¨ä¸Šæ˜¯å¤šæ¬¡å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼šå°†å½“å‰ cur.next èµ‹å€¼ä¸º preï¼Œç„¶åç§»åŠ¨ cur å’Œ preã€‚å¯ä»¥ä½¿ç”¨é€’å½’çš„æ–¹æ³•ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥å¤šæ¬¡å®Œæˆä¸Šè¿°è¿‡ç¨‹ã€‚\nclass Solution:    def reverseList(self, head: Optional[ListNode]) -&gt; Optional[ListNode]:        pre = None        cur = head        return self.reserve(pre, cur)    def reserve(self, pre, cur):        if cur == None:            return pre                temp = cur.next        cur.next = pre        pre = cur        cur = temp        return self.reserve(pre, cur)\n\n24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ä½ å¿…é¡»åœ¨ä¸ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼çš„æƒ…å†µä¸‹å®Œæˆæœ¬é¢˜ï¼ˆå³ï¼Œåªèƒ½è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ï¼‰ã€‚\nè¿­ä»£æ³•è®¾ç½®ä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œä¸¤ä¸¤äº¤æ¢ã€‚\nclass Solution:    def swapPairs(self, head: Optional[ListNode]) -&gt; Optional[ListNode]:        if head == None or head.next == None:            return head                dummy_head = ListNode(0, head)        pre = dummy_head        cur1 = head        cur2 = head.next        while True:            lat = cur2.next            cur2.next = cur1            cur1.next = lat            pre.next = cur2            if lat != None and lat.next != None:                pre = cur1                cur1 = lat                cur2 = lat.next                            else:                return dummy_head.next\n\n19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚\næ€è·¯ 1ç›´è§‚æ–¹æ³•ï¼Œå…ˆéå†ä¸€éï¼Œè·å–é“¾è¡¨çš„é•¿åº¦ï¼Œç„¶åå†éå†åˆ é™¤ã€‚\nclass Solution:    def removeNthFromEnd(self, head: Optional[ListNode], n: int) -&gt; Optional[ListNode]:        dummy_head = ListNode(0, head)        length = 0        cur = dummy_head.next        while cur != None:            length += 1            cur = cur.next        i = 0        cur = dummy_head.next        pre = dummy_head        while i &lt; length - n:            cur = cur.next            pre = pre.next            i += 1                pre.next = cur.next        return dummy_head.next\n\næ€è·¯ 2è¦æ±‚åªéå†ä¸€éé“¾è¡¨ï¼šåŒæŒ‡é’ˆçš„å…¸å‹åº”ç”¨ï¼Œå¦‚æœè¦åˆ é™¤å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹ï¼Œè®©fastç§»åŠ¨næ­¥ï¼Œç„¶åè®©fastå’ŒslowåŒæ—¶ç§»åŠ¨ï¼Œç›´åˆ°fastæŒ‡å‘é“¾è¡¨æœ«å°¾ã€‚åˆ æ‰slowæ‰€æŒ‡å‘çš„èŠ‚ç‚¹å°±å¯ä»¥äº†ã€‚ï¼ˆå‡è®¾é“¾è¡¨é•¿åº¦ä¸º lï¼Œfast ç§»åŠ¨äº† lï¼Œslow ç§»åŠ¨äº† l - n,ï¼‰\nclass Solution:    def removeNthFromEnd(self, head: Optional[ListNode], n: int) -&gt; Optional[ListNode]:        dummy_head = ListNode(0, head)        fast = dummy_head.next        slow = dummy_head.next        pre = dummy_head        i = 0        while fast != None:            if i &lt; n:                i += 1            else:                slow = slow.next                pre = pre.next            fast = fast.next                pre.next = slow.next        return dummy_head.next\n\né¢è¯•é¢˜ 02.07. é“¾è¡¨ç›¸äº¤\né¢˜ç›®é“¾æ¥ link\n\nç»™ä½ ä¸¤ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ headA å’Œ headB ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› null ã€‚\nç¤ºä¾‹ï¼š\nè¾“å…¥ä¸¤ä¸ª listï¼Œè¿”å›ä¸¤ä¸ª list ç›¸äº¤çš„èŠ‚ç‚¹ã€‚\næ€è·¯å¦‚æœä¸¤ä¸ª list æœ‰ç›¸äº¤çš„éƒ¨åˆ†ï¼Œé‚£ä¹ˆä¸€å®šåœ¨ list çš„ååŠéƒ¨åˆ†ï¼ˆå°¾éƒ¨å¯¹é½ï¼‰ã€‚é‚£ä¹ˆå¯ä»¥ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œé¦–å…ˆéå†ä¸¤ä¸ª list çš„é•¿åº¦ï¼Œæ‰¾åˆ°å…¶é•¿åº¦å·® difï¼Œè®© fast æŒ‡é’ˆåœ¨é•¿çš„ list ä¸Šå…ˆç§»åŠ¨ difï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆå†ä¸€èµ·ç§»åŠ¨ã€‚\nclass Solution:    def getIntersectionNode(self, headA: ListNode, headB: ListNode) -&gt; ListNode:        cur1 = headA        cur2 = headB        len1 = 0        len2 = 0        while cur1 != None:            len1 += 1            cur1 = cur1.next        while cur2 != None:            len2 += 1            cur2 = cur2.next                dif = abs(len2 -len1)        if len2 &gt; len1:            fast = headB            slow = headA        else:            fast = headA            slow = headB        for i in range(dif):            fast = fast.next                while fast != None:            if fast == slow:                return fast                        fast = fast.next            slow = slow.next                return None","categories":["Leetcode"],"tags":["list"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘é“¾è¡¨3","url":"/blog/Leetcode/list3/","content":"142.ç¯å½¢é“¾è¡¨II\né¢˜ç›®é“¾æ¥ link\n\nç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹  head ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› nullã€‚\nå¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª next æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚æ³¨æ„ï¼špos ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚\nä¸å…è®¸ä¿®æ”¹ é“¾è¡¨ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¿”å›çš„èŠ‚ç‚¹ä¸º 2\n\næ€è·¯ 1ï¼šå“ˆå¸Œè¡¨æŠŠé‡åˆ°çš„èŠ‚ç‚¹å­˜èµ·æ¥ï¼Œå¦‚æœé‡å¤é‡åˆ°äº†èŠ‚ç‚¹ï¼Œè¯´æ˜è¯¥èŠ‚ç‚¹æ˜¯ç¯çš„èµ·ç‚¹ã€‚\nclass Solution:    def detectCycle(self, head: Optional[ListNode]) -&gt; Optional[ListNode]:        cur = head        nodes = []        while cur != None:            if cur in nodes:                return cur            else:                nodes.append(cur)                cur = cur.next\n\næ€è·¯ 2ï¼šå¿«æ…¢æŒ‡é’ˆæ ¸å¿ƒæ€æƒ³ä¸ºï¼šæ…¢æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ ¼ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ ¼ï¼Œå¦‚æœå¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œåˆ™ä¸€å®šåœ¨ç¯ä¸Šã€‚ï¼ˆå¿«æŒ‡é’ˆè¿½ä¸Šæ…¢æŒ‡é’ˆï¼‰\næ€è·¯ 2-1å¿«æ…¢æŒ‡é’ˆç›¸é‡åï¼Œå…ˆè®©æ…¢æŒ‡é’ˆèµ°ä¸€åœˆå¾—åˆ°å…¶åœˆçš„é•¿åº¦ã€‚ç„¶åä»å¤´é‡æ–°å®šä¹‰å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆå…ˆèµ°åœˆçš„é•¿åº¦ï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆä¸€èµ·èµ°ï¼Œè¿™æ ·å°±ä¼šåœ¨åœˆçš„èµ·ç‚¹ç›¸é‡ã€‚å¦‚å›¾æ‰€ç¤ºï¼š\n\næ€è·¯ 2-2æ›´è¿›ä¸€æ­¥ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæ…¢æŒ‡é’ˆèµ°äº† bï¼Œå¿«æŒ‡é’ˆèµ°äº† b + ncï¼ˆn ä¸ºåœˆæ•°ï¼‰ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ ¼ï¼Œæ‰€ä»¥æœ‰ 2b &#x3D; b + ncï¼Œå³ b &#x3D; ncã€‚ç›¸å½“äºæ…¢æŒ‡é’ˆèµ°çš„æ€»é•¿åº¦ä¸ºåœˆé•¿åº¦çš„ n å€ã€‚ä½†æ˜¯ï¼Œæ…¢æŒ‡é’ˆèµ°çš„è·¯ç¨‹ä¸­ï¼ˆncï¼‰ä¸­ï¼Œæœ‰ä¸€æ®µä¸åœ¨ç¯ä¸­ï¼ˆå³è¦æ±‚çš„ aï¼‰ï¼Œæ‰€ä»¥è¯´ï¼Œè¿˜éœ€è¦å†èµ° a æ‰ç›¸å½“äºèµ°æ»¡äº† n åœˆã€‚\nç„¶åå†ä½¿ç”¨åŒæŒ‡é’ˆï¼Œåˆ†åˆ«ä»å¤´èŠ‚ç‚¹å’Œç›¸é‡èŠ‚ç‚¹å‡ºå‘ï¼Œä»–ä»¬ä¸€å®šä¼šåœ¨ç¯çš„èµ·ç‚¹ç›¸é‡ã€‚\næ€è·¯ 2-1 å¯ä»¥è®¤ä¸ºæ˜¯ç‰¹æ®Šæƒ…å†µï¼Œå…ˆæ±‚å‡ºç¯çš„é•¿åº¦ cï¼Œå¿«æŒ‡é’ˆå…ˆèµ° cï¼Œè¿˜éœ€è¦å†èµ° a æ‰èƒ½å›åˆ°ç¯çš„èµ·ç‚¹ï¼Œæ­¤æ—¶ä¸¤ä¸ªæŒ‡é’ˆåŒæ—¶ç§»åŠ¨ï¼Œç›¸é‡æ—¶åˆ™èµ°äº† aã€‚\n\nclass Solution:    def detectCycle(self, head: Optional[ListNode]) -&gt; Optional[ListNode]:        fast = head        slow = head        while fast != None and fast.next != None:            fast = fast.next.next            slow = slow.next            if fast == slow:                new_slow = head                while new_slow != slow:                    slow = slow.next                    new_slow = new_slow.next                                return new_slow                return None","categories":["Leetcode"],"tags":["list"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘å­—ç¬¦ä¸²1","url":"/blog/Leetcode/string1/","content":"344. åè½¬å­—ç¬¦ä¸²\nlink\n\nç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ s çš„å½¢å¼ç»™å‡ºã€‚\nä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šs &#x3D; [â€œhâ€,â€eâ€,â€lâ€,â€lâ€,â€oâ€]è¾“å‡ºï¼š[â€œoâ€,â€lâ€,â€lâ€,â€eâ€,â€hâ€]  \n\næ€è·¯ä»å¤´åˆ°å°¾ã€ä»å°¾åˆ°å¤´åŒæ—¶éå†ï¼Œç„¶åäº¤æ¢ã€‚\nclass Solution:    def reverseString(self, s: List[str]) -&gt; None:        &quot;&quot;&quot;        Do not return anything, modify s in-place instead.        &quot;&quot;&quot;        left = 0        right = len(s) - 1        while left &lt; right:            temp = s[left]            s[left] = s[right]            s[right] = temp            left += 1            right -= 1        \n\n541. åè½¬å­—ç¬¦ä¸² II\nlink\n\nç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° kï¼Œä»å­—ç¬¦ä¸²å¼€å¤´ç®—èµ·ï¼Œæ¯è®¡æ•°è‡³ 2k ä¸ªå­—ç¬¦ï¼Œå°±åè½¬è¿™ 2k å­—ç¬¦ä¸­çš„å‰ k ä¸ªå­—ç¬¦ã€‚\nå¦‚æœå‰©ä½™å­—ç¬¦å°‘äº k ä¸ªï¼Œåˆ™å°†å‰©ä½™å­—ç¬¦å…¨éƒ¨åè½¬ã€‚å¦‚æœå‰©ä½™å­—ç¬¦å°äº 2k ä½†å¤§äºæˆ–ç­‰äº k ä¸ªï¼Œåˆ™åè½¬å‰ k ä¸ªå­—ç¬¦ï¼Œå…¶ä½™å­—ç¬¦ä¿æŒåŸæ ·ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šs &#x3D; â€œabcdefgâ€, k &#x3D; 2è¾“å‡ºï¼šâ€bacdfegâ€\n\næ€è·¯æ¨¡æ‹Ÿè¿‡ç¨‹ï¼Œæ¯è¿‡ 2k ä¸ªæ­¥éª¤å°±å¤„ç†ä¸€æ¬¡\nclass Solution:    def reserve(self, s):        left = 0        right = len(s) - 1        while left &lt; right:            temp = s[left]            s[left] = s[right]            s[right] = temp            left += 1            right -= 1        return &quot;&quot;.join(s)    def reverseStr(self, s: str, k: int) -&gt; str:        s_list = list(s)        res = []        for i in range(0, len(s_list), 2 * k):            left = len(s_list) - i            if left &gt;= 2 * k:                res.append(self.reserve(s_list[i:i+k]))                res.append(&quot;&quot;.join(s_list[i+k:i+2*k]))            elif left &lt; 2 * k and left &gt;= k:                res.append(self.reserve(s_list[i:i+k]))                res.append(&quot;&quot;.join(s_list[i+k:]))            else:                res.append(self.reserve(s_list[i:]))                return &quot;&quot;.join(res)\n\næ›¿æ¢æ•°å­—\nlink\n\nç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œå®ƒåŒ…å«å°å†™å­—æ¯å’Œæ•°å­—å­—ç¬¦ï¼Œè¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå°†å­—ç¬¦ä¸²ä¸­çš„å­—æ¯å­—ç¬¦ä¿æŒä¸å˜ï¼Œè€Œå°†æ¯ä¸ªæ•°å­—å­—ç¬¦æ›¿æ¢ä¸ºnumberã€‚\nä¾‹å¦‚ï¼Œå¯¹äºè¾“å…¥å­—ç¬¦ä¸² â€œa1b2c3â€ï¼Œå‡½æ•°åº”è¯¥å°†å…¶è½¬æ¢ä¸º â€œanumberbnumbercnumberâ€ã€‚\næ€è·¯ç›´æ¥éå†ï¼Œç„¶åå°†ç»“æœå­˜åœ¨æ•°ç»„ä¸­å³å¯\nimport sysinput = sys.stdin.readdata = input()res = []for i in data:    if i.isdigit():        res.append(&quot;number&quot;)    else:        res.append(i)print(&quot;&quot;.join(res))\n\nè¿˜å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆçš„æ–¹æ³•ï¼Œå³é¦–å…ˆç¡®å®šæ•°å­—çš„æ•°é‡ï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«åœ¨åŸå­—ç¬¦ä¸²å’Œæ–°çš„ç»“æœ list ä¸Šç§»åŠ¨ã€‚\nimport sysinput = sys.stdin.readdata = input()num = 0for i in data:    if i.isdigit():        num += 1res = [&quot;0&quot;] * (num * 5 + len(data))j = 0s = &quot;number&quot;for i in range(len(data)):    if data[i].isdigit():        for index in range(len(s)):            res[j+index] = s[index]                j += 6    else:        res[j] = data[i]        j += 1print(&quot;&quot;.join(res))\n\nä¸Šè¿°ä»£ç æ˜¯ä»å‰å¾€åå¡«å……ï¼Œä½†æ˜¯æŸäº›é¢˜ç›®è¦æ±‚åœ¨åŸå¯¹è±¡ä¸Šä¿®æ”¹ï¼ˆæ‰©å®¹ä¹‹åï¼‰ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯ä»åå¾€å‰å¡«å……ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼š\n\n151.ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯\nlink\n\nç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ åè½¬å­—ç¬¦ä¸²ä¸­ å•è¯ çš„é¡ºåºã€‚\nå•è¯ æ˜¯ç”±éç©ºæ ¼å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²ã€‚s ä¸­ä½¿ç”¨è‡³å°‘ä¸€ä¸ªç©ºæ ¼å°†å­—ç¬¦ä¸²ä¸­çš„ å•è¯ åˆ†éš”å¼€ã€‚\nè¿”å› å•è¯ é¡ºåºé¢ å€’ä¸” å•è¯ ä¹‹é—´ç”¨å•ä¸ªç©ºæ ¼è¿æ¥çš„ç»“æœå­—ç¬¦ä¸²ã€‚\næ³¨æ„ï¼šè¾“å…¥å­—ç¬¦ä¸² sä¸­å¯èƒ½ä¼šå­˜åœ¨å‰å¯¼ç©ºæ ¼ã€å°¾éšç©ºæ ¼æˆ–è€…å•è¯é—´çš„å¤šä¸ªç©ºæ ¼ã€‚è¿”å›çš„ç»“æœå­—ç¬¦ä¸²ä¸­ï¼Œå•è¯é—´åº”å½“ä»…ç”¨å•ä¸ªç©ºæ ¼åˆ†éš”ï¼Œä¸”ä¸åŒ…å«ä»»ä½•é¢å¤–çš„ç©ºæ ¼ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šs &#x3D; â€œthe sky is blueâ€è¾“å‡ºï¼šâ€blue is sky theâ€  \n\næ€è·¯ç›¸å½“äºæ˜¯ä½¿ç”¨ split() ä¹‹ååœ¨å€’åºã€‚æ³¨æ„ï¼šsplit()ï¼šå¤šä¸ªç©ºæ ¼å½“æˆä¸€ä¸ªç©ºæ ¼ï¼›split(â€˜ â€˜)ï¼šå¤šä¸ªç©ºæ ¼éƒ½è¦åˆ†å‰²ï¼Œæ¯ä¸ªç©ºæ ¼åˆ†å‰²å‡ºæ¥ç©ºå­—ç¬¦ä¸²ã€‚ä½†æ˜¯è¦æˆ‘ä»¬è‡ªå·±å®ç° split() æ–¹æ³•ã€‚è¿™é‡Œä½¿ç”¨äº†åŒæŒ‡é’ˆæ¥åˆ¤æ–­å•è¯çš„èµ·å§‹ä½ç½®ï¼Œç„¶åæŠŠå•è¯å­˜èµ·æ¥ã€‚\nclass Solution:    def reverseWords(self, s: str) -&gt; str:                s_list = list(s)        slow = 0        fast = 0        res = []        while fast &lt; len(s):            if slow == fast:                 if s_list[slow] == &quot; &quot; :                    slow += 1                    fast += 1                elif fast == len(s) - 1:                    res.append(&quot;&quot;.join(s[slow:fast+1]))                    fast += 1                else:                    fast += 1            else:                if s_list[fast] == &quot; &quot;:                    res.append(&quot;&quot;.join(s[slow:fast]))                    slow = fast                elif fast == len(s) - 1:                    res.append(&quot;&quot;.join(s[slow:fast+1]))                    fast += 1                else:                    fast += 1        new_res = []        for i in range(len(res)-1, -1, -1):            new_res.append(res[i])        return &quot; &quot;.join(new_res)\n\nè¿›é˜¶å¦‚æœè¦æ±‚ç©ºé—´å¤æ‚åº¦ä¸º O(1) å‘¢ï¼Ÿç±»ä¼¼äºä¹‹å‰çš„ ç§»é™¤å…ƒç´  ï¼ŒåŒæ ·ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œåˆ é™¤å¤šä½™çš„ç©ºæ ¼ã€‚ç„¶åç¿»è½¬æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œå†éå†å…¶ä¸­çš„å•è¯ï¼ŒæŠŠå•è¯ç¿»è½¬å›æ¥ã€‚è§£é¢˜æ€è·¯å¦‚ä¸‹ï¼š\n\nç§»é™¤å¤šä½™ç©ºæ ¼\nå°†æ•´ä¸ªå­—ç¬¦ä¸²åè½¬\nå°†æ¯ä¸ªå•è¯åè½¬\n\nä¸¾ä¸ªä¾‹å­ï¼Œæºå­—ç¬¦ä¸²ä¸ºï¼šâ€ the sky is blue  â€œ\n\nç§»é™¤å¤šä½™ç©ºæ ¼ : â€œthe sky is blueâ€\nå­—ç¬¦ä¸²åè½¬ï¼šâ€eulb si yks ehtâ€\nå•è¯åè½¬ï¼šâ€blue is sky theâ€\n\nè¿™æ ·ç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œä½†æ˜¯ python çš„ string ä¸æ”¯æŒä¿®æ”¹ï¼Œæ‰€ä»¥å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º list æ¥è¿›è¡Œæ“ä½œã€‚\nå³æ—‹å­—ç¬¦ä¸²\nlink\n\nå­—ç¬¦ä¸²çš„å³æ—‹è½¬æ“ä½œæ˜¯æŠŠå­—ç¬¦ä¸²å°¾éƒ¨çš„è‹¥å¹²ä¸ªå­—ç¬¦è½¬ç§»åˆ°å­—ç¬¦ä¸²çš„å‰é¢ã€‚ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ­£æ•´æ•° kï¼Œè¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå°†å­—ç¬¦ä¸²ä¸­çš„åé¢ k ä¸ªå­—ç¬¦ç§»åˆ°å­—ç¬¦ä¸²çš„å‰é¢ï¼Œå®ç°å­—ç¬¦ä¸²çš„å³æ—‹è½¬æ“ä½œã€‚ \nä¾‹å¦‚ï¼Œå¯¹äºè¾“å…¥å­—ç¬¦ä¸² â€œabcdefgâ€ å’Œæ•´æ•° 2ï¼Œå‡½æ•°åº”è¯¥å°†å…¶è½¬æ¢ä¸º â€œfgabcdeâ€ã€‚\næ€è·¯ç®€å•çš„æƒ³æ³•è‚¯å®šæ˜¯ç”¨ä¸€ä¸ªæ–°çš„æ•°ç»„æ¥å­˜æ”¾ç»“æœã€‚ä½†æ˜¯å¦‚æœè¦æ±‚åœ¨åŸæœ‰çš„æ•°ç»„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥å‚è€ƒä¸Šä¸€é¢˜ä½¿ç”¨æ•´ä½“åè½¬+å±€éƒ¨åè½¬å°±å¯ä»¥å®ç°åè½¬å•è¯é¡ºåºçš„æ€æƒ³ã€‚å¦‚å›¾æ‰€ç¤ºï¼š\n\nå…¶å®ï¼Œæ€è·¯å°±æ˜¯ é€šè¿‡ æ•´ä½“å€’å™ï¼ŒæŠŠä¸¤æ®µå­ä¸²é¡ºåºé¢ å€’ï¼Œä¸¤ä¸ªæ®µå­ä¸²é‡Œçš„çš„å­—ç¬¦åœ¨å€’å™ä¸€æŠŠï¼Œè´Ÿè´Ÿå¾—æ­£ï¼Œè¿™æ ·å°±ä¸å½±å“å­ä¸²é‡Œé¢å­—ç¬¦çš„é¡ºåºäº†ã€‚\n","categories":["Leetcode"],"tags":["string"]},{"title":"ã€ä»£ç éšæƒ³å½•ã€‘å­—ç¬¦ä¸²2-KMPç®—æ³•","url":"/blog/Leetcode/string2/","content":"KMP ç®—æ³•KMPæœ‰ä»€ä¹ˆç”¨KMPçš„ç»å…¸æ€æƒ³å°±æ˜¯:å½“å‡ºç°å­—ç¬¦ä¸²ä¸åŒ¹é…æ—¶ï¼Œå¯ä»¥è®°å½•ä¸€éƒ¨åˆ†ä¹‹å‰å·²ç»åŒ¹é…çš„æ–‡æœ¬å†…å®¹ï¼Œåˆ©ç”¨è¿™äº›ä¿¡æ¯é¿å…ä»å¤´å†å»åšåŒ¹é…ã€‚æ‰€ä»¥å¦‚ä½•è®°å½•å·²ç»åŒ¹é…çš„æ–‡æœ¬å†…å®¹ï¼Œæ˜¯KMPçš„é‡ç‚¹ï¼Œä¹Ÿæ˜¯nextæ•°ç»„è‚©è´Ÿçš„é‡ä»»ã€‚\nnextæ•°ç»„å°±æ˜¯ä¸€ä¸ªå‰ç¼€è¡¨ï¼ˆprefix tableï¼‰ã€‚å‰ç¼€è¡¨æ˜¯ç”¨æ¥å›é€€çš„ï¼Œå®ƒè®°å½•äº†æ¨¡å¼ä¸²ä¸ä¸»ä¸²(æ–‡æœ¬ä¸²)ä¸åŒ¹é…çš„æ—¶å€™ï¼Œæ¨¡å¼ä¸²åº”è¯¥ä»å“ªé‡Œå¼€å§‹é‡æ–°åŒ¹é…ã€‚\nä¾‹å­ï¼šè¦åœ¨æ–‡æœ¬ä¸²ï¼šaabaabaafa ä¸­æŸ¥æ‰¾æ˜¯å¦å‡ºç°è¿‡ä¸€ä¸ªæ¨¡å¼ä¸²ï¼šaabaafã€‚\n\nå¯ä»¥çœ‹å‡ºï¼Œæ–‡æœ¬ä¸²ä¸­ç¬¬å…­ä¸ªå­—ç¬¦b å’Œ æ¨¡å¼ä¸²çš„ç¬¬å…­ä¸ªå­—ç¬¦fï¼Œä¸åŒ¹é…äº†ã€‚å¦‚æœæš´åŠ›åŒ¹é…ï¼Œå‘ç°ä¸åŒ¹é…ï¼Œæ­¤æ—¶å°±è¦ä»å¤´åŒ¹é…äº†ã€‚\nä½†å¦‚æœä½¿ç”¨å‰ç¼€è¡¨ï¼Œå°±ä¸ä¼šä»å¤´åŒ¹é…ï¼Œè€Œæ˜¯ä»ä¸Šæ¬¡å·²ç»åŒ¹é…çš„å†…å®¹å¼€å§‹åŒ¹é…ï¼Œæ‰¾åˆ°äº†æ¨¡å¼ä¸²ä¸­ç¬¬ä¸‰ä¸ªå­—ç¬¦bç»§ç»­å¼€å§‹åŒ¹é…ã€‚\nç†è§£ï¼šåœ¨å½“å‰å¯¹æ–‡æœ¬ä¸²å’Œæ¨¡å¼ä¸²æ£€ç´¢çš„è¿‡ç¨‹ä¸­ï¼Œè‹¥å‡ºç°äº†ä¸åŒ¹é…ï¼Œå¦‚ä½•å……åˆ†åˆ©ç”¨å·²ç»åŒ¹é…çš„éƒ¨åˆ†ã€‚åˆ°ä¸åŒ¹é…æ—¶ï¼Œæ‰¾åˆ°åŒ¹é…çš„å­—ç¬¦ä¸²ä¸­ï¼Œæœ€é•¿çš„ç›¸ç­‰çš„å‰åç¼€ã€‚ä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œå·²ç»åŒ¹é…äº† aabaaï¼Œä¸‹ä¸€ä¸ªä¸åŒ¹é…äº†ï¼Œæ‰¾åˆ°æœ€é•¿ç›¸ç­‰çš„å‰åç¼€ä¸º aaã€‚è¿™ä¸ª aa è¡¨ç¤ºï¼š\n\næ¨¡å¼ä¸²çš„å‰ä¸¤ä¸ª aa\nåŒ¹é…äº†çš„æ–‡æœ¬ä¸²çš„åä¸¤ä¸ª aa\n\nè¿™ä¸¤ä¸ªéƒ¨åˆ†æ˜¯ç›¸ç­‰çš„ï¼Œæ‰€ä»¥è¿™ä¸¤éƒ¨åˆ†ä¸ç”¨åŒ¹é…ï¼Œç›´æ¥ä» aa çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š\n\nnext æ•°ç»„å‚è€ƒè®²è§£ bilibiliï¼Œä»¥åŠå…¶ä¸­çš„è¯„è®ºï¼š  \n\nå€Ÿè§†é¢‘ä¸­ä¾‹å­è¯´æ˜ä¸€ä¸‹ prefix_len &#x3D; nextã€prefix_len - 1ã€‘ çš„åŸå› ã€‚ä¾‹å¦‚ï¼Œä¸² A B A C A B A Bã€€ã€€ã€€ã€€ 0 1 2 3 4 5 6 7æ‰«æåˆ° 6 å·ä½çš„ A æ—¶ï¼Œæœ€é•¿å…¬å…±å‰åç¼€æ˜¯ ABAï¼›è€Œæ‰«æåˆ° 7 å·ä½çš„ B æ—¶ï¼ŒABAC å’Œ ABAB ä¸åŒ¹é…äº†ï¼Œå³åŸæ¥çš„æœ€é•¿å…¬å…±å‰åç¼€å¤±é…ã€‚è¿™æ—¶å€™æˆ‘ä»¬è¦åšçš„äº‹æƒ…å°±æ˜¯ï¼Œæ‰¾ä¸Šä¸€æ¬¡åŒ¹é…ä¸­æ¬¡é•¿çš„å…¬å…±å‰åç¼€ï¼Œçœ‹ä¸ 7 å·ä½çš„ B æ‹¼æ¥èµ·æ¥æ˜¯å¦èƒ½åŒ¹é…ã€‚è¿™æ—¶å€™ï¼Œæ³¨æ„åˆ°ä¸Šä¸€æ¬¡æ‰«æä¸­ 0 ~ 2 ä½çš„ ABA æ˜¯å’Œ 4 ~ 6 ä½çš„ ABA å®Œå…¨ç›¸åŒçš„ï¼ˆè´ªå¿ƒåŸåˆ™ä¿è¯ä¸Šæ¬¡ç»“æœä¸€å®šæ˜¯åŒ…å«å‰ä¸€ä½ç½®å­—ç¬¦çš„æœ€é•¿å…¬å…±å‰åç¼€ï¼‰ï¼Œæ‰€ä»¥è€ƒå¯Ÿä¸Šä¸€æ¬¡åŒ¹é…ä¸­æ¬¡é•¿çš„å…¬å…±å‰åç¼€ï¼Œåªèƒ½åœ¨è€ƒå¯Ÿä¸Šä¸€æ¬¡åŒ¹é…ä¸­çš„æœ€é•¿å…¬å…±å‰åç¼€ä¸­è€ƒå¯Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½è€ƒå¯Ÿ ABA ä¸­æ›´çŸ­çš„ BAã€A æ˜¯å¦æ˜¯æ¬¡é•¿çš„ï¼Œè€Œè¿™ç›´æ¥åœ¨å‰é¢ä¸€ä¸ª ABA ä¸­è€ƒå¯Ÿéƒ½è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠ ABA C ABA ä¸­ä¸­é—´éƒ¨åˆ†ï¼ˆCï¼‰å’Œåç¼€ï¼ˆABAï¼‰ç›´æ¥æŠ›å¼ƒï¼Œç­‰æ•ˆäºä¸€ä¸ªä¸² ABAï¼ˆä¹Ÿå°±æ˜¯å‰ç¼€ï¼‰ä¸ B æ‹¼æ¥æˆ ABABã€‚è¿™æ ·å†æ¥è®¡ç®—ç¬¬ 7 ä½çš„ B çš„ next å€¼ï¼Œç­‰ä»·äºè®¡ç®— ABAB ç¬¬ 3 ä½çš„ B çš„ next å€¼ã€‚prefix_len &#x3D; nextã€prefix_len - 1ã€‘ ä¹Ÿå°±æ˜¯è¿™ä¸ªç­‰æ•ˆè¿‡ç¨‹çš„ä»£ç å±•ç¤ºã€‚  \n\nnext æ•°ç»„è¡¨ç¤ºçš„å°±æ˜¯ï¼šä¸‹æ ‡iä¹‹å‰ï¼ˆåŒ…æ‹¬iï¼‰çš„å­—ç¬¦ä¸²ä¸­ï¼Œæœ‰å¤šå¤§é•¿åº¦çš„ç›¸åŒå‰ç¼€åç¼€ã€‚\n\nåœ¨æ¯”è¾ƒæ—¶æ‰¾åˆ°çš„ä¸åŒ¹é…çš„ä½ç½®ï¼Œé‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬è¦çœ‹å®ƒçš„å‰ä¸€ä¸ªå­—ç¬¦çš„å‰ç¼€è¡¨çš„æ•°å€¼æ˜¯å¤šå°‘ã€‚ç„¶åç§»åŠ¨åˆ°å‰ç¼€è¡¨æ•°å€¼å¯¹åº”çš„ä¸‹æ ‡å¤„é‡æ–°å¼€å§‹åŒ¹é…ã€‚\nå¦‚ä½•è®¡ç®— next æ•°ç»„ï¼Ÿæ ¸å¿ƒæ˜¯â€œå›é€€â€ï¼Œåˆ©ç”¨å‰é¢è®¡ç®—å¥½çš„ next æ•°ç»„æ¥ç®€åŒ–è®¡ç®—ã€‚å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š\n\nåˆå§‹åŒ–\nå­—ç¬¦ç›¸åŒæ—¶\nå­—ç¬¦ä¸åŒæ—¶\n\nåˆå§‹åŒ–åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆï¼Œi è¡¨ç¤ºåç¼€çš„æœ«å°¾ï¼Œä» 1 å¼€å§‹ï¼›j è¡¨ç¤ºå‰ç¼€çš„æœ«å°¾ï¼ˆä¹Ÿè¡¨ç¤ºå‰ç¼€çš„é•¿åº¦ï¼‰ï¼Œä» 0 å¼€å§‹ã€‚æœ€å¼€å§‹ next[0] ä¸€å®šä¸º 0ï¼Œå› ä¸ºæ²¡æœ‰æ„ä¹‰ã€‚ç„¶å i éå† range(1, len(patt))ã€‚åˆ†åˆ«å¤„ç†ç›¸åŒå’Œä¸ç›¸åŒçš„æƒ…å†µã€‚ï¼ˆå…ˆç†è§£åé¢ä¸¤ç§æƒ…å†µï¼Œç„¶åå†ç†è§£ä¸ºä»€ä¹ˆè¿™æ ·åˆå§‹åŒ–ï¼‰\nå­—ç¬¦ç›¸åŒä¾‹å¦‚ï¼Œå·²ç»æ‰¾åˆ°äº†å½“å‰æœ€é•¿çš„ç›¸åŒå‰åç¼€ä¸º ABï¼Œæ­¤æ—¶ j&#x3D;1ï¼ˆBï¼‰ï¼Œi&#x3D;5ï¼ˆBï¼‰ã€‚åœ¨ä¸‹ä¸€è½®ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ç›¸åŒï¼Œå³ j&#x3D;2ï¼ˆAï¼‰ï¼Œi&#x3D;6ï¼ˆBï¼‰ï¼Œæ­¤æ—¶ç›¸åŒï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥å°†å‰ç¼€é•¿åº¦ jï¼ˆä¹Ÿç­‰äº next[i-1]ï¼Œä½†æ˜¯ä¸ºäº†ç»Ÿä¸€è¡¨è¾¾ï¼Œè¿˜æ˜¯ä½¿ç”¨ jï¼Œè¯¦è§ä¸‹é¢çš„æƒ…å†µï¼‰ åŠ ä¸€ä½œä¸ºå½“å‰çš„ next[i]ã€‚\nå­—ç¬¦ä¸åŒä¸Šä¸€æ­¥å·²ç»æ‰¾åˆ°æœ€é•¿çš„ç›¸åŒå‰åç¼€ä¸º ABAï¼Œä½†æ˜¯ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ç›¸åŒã€‚æ­¤æ—¶è¦åšçš„äº‹æƒ…æ˜¯ï¼Œæ‰¾ä¸Šä¸€æ¬¡åŒ¹é…ä¸­æ¬¡é•¿çš„ç›¸åŒå‰åç¼€ï¼Œçœ‹ä¸ i&#x3D;7 çš„ B æ‹¼æ¥èµ·æ¥æ˜¯å¦èƒ½åŒ¹é…ï¼ˆå› ä¸ºè¦ä½¿ç”¨ä¹‹å‰è®¡ç®—çš„ next æ•°ç»„ï¼Œæœ€é•¿çš„ä¸ç¬¦åˆå°±æ‰¾æ¬¡é•¿çš„ï¼‰ã€‚\nè€Œæ‰¾æ¬¡é•¿çš„ç›¸åŒå‰åç¼€ï¼Œç­‰ä»·ä»¥å½“å‰æœ€é•¿çš„ç›¸åŒå‰åç¼€ä¸ºå¯¹è±¡ï¼Œæ‰¾æœ€é•¿çš„ç›¸åŒå‰åç¼€ã€‚ï¼ˆä¹Ÿå°±æ˜¯å°† ABA çœ‹ä½œå•ç‹¬çš„å­—ç¬¦ä¸²ï¼Œæ‰¾ ABA çš„æœ€é•¿ç›¸åŒå­å­—ç¬¦ä¸²ï¼‰ã€‚å› ä¸ºæ¬¡é•¿çš„ç›¸åŒå‰åç¼€ä¸€å®šåœ¨æœ€é•¿çš„å‰åç¼€ä¸­ï¼ˆè´ªå¿ƒåŸåˆ™ï¼Œæ¯æ¬¡éƒ½æ˜¯åœ¨ä¸Šä¸€è½®æœ€é•¿å‰åç¼€çš„åŸºç¡€ä¸Šæ‰©å±•ï¼‰ã€‚\nè€Œ ABA çš„æœ€é•¿ç›¸åŒå‰åç¼€åœ¨ä¹‹å‰å·²ç»è®¡ç®—å¥½äº†ï¼Œä¸º next[j-1]ï¼ˆæ­¤æ—¶ j&#x3D;3ï¼‰ï¼ˆå·¦å›¾ï¼‰ã€‚æ‰€ä»¥ j å°±å›é€€åˆ°æ¬¡é•¿çš„ç›¸åŒå‰åç¼€å¤„ï¼ˆå›é€€å j&#x3D;1ï¼‰ï¼Œå†æ¬¡è¿›è¡Œæ¯”è¾ƒï¼ˆä¸­å›¾ï¼‰ã€‚æ­¤æ—¶å­—ç¬¦ç›¸åŒï¼Œå°±å¯ä»¥ç›´æ¥å°†å‰ç¼€é•¿åº¦ j åŠ ä¸€ä½œä¸ºå½“å‰çš„ next[i]ï¼ˆå³å›¾ï¼Œæ³¨æ„ï¼Œæ­¤æ—¶å°±ä¸èƒ½å†åƒä¸Šé¢é‚£ä¸ªæƒ…å†µä¸€æ ·ï¼Œä½¿ç”¨ next[i-1] æ¥èµ‹å€¼ï¼‰ã€‚\n\nè®¡ç®— next æ•°ç»„åœ¨éå† i æ—¶ï¼Œæ³¨æ„ for å’Œ while å¾ªç¯çš„ä¸åŒå†™æ³•ã€‚å› ä¸ºåœ¨å­—ç¬¦ä¸ç›¸åŒæ—¶ï¼Œj éœ€è¦å›é€€åˆ°æ¬¡é•¿ç›¸åŒå‰åç¼€çš„ä½ç½®æ¥å†æ¬¡æ¯”è¾ƒï¼Œå¦‚æœè¿˜æ˜¯ä¸ç›¸åŒè¿˜éœ€è¦å›é€€ã€‚æ‰€ä»¥ i çš„å€¼éœ€è¦æ‰‹åŠ¨æ§åˆ¶ï¼ˆä½¿ç”¨ while å¾ªç¯ï¼‰æˆ–è€…å¯¹å½“å‰ i è¿›è¡Œå¤šæ¬¡æ¯”è¾ƒï¼ˆfor å¾ªç¯ä¸­å†å¥—ä¸€å±‚ whileï¼‰ã€‚ä»£ç å¦‚ä¸‹ï¼š\ni = 1j = 0next = [0] * len(patt)while i &lt; len(patt):    if patt[i] == patt[j]:        next[i] = j + 1        j += 1        i += 1    else:        if j == 0:            next[i] = j            i += 1        else:            j = next[j - 1]\n\nj = 0next = [0] * len(patt)for i in range(1, len(patt)):    while j &gt; 0 and patt[i] != patt[j]:        j = next[j-1]    if patt[i] == patt[j]:        j += 1        next[i] = j\n\n28. å®ç° strStr()\nlink\n\nç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² haystack å’Œ needle ï¼Œè¯·ä½ åœ¨ haystack å­—ç¬¦ä¸²ä¸­æ‰¾å‡º needle å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚å¦‚æœ needle ä¸æ˜¯ haystack çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™è¿”å›  -1 ã€‚\nç¤ºä¾‹ 1ï¼š\n\nè¾“å…¥ï¼šhaystack &#x3D; â€œsadbutsadâ€, needle &#x3D; â€œsadâ€è¾“å‡ºï¼š0è§£é‡Šï¼šâ€sadâ€ åœ¨ä¸‹æ ‡ 0 å’Œ 6 å¤„åŒ¹é…ã€‚ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡æ˜¯ 0 ï¼Œæ‰€ä»¥è¿”å› 0 ã€‚\n\nç¤ºä¾‹ 2ï¼š\n\nè¾“å…¥ï¼šhaystack &#x3D; â€œleetcodeâ€, needle &#x3D; â€œleetoâ€è¾“å‡ºï¼š-1è§£é‡Šï¼šâ€leetoâ€ æ²¡æœ‰åœ¨ â€œleetcodeâ€ ä¸­å‡ºç°ï¼Œæ‰€ä»¥è¿”å› -1 ã€‚  \n\næ€è·¯KMP ç®—æ³•çš„åº”ç”¨ï¼Œè®¡ç®—å®Œ next æ•°ç»„åï¼Œå°±éœ€è¦è¿›è¡ŒåŒ¹é…ã€‚ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«åœ¨æ–‡æœ¬ä¸²å’Œæ¨¡å¼ä¸²ä¸Šç§»åŠ¨ï¼Œå½“ä¸åŒ¹é…æ—¶ï¼Œæ¨¡å¼ä¸²ä¸Šçš„æŒ‡é’ˆ j å°±å›é€€åˆ°å‰ä¸€ä½å¯¹åº”çš„ next æ•°ç»„çš„å€¼å¤„ï¼Œå³ j &#x3D; next[j-1]ã€‚ï¼ˆä»è¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œè®¡ç®— next æ•°ç»„æœ¬è´¨ä¸Šä¹Ÿæ˜¯ KMP ç®—æ³•ï¼ï¼‰\næ³¨æ„ä¸¤ç§å†™æ³•çš„è¿”å›å€¼ä¸ä¸€æ ·ï¼\nfor å†™æ³•ï¼ši æ˜¯åœ¨æ¯æ¬¡å¾ªç¯å¼€å§‹æ‰å¢åŠ ï¼Œåœ¨å¾ªç¯ä¸­ï¼Œj å…ˆå¢åŠ ï¼Œæ‰€ä»¥åˆ¤æ–­æ˜¯å¦éå†åˆ°æ¨¡å¼ä¸²æœ«å°¾æ—¶ï¼Œåªæœ‰ j å¢åŠ äº†ï¼Œæ‰€ä»¥è¿”å›éœ€è¦åŠ  1ã€‚\nclass Solution:    def strStr(self, haystack: str, needle: str) -&gt; int:        j = 0        next = [0] * len(needle)        for i in range(1, len(needle)):            while j &gt; 0 and needle[i] != needle[j]:                j = next[j-1]            if needle[i] == needle[j]:                j += 1                        next[i] = j                j = 0        i = 0        for i in range(len(haystack)):            while j &gt; 0 and haystack[i] != needle[j]:                j = next[j-1]            if haystack[i] == needle[j]:                j += 1            if j == len(needle):                return i - j + 1    return -1\n\nwhile å†™æ³•ï¼šwhile å¾ªç¯æ˜¯æˆ‘ä»¬è‡ªå·±æ§åˆ¶ i å’Œ j çš„å¢å‡ï¼Œæ‰€ä»¥å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œä»–ä»¬æ˜¯åŒæ—¶å¢åŠ çš„ã€‚æ‰€ä»¥åˆ¤æ–­æ˜¯å¦éå†åˆ°æ¨¡å¼ä¸²æœ«å°¾æ—¶ï¼Œä¸éœ€è¦åŠ  1ã€‚\nclass Solution:    def strStr(self, haystack: str, needle: str) -&gt; int:        j = 0        next = [0] * len(needle)        for i in range(1, len(needle)):            while j &gt; 0 and needle[i] != needle[j]:                j = next[j-1]            if needle[i] == needle[j]:                j += 1                        next[i] = j                j = 0        i = 0                    while i &lt; len(haystack):            if haystack[i] == needle[j]:                j += 1                i += 1            else:                if j == 0:                    i += 1                else:                    j = next[j-1]            if j == len(needle):                return i - j         return -1\n\n459. é‡å¤çš„å­å­—ç¬¦ä¸²\nlink\n\nç»™å®šä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸² s ï¼Œæ£€æŸ¥æ˜¯å¦å¯ä»¥é€šè¿‡ç”±å®ƒçš„ä¸€ä¸ªå­ä¸²é‡å¤å¤šæ¬¡æ„æˆã€‚\nç¤ºä¾‹ 1:\n\nè¾“å…¥: s &#x3D; â€œababâ€è¾“å‡º: trueè§£é‡Š: å¯ç”±å­ä¸² â€œabâ€ é‡å¤ä¸¤æ¬¡æ„æˆã€‚  \n\nç¤ºä¾‹ 2:\n\nè¾“å…¥: s &#x3D; â€œabaâ€è¾“å‡º: false  \n\næ€è·¯ 1å¯¹æ¯ä¸ªå­ä¸²éƒ½åº”ç”¨ KMP ç®—æ³•ï¼Œä¼˜åŒ–çš„ç‚¹ï¼š\n\nä¼ å…¥çš„ haystack ä¸²å¯ä»¥å»é™¤é€‰æ‹©çš„å­ä¸²\néå†å­ä¸²çš„æ—¶å€™ï¼Œå¦‚æœå‰©ä½™é•¿åº¦å°äºå­ä¸²é•¿åº¦ï¼Œåˆ™è·³è¿‡\nreturn çš„æ—¶æœºï¼š  \nä¸ç›¸ç­‰ç›´æ¥ return False\nä¸¤ä¸ªæŒ‡é’ˆåŒæ—¶æŒ‡å‘å„è‡ªå­—ç¬¦ä¸²çš„æœ«å°¾\n\n\n\nä½†æ˜¯ä¼šè¶…å‡ºæ—¶é—´é™åˆ¶\nclass Solution:    def kmp(self, haystack, needle):        j = 0        next = [0] * len(needle)        for i in range(1, len(needle)):            while j &gt; 0 and needle[i] != needle[j]:                j = next[j-1]            if needle[i] == needle[j]:                j += 1                        next[i] = j                j = 0        i = 0                    while i &lt; len(haystack):            if haystack[i] == needle[j]:                j += 1                i += 1            else:                return False            if j == len(needle):                if i == len(haystack):                    return True                else:                    j = 0    def repeatedSubstringPattern(self, s: str) -&gt; bool:        for i in range(len(s)):            left = len(s) - i - 1            if left &lt; i + 1:                return False                        if self.kmp(s[i+1:], s[0:i+1]):                return True        \næ€è·¯ 2ï¼šæš´åŠ›ä¸€ä¸ªforå¾ªç¯è·å– å­ä¸²çš„ç»ˆæ­¢ä½ç½®ï¼Œ ç„¶ååˆ¤æ–­å­ä¸²æ˜¯å¦èƒ½é‡å¤æ„æˆå­—ç¬¦ä¸²ï¼ŒåˆåµŒå¥—ä¸€ä¸ªforå¾ªç¯ï¼Œæ‰€ä»¥æ˜¯O(n^2)çš„æ—¶é—´å¤æ‚åº¦ã€‚\næ€è·¯ 3ï¼šç§»åŠ¨åŒ¹é…å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸² s ç”±å­ä¸²æ„æˆï¼Œé‚£ä¹ˆ s+s å»æ‰é¦–å°¾ä¹‹åä¸€å®šåŒ…å« sã€‚\néœ€è¦è¯æ˜å……è¦æ€§:ï¼ˆï¼Ÿï¼‰\n\nsÂ å¯ç”±æŸä¸ªéç©ºå­ä¸²é‡å¤Â kâ‰¥2Â æ¬¡æ„æˆ &lt;â€“&gt; sÂ æ˜¯Â (s+s)[1:âˆ’1]Â çš„ä¸€ä¸ªå­ä¸².\n\nå¯ä»¥ç›´æ¥ç”¨ inï¼Œä¹Ÿå¯ä»¥ç”¨ KMP å®ç°çš„ strStr()ã€‚\nclass Solution:    def strStr(self, haystack: str, needle: str) -&gt; int:        j = 0        next = [0] * len(needle)        for i in range(1, len(needle)):            while j &gt; 0 and needle[i] != needle[j]:                j = next[j-1]            if needle[i] == needle[j]:                j += 1                        next[i] = j                j = 0        i = 0                    while i &lt; len(haystack):            if haystack[i] == needle[j]:                j += 1                i += 1            else:                if j == 0:                    i += 1                else:                    j = next[j-1]            if j == len(needle):                return True        return False    def repeatedSubstringPattern(self, s: str) -&gt; bool:                ss = s + s        return self.strStr(ss[1:-1], s)\n\næ€è·¯ 4ï¼šKMPåœ¨ä¸€ä¸ªä¸²ä¸­æŸ¥æ‰¾æ˜¯å¦å‡ºç°è¿‡å¦ä¸€ä¸ªä¸²ï¼Œè¿™æ˜¯KMPçš„çœ‹å®¶æœ¬é¢†ã€‚KMPç®—æ³•ä¸­nextæ•°ç»„ä¸ºä»€ä¹ˆé‡åˆ°å­—ç¬¦ä¸åŒ¹é…çš„æ—¶å€™å¯ä»¥æ‰¾åˆ°ä¸Šä¸€ä¸ªåŒ¹é…è¿‡çš„ä½ç½®ç»§ç»­åŒ¹é…ï¼Œé çš„æ˜¯æœ‰è®¡ç®—å¥½çš„å‰ç¼€è¡¨ã€‚å‰ç¼€è¡¨é‡Œï¼Œç»Ÿè®¡äº†å„ä¸ªä½ç½®ä¸ºç»ˆç‚¹å­—ç¬¦ä¸²çš„æœ€é•¿ç›¸åŒå‰åç¼€çš„é•¿åº¦ã€‚é‚£ä¹ˆ æœ€é•¿ç›¸åŒå‰åç¼€å’Œé‡å¤å­ä¸²çš„å…³ç³»åˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ\nå­—ç¬¦ä¸²sæ˜¯ç”±é‡å¤å­ä¸²ç»„æˆ &lt;&#x3D;&#x3D;&#x3D;&gt; æœ€é•¿ç›¸ç­‰å‰åç¼€ä¸åŒ…å«çš„å­ä¸²æ˜¯å­—ç¬¦ä¸²sçš„æœ€å°é‡å¤å­ä¸²\n","categories":["Leetcode"],"tags":["string"]},{"title":"ã€ML2025ã€‘1-ç”Ÿæˆå¼äººå·¥æ™ºèƒ½","url":"/blog/ML2025/gen-AI/","content":"\næå®æ¯…è€å¸ˆã€Šæœºå™¨å­¦ä¹ ã€‹2025å­¦ä¹ è®°å½•\n\n\nç”Ÿæˆå¼äººå·¥æ™ºèƒ½æœ‰ä»€ä¹ˆæ ·çš„è¡Œä¸ºï¼Ÿ\nç°æœ‰çš„æ¨¡å‹é€šå¸¸ä¼šä½“ç°â€œæ€è€ƒâ€çš„è¿‡ç¨‹ï¼ˆè„‘å†…å°å‰§åœºï¼Ÿï¼Ÿï¼‰ã€‚\næœªæ¥ AI çš„å·¥ä½œä¸å†å±€é™äºâ€œä¸€é—®ä¸€ç­”â€ï¼Œå¾ˆå¤šä»»åŠ¡éœ€è¦å¤šä¸ªæ­¥éª¤æ¥å®Œæˆ â€“&gt; AI agent\nä½¿ç”¨ AI agent æ¥è®­ç»ƒæ¨¡å‹ï¼Ÿï¼Ÿ\n\nè¿ä½œæœºåˆ¶\nç”Ÿæˆå¼äººå·¥æ™ºèƒ½çš„åŸºæœ¬åŸç†ï¼šè¾“å…¥ä¸€æ®µ tokenï¼Œè¾“å‡ºå¦ä¸€æ®µ tokenã€‚ä»»ä½•äº‹ç‰©éƒ½å¯ä»¥ç”±å¤šä¸ª token è¡¨ç¤ºï¼š\nThose tokens were words, some of the tokens of course could now be images, or charts, or tables, songs â€¦ speech, videos. Those tokens could be anything.Â token å¯ä»¥æ˜¯å•è¯ï¼Œå›¾ç‰‡ã€è¡¨ã€æ­Œæ›²ã€å¯¹è¯ç­‰ç­‰â€¦â€¦\n\n\n\n\n\nä¸è®ºä»€ä¹ˆä»»åŠ¡ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ token åˆ° tokenã€‚\n\nå…·ä½“æ¥è¯´ï¼Œæ˜¯ç»™è¾“å…¥ token åºåˆ—ï¼Œé¢„æµ‹ä¸‹ä¸€ä¸ª tokenã€‚\nç„¶åå°†é¢„æµ‹çš„ token ä¸è¾“å…¥çš„ token åºåˆ—æ‹¼æ¥ï¼Œç„¶åå†æ¬¡è¾“å…¥åˆ°æ¨¡å‹ä¸­ï¼Œé¢„æµ‹ä¸‹ä¸€ä¸ª tokenï¼Œé‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°ç»“æŸã€‚\n\n\nä¾‹å¦‚ï¼Œè¾“å…¥å›¾åƒï¼Œè¾“å‡ºæ–‡å­—ï¼Œé‚£ä¹ˆ z å°±ä»£è¡¨æ‰€æœ‰æ–‡å­— token å’Œå›¾åƒ token çš„é›†åˆ\n\né€šå¸¸æ˜¯ä½¿ç”¨æ·±åº¦ç½‘ç»œæ¥é¢„æµ‹ä¸‹ä¸€ä¸ª tokenã€‚ä¸€ä¸ªä¸æ°å½“çš„æ¯”å–»ï¼Œå‡è®¾ä»»åŠ¡ä¸ºä¸‰ä¸ªæ•°å­—ç›¸åŠ ï¼Œæ¯ä¸€ä¸ªå±‚ä¸ºä¸€ä¸ªæŸ¥è¡¨æ“ä½œï¼Œå¦‚æœåªç”¨ä¸€ä¸ªå±‚ï¼Œé‚£ä¹ˆéœ€è¦å­˜10^3ç§å¯èƒ½ï¼Œå¦‚æœåˆ†ä¸ºä¸¤å±‚ï¼Œé‚£ä¹ˆåªéœ€è¦10*10+19*10ç§å¯èƒ½ã€‚\n\næœ¬è´¨ä¸Šï¼Œè®©æ¨¡å‹â€œæ€è€ƒâ€ï¼ˆreasonï¼‰ä¹Ÿæ˜¯ä¸€ç§â€œæ·±åº¦â€ã€‚\n\nå›°éš¾çš„é—®é¢˜éœ€è¦æ€è€ƒå¾ˆå¤šæ­¥ï¼Œlayer çš„æ·±åº¦ä¸å¤Ÿäº†ï¼Ÿ\næ·±åº¦ä¸å¤Ÿï¼Œé•¿åº¦æ¥å‡‘ï¼\n\n\n\nå†…å®¹æ˜¯æ€æ ·äº§ç”Ÿå‡ºæ¥çš„ï¼Ÿ\næˆ‘ä»¬è¦æ€æ ·å¾—åˆ°å¯ä»¥ç”Ÿæˆå†…å®¹çš„æ¨¡å‹ï¼Ÿä¸‰æ­¥èµ°ï¼\nFind Function with Unknown Parameters\nDefine Loss from Training Data\nOptimation\n\n\nç”Ÿæˆå¼æ¨¡å‹ä¹Ÿä¸æ˜¯æ–°çš„é—®é¢˜ï¼šä»â€œä¸“æ‰â€åˆ°â€œé€šæ‰â€çš„è½¬å˜\nå¦‚ä½•å®ç°è¿™ä¸ªè½¬å˜ï¼Ÿå¤§æ¦‚åŒ…å«ä»¥ä¸‹ä¸‰ä¸ªé˜¶æ®µ\né˜¶æ®µä¸€ï¼šè®­ç»ƒé€šç”¨çš„ç¼–ç å™¨ï¼Œåªèƒ½å°†è¾“å…¥ token è½¬æ¢ä¸º embeddingï¼Œè¦å®ç°ä¸‹æ¸¸ä»»åŠ¡ï¼Œéœ€è¦æ¥å¯¹åº”çš„è§£ç å™¨ã€‚  \né˜¶æ®µäºŒï¼šæ²¡é‚£ä¹ˆå¥½ç”¨çš„æ¨¡å‹ï¼Œåªèƒ½ç”Ÿæˆ tokenï¼Œéœ€è¦åœ¨ç‰¹å®šä»»åŠ¡ä¸Šå¾®è°ƒï¼ˆç›¸åŒæ¶æ„ï¼Œä¸åŒçš„å‚æ•°ï¼‰  \né˜¶æ®µä¸‰ï¼šå¤§æ¨¡å‹æ—¶ä»£ï¼ä¸€ä¸ªæ¨¡å‹å¯ä»¥è§£å†³æ‰€æœ‰çš„é—®é¢˜ï¼ˆç›¸åŒæ¶æ„ï¼Œç›¸åŒå‚æ•°ï¼‰  \n\n\n\nå¦‚ä½•èµ‹äºˆæ¨¡å‹æ–°çš„èƒ½åŠ›ï¼Ÿ\næ–¹æ³•1ï¼šå¾®è°ƒ\n\næ–¹æ³•2ï¼šæ¨¡å‹ç¼–è¾‘\n\næ–¹æ³•3ï¼šæ¨¡å‹åˆå¹¶\n\n\n","categories":["ML2025"],"tags":["ML"]},{"title":"Pycharm debug æ–¹æ³•è®°å½•","url":"/blog/Mark/debug/","content":"Pycharm è°ƒè¯•æŒ‰é’®\nå‚è€ƒé“¾æ¥\n\n\nstep overï¼ˆF8å¿«æ·é”®ï¼‰ï¼šåœ¨å•æ­¥æ‰§è¡Œæ—¶ï¼Œåœ¨å‡½æ•°å†…é‡åˆ°å­å‡½æ•°æ—¶ä¸ä¼šè¿›å…¥å­å‡½æ•°å†…å•æ­¥æ‰§è¡Œï¼Œè€Œæ˜¯å°†å­å‡½æ•°æ•´ä¸ªæ‰§è¡Œå®Œå†åœæ­¢ï¼Œä¹Ÿå°±æ˜¯æŠŠå­å‡½æ•°æ•´ä¸ªä½œä¸ºä¸€æ­¥ã€‚åœ¨ä¸å­˜åœ¨å­å‡½æ•°çš„æƒ…å†µä¸‹æ˜¯å’Œstep intoæ•ˆæœä¸€æ ·çš„ã€‚\nstep intoï¼ˆF7å¿«æ·é”®ï¼‰ï¼šåœ¨å•æ­¥æ‰§è¡Œæ—¶ï¼Œé‡åˆ°å­å‡½æ•°å°±è¿›å…¥å¹¶ä¸”ç»§ç»­å•æ­¥æ‰§è¡Œï¼Œæœ‰çš„ä¼šè·³åˆ°æºä»£ç é‡Œé¢å»æ‰§è¡Œã€‚\nstep into my codeï¼ˆAlt+Shift+F7å¿«æ·é”®ï¼‰ï¼šåœ¨å•æ­¥æ‰§è¡Œæ—¶ï¼Œé‡åˆ°å­å‡½æ•°å°±è¿›å…¥å¹¶ä¸”ç»§ç»­å•æ­¥æ‰§è¡Œï¼Œä¸ä¼šè¿›å…¥åˆ°æºç ä¸­ã€‚\nstep outï¼ˆShift+F8å¿«æ·é”®ï¼‰ï¼šå‡å¦‚è¿›å…¥äº†ä¸€ä¸ªå‡½æ•°ä½“ä¸­ï¼Œçœ‹äº†ä¸¤è¡Œä»£ç ï¼Œä¸æƒ³çœ‹äº†ï¼Œè·³å‡ºå½“å‰å‡½æ•°ä½“å†…ï¼Œè¿”å›åˆ°è°ƒç”¨æ­¤å‡½æ•°çš„åœ°æ–¹ã€‚\nResume program (F9å¿«æ·é”®)ï¼šæ¢å¤ç¨‹åºï¼Œç›´æ¥è¿è¡Œåˆ°ä¸‹ä¸€æ–­ç‚¹å¤„ã€‚è‹¥æ— ä¸‹ä¸€æ–­ç‚¹ï¼Œåˆ™ç›´æ¥è·‘å®Œç¨‹åºã€‚\n\nè°ƒè¯•æ—¶å¸¦å‚æ•°\nå‚è€ƒé“¾æ¥\n\n\nrun -&gt; edit configurations\næ–°å»ºé€‰æ‹© pythonï¼Œname éšä¾¿å†™ï¼Œscript é€‰æ‹©è¦ debug çš„æ–‡ä»¶ï¼Œä¸‹æ–¹å¡«è¦æ·»åŠ çš„å‚æ•°ï¼Œæœ€ä¸‹æ–¹é€‰æ‹© â€œdebugâ€ ç‚¹å‡»å³å¯\n\n\n\n\n","categories":["ç‹ ç‹ markä½"],"tags":["Python","Pytorch"]},{"title":"git timeout æŠ¥é”™443è§£å†³æ–¹æ³•","url":"/blog/Mark/git-443/","content":"\nå‚è€ƒé“¾æ¥\n\nè§£å†³æ–¹æ³•\næŸ¥çœ‹ä»£ç†çš„ç«¯å£å·ï¼ˆclash çš„ General èœå•ä¸­ï¼Œé»˜è®¤ä¸º7890ï¼‰\næŸ¥çœ‹å¹¶å–æ¶ˆ git çš„ http å’Œ https ä»£ç†// é¦–å…ˆï¼ŒæŸ¥ä¸€ä¸‹å½“å‰å…¨å±€çš„ http ä»£ç†ï¼šgit config --global http.proxy// å¦‚æœæœ‰ä»£ç†ï¼Œå°±å–æ¶ˆgit config --global --unset http.proxy // å†æŸ¥ https çš„ä»£ç†ï¼šgit config --global https.proxy// åŒæ ·çš„ï¼Œæœ‰å°±å–æ¶ˆgit config --global --unset https.proxy\nè®¾ç½®ä»£ç†//è®¾ç½®gitç«¯å£å·å’Œä¸Šé¢çš„ç«¯å£å·ä¿æŒä¸€è‡´git config --global http.proxy http://127.0.0.1:7890git config --global https.proxy https://127.0.0.1:7890\n\n","categories":["ç‹ ç‹ markä½"],"tags":["Git"]},{"title":"hexoåŸºæœ¬å‘½ä»¤","url":"/blog/Mark/hexo-command/","content":"å¿«é€Ÿå¼€å§‹åˆ›å»ºæ–°åšå®¢$ hexo new &quot;My New Post&quot;\n\n\nè¿è¡ŒæœåŠ¡å™¨$ hexo server\nåŠ¨æ€éƒ¨ç½²ï¼Œä¿®æ”¹ä»£ç å®æ—¶æ›´æ–°ã€‚\nç”Ÿæˆé™æ€æ–‡ä»¶$ hexo generate\n\nè¿œç«¯éƒ¨ç½²$ hexo deploy\n\n\næ¸…ç†ç¼“å­˜$ hexo clean\nDonâ€™t forget to clean cacheâ€¦\næ ‡ç­¾æ’ä»¶é“¾æ¥åˆ°å…¶ä»–åšå®¢é¡µé¢ä½¿ç”¨ post_link æ ‡ç­¾ã€‚æ³¨æ„è¦ä»¥ &#x2F;_posts æ–‡ä»¶å¤¹ä¸ºæ ¹è·¯å¾„ã€‚å³ä½¿ä¸¤ä¸ª post åœ¨åŒä¸€ä¸ªå­æ–‡ä»¶ä¸‹ï¼Œä¹Ÿéœ€è¦å†™å‡ºå­æ–‡ä»¶å¤¹çš„åå­—ï¼Œä¾‹å¦‚ä¸‹é¢çš„ hello-world é¡µé¢ä½äº _post æ–‡ä»¶å¤¹ä¸‹ï¼Œå°±ç›´æ¥å†™æ–‡ä»¶åã€‚\n&#123;% post_link ç›¸å¯¹è·¯å¾„ &#x27;é“¾æ¥æ–‡å­—&#x27; %&#125;&lt;!-- &#123;% post_link hello-world &#x27;è®¿é—®é¦–é¡µ&#x27; %&#125; --&gt;\nè®¿é—®é¦–é¡µ\n\nå¼•ç”¨å—å†™æ³• 1&#123;% blockquote [author[, source]] [link] [source_link_title] %&#125;content&#123;% endblockquote %&#125;\nexample\nhexo-officialä»£ç å—\n\nå†™æ³• 2&gt; &gt; &gt; \n\n\nè¿™æ˜¯å¼•ç”¨è¿™æ˜¯å¼•ç”¨  \n\næ³¨æ„è¿™ç§æ–¹æ³•çš„æ¯ä¸€è¡Œåé¢è¦æ‰“è¿ä¸¤ä¸ªç©ºæ ¼ï¼Œç”¨äºæ¢è¡Œ\nå†™æ³• 3æŸäº›æƒ…å†µä¸‹ï¼Œå¼•ç”¨å—ä¸­éœ€è¦ç¼©è¿›ï¼Œä¸Šé¢ä¸¤ç§æ–¹æ³•éƒ½æ— æ³•å¤„ç†ç¼©è¿›ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹æ ‡ç­¾ï¼š\n&lt;blockquote&gt;&lt;pre&gt;&lt;/pre&gt;&lt;/blockquote&gt;\n\n\næ— ç¼©è¿›\n    å››ä¸ªå­—ç¬¦ï¼ˆä¸€ä¸ª tabï¼‰ç¼©è¿›\n        å…«ä¸ªå­—ç¬¦ï¼ˆä¸¤ä¸ª tabï¼‰ç¼©è¿›\n\n\nä»£ç å—&#123;% codeblock %&#125;alert(&#x27;Hello World!&#x27;);&#123;% endcodeblock %&#125;\nç­‰åŒäºä½¿ç”¨åå¼•å· \n``` your code ``` \n\n\nHexoæ–°å»ºæ–‡ç« åˆ°å­ç›®å½•hexo new å‘½ä»¤è¯´æ˜ï¼š\nUsage: hexo new [layout] &lt;title&gt;Description:Create a new post.Arguments:  layout  Post layout. Use post, page, draft or whatever you want.  title   Post title. Wrap it with quotations to escape.Options:  -p, --path     Post path. Customize the path of the post.  -r, --replace  Replace the current post if existed.  -s, --slug     Post slug. Customize the URL of the post.\nä¾‹å¦‚ï¼Œåœ¨ 202411/ æ–‡ä»¶å¤¹ä¸‹æ–°å»º test.md æ–‡ä»¶\nhexo n -p 202411/test.md\n\n","categories":["ç‹ ç‹ markä½"],"tags":["Hexo"]},{"title":"Huggingface ç›¸å…³é—®é¢˜","url":"/blog/Mark/hf/","content":"æ›´æ¢ Huggingface æº\nexport HF_ENDPOINT&#x3D;https://hf-mirror.com\n\nä¸€é”®ä¸‹è½½ Huggingface æ¨¡å‹ä¸‹è½½ huggingface-cli ã€‚\n\nhuggingface-cli download model_name â€“local-dir .&#x2F;your_download_dir\n\nåªéœ€è¦æ›´æ”¹ model_name å’Œ ./your_download_dir ã€‚\n","categories":["ç‹ ç‹ markä½"],"tags":["LLM","Linux"]},{"title":"è®¾ç½®HTTPä»£ç†","url":"/blog/Mark/http-proxy/","content":"é—®é¢˜åœ¨ Ubuntu è®¾ç½®ä¸­å·²ç»ä½¿ç”¨äº†æ‰‹åŠ¨ä»£ç†ï¼Œä½†æ˜¯åœ¨ç»ˆç«¯ä¸­æ— æ•ˆ\nè§£å†³æ–¹æ³•Ubuntu çš„â€œè®¾ç½® â†’ ç½‘ç»œ â†’ ä»£ç†â€åªä¼šå½±å“ï¼š\n\nGNOME æ¡Œé¢ç¯å¢ƒä¸­çš„ å›¾å½¢åŒ–åº”ç”¨ç¨‹åºï¼ˆå¦‚ Firefoxã€Software Centerï¼‰\næŸäº›æ”¯æŒ GNOME D-Bus ä»£ç†è‡ªåŠ¨æ£€æµ‹çš„ GUI è½¯ä»¶\n\nä½†å®ƒä¸ä¼šè‡ªåŠ¨å½±å“ï¼š\n\nå‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚ curl, wget, git, pip, requests, huggingface_hubï¼‰\nPython&#x2F;Conda è„šæœ¬è¿è¡Œç¯å¢ƒ\nåå°æœåŠ¡è¿›ç¨‹ï¼ˆsystemd ç­‰ï¼‰\n\nè¿™äº›ç¨‹åºéœ€è¦é€šè¿‡ç¯å¢ƒå˜é‡æ˜¾å¼è·å–ä»£ç†è®¾ç½®ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š\nexport HTTP_PROXY=http://127.0.0.1:7890export HTTPS_PROXY=http://127.0.0.1:7890\nä½†æ˜¯ä¸Šè¿°å‘½ä»¤åªæ˜¯ä¸´æ—¶çš„ï¼Œåªå¯¹å½“å‰ç»ˆç«¯æœ‰æ•ˆã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å†™å…¥é…ç½®æ–‡ä»¶ï¼š\necho &quot;export HTTP_PROXY=http://127.0.0.1:7890&quot; &gt;&gt; ~/.bashrcecho &quot;export HTTPS_PROXY=http://127.0.0.1:7890&quot; &gt;&gt; ~/.bashrcsource ~/.bashrc\n","categories":["ç‹ ç‹ markä½"],"tags":["Linux"]},{"title":"Numpy æŠ¥é”™ï¼šnumpy is not available","url":"/blog/Mark/numpy/","content":"æè¿°æŠ¥é”™å¦‚ä¸‹ï¼š\n\nA module is compiled with numpy 1.X cannot be run in numpy 2.X\n\nè§£å†³æ–¹æ³•æ¢æ—§ç‰ˆæœ¬çš„ numpy\npip uninstall numpypip install numpy==1.25.3\n","categories":["ç‹ ç‹ markä½"],"tags":["Python","Pytorch"]},{"title":"Ubuntu å†…æ ¸ä¸ Nvidia é©±åŠ¨ä¸åŒ¹é…é—®é¢˜","url":"/blog/Mark/nvidia-kernal/","content":"\nä¸€å®šè¦å…³ç³»è‡ªåŠ¨æ›´æ–°ï¼ï¼\nå¸è½½å¹¶å®‰è£…é©±åŠ¨\nhttps://www.cnblogs.com/aliving/articles/18389099\n\n\næ›´æ”¹å†…æ ¸ç‰ˆæœ¬\nhttps://blog.csdn.net/damifeng/article/details/132985518\n\næŸ¥çœ‹å¯ä»¥å®‰è£…çš„å†…æ ¸ç‰ˆæœ¬ï¼ˆæœºå­ä¸Šæ›¾ç»ä¸‹è¿‡çš„ï¼Œä¸ä¼šåˆ é™¤ï¼‰\n\ndpkg â€“get-selections|grep linux\n\n\nä¸‹è½½æŒ‡å®šç‰ˆæœ¬\n  sudo apt-get install linux-image-xxx-genericsudo apt-get install linux-headers-xxx-genericsudo apt-get install linux-modules-xxx-genericsudo apt-get install linux-modules-extra-xxx-genericsudo apt-get install linux-tools-xxx-generic\næ›´æ–° initramfs\n\nsudo update-initramfs -u -k all\n\n\nä¿®æ”¹ grubï¼Œé€‰æ‹©æŒ‡å®šå†…æ ¸\n\nhttps://www.8kiz.cn/archives/14385.html\nå¼€æœºç‹‚æŒ‰ shiftï¼Œé€‰æ‹© advanced options\n\n\nä¸€å®šè¦\n  sudo update-grub\n\n\nåˆ é™¤ä¸‹è½½çš„å†…æ ¸ï¼ˆä¸æ˜¯çœŸçš„åˆ é™¤ï¼‰\nhttps://download.csdn.net/blog/column/12270246/130411204\n\n\n\n","categories":["ç‹ ç‹ markä½"],"tags":["Linux"]}]